[
  {
    "objectID": "posts/taxonomy/provider_taxonomy.html",
    "href": "posts/taxonomy/provider_taxonomy.html",
    "title": "Taxonomy Codes",
    "section": "",
    "text": "Purpose: Categorize health care providers by their type, classification, and specialization.\n\nMaintenance: National Uniform Claim Committee (NUCC). Updated twice a year, in January and July.\n\nApplication: Used in various healthcare processes, including:\n\nElectronic healthcare transactions\nNPI enumeration\nMedicare provider enrollment\nInsurance credentialing\nClaims processing\nDetermining network adequacy"
  },
  {
    "objectID": "posts/taxonomy/provider_taxonomy.html#key-points",
    "href": "posts/taxonomy/provider_taxonomy.html#key-points",
    "title": "Taxonomy Codes",
    "section": "",
    "text": "Purpose: Categorize health care providers by their type, classification, and specialization.\n\nMaintenance: National Uniform Claim Committee (NUCC). Updated twice a year, in January and July.\n\nApplication: Used in various healthcare processes, including:\n\nElectronic healthcare transactions\nNPI enumeration\nMedicare provider enrollment\nInsurance credentialing\nClaims processing\nDetermining network adequacy"
  },
  {
    "objectID": "posts/taxonomy/provider_taxonomy.html#overview",
    "href": "posts/taxonomy/provider_taxonomy.html#overview",
    "title": "Taxonomy Codes",
    "section": "Overview",
    "text": "Overview\nThe Health Care Provider Taxonomy Code Set is an external, non-medical data code set designed for use in an electronic environment, specifically within the ASC X12N Health Care transactions, including those mandated under HIPAA.\nA taxonomy code is a unique alphanumeric code, ten characters in length, that describes a health care service provider’s type, classification, and the area of specialization.\nTaxonomy codes are selected by the provider at the time of NPI registration. When providers apply for NPIs, the National Plan and Provider Enumeration System (NPPES) does not verify the accuracy of the selected taxonomy codes. It only validates that the codes exist within the current version of the code set.\nIt is important for healthcare providers to select the most appropriate taxonomy code(s) as it can affect various aspects of their practice, including billing and claims processing. Selection of a taxonomy code does not replace any credentialing or validation process that the provider requesting the code should complete."
  },
  {
    "objectID": "posts/taxonomy/provider_taxonomy.html#taxonomy-hierarchy",
    "href": "posts/taxonomy/provider_taxonomy.html#taxonomy-hierarchy",
    "title": "Taxonomy Codes",
    "section": "Taxonomy Hierarchy",
    "text": "Taxonomy Hierarchy\nThe code set is structured into 3 distinct levels:\n\nProvider Grouping\nClassification\nArea of Specialization\n\n\n\n\nInteractive Provider Taxonomy Hierarchy\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nLevel I: Provider Grouping\n\n\n\nA major grouping of service(s) or occupation(s) of health care providers.\nExamples:\n\nAllopathic & Osteopathic Physicians\nDental Providers\nHospitals\n\n\n\n\n\n\n\n\n\nLevel II: Classification\n\n\n\nA more specific service or occupation related to the Provider Grouping.\nFor example, the Classification for Allopathic & Osteopathic Physicians is based upon the General Specialty Certificates, as issued by the appropriate national boards.\nThe following boards, however, will have their general certificates appear as Level III Areas strictly due to display limitations of the code set for Boards that have multiple general certificates:\n\nMedical Genetics\nPreventive Medicine\nPsychiatry & Neurology\nRadiology\nSurgery\nOtolaryngology\nPathology\n\n\n\n\n\n\n\n\n\nLevel III: Area of Specialization\n\n\n\nA more specialized area of the Classification in which a provider chooses to practice or make services available.\nFor example, the Area of Specialization for provider grouping Allopathic & Osteopathic Physicians is based upon the Subspecialty Certificates as issued by the appropriate national boards."
  },
  {
    "objectID": "posts/taxonomy/provider_taxonomy.html#medicare-crosswalk",
    "href": "posts/taxonomy/provider_taxonomy.html#medicare-crosswalk",
    "title": "Taxonomy Codes",
    "section": "Medicare Crosswalk",
    "text": "Medicare Crosswalk\n\nProviders and suppliers with the proper taxonomy code eligible for Medicare programs.\n\nThe Medicare Provider and Supplier Taxonomy Crosswalk dataset lists the providers and suppliers eligible to enroll in Medicare programs with the proper healthcare provider taxonomy code. This data includes the Medicare specialty codes, if available, provider/supplier type description, taxonomy code, and the taxonomy description.\nFootnotes\n\n\n\n\n\n\n\n      Footnote\n    \n\n\n1\nMedicare no longer enrolls this provider type.\n\n\n2\nThis is an arrangement whereby immunization services are rendered by health care providers who are under contract to the entity/individual who is enrolled in Medicare as a Mass Immunization Roster Biller. The Healthcare Provider Taxonomy Code(s) would be that (those) of the health care provider(s) who render the immunization services.\n\n\n3\nMedicare carriers use Specialty Code 87 for Pharmacies when processing prescription drugs that are paid through the Medicare Physician Fee Schedule. However, the description for Specialty Code 87 remains All Other Suppliers.\n\n\n4\nBecause the Medicare Provider Type Physician/Undefined Physician Type applies to physicians,Unknown Supplier/Provider Specialty applies to other than physicians. Because Medicare does not enroll every non-physician supplier/provider type in the Healthcare Provider Taxonomy Code Set, we cannot arbitrarily link this Medicare Provider Type to all remaining supplier/provider types in the Healthcare Provider Taxonomy Code Set. In truth, this Medicare Provider Type would link to every Healthcare Provider Taxonomy Code (except those that describe physicians) that is listed in this document. We do not list them here because doing so would greatly increase the size of this document.\n\n\n5\nBecause the Medicare Provider Type indicates that the provider/supplier is a Physician, we have linked this to the most generic Allopathic & Osteopathic Physicians classification. It could technically link to every Allopathic & Osteopathic Physician.\n\n\n6\nMedicare specialty code designation is for Part B DMEPOS purposes.\n\n\n7\nMedicare specialty code designation is for Part B DMEPOS purposes.\n\n\n8\nMedicare specialty code designation is for Part B DMEPOS purposes.\n\n\n9\nMedicare specialty code designation is for Part B DMEPOS purposes.\n\n\n10\nMedicare specialty code designation is for Part B DMEPOS purposes.\n\n\n11\nMedicare specialty code designation is for Part B DMEPOS purposes.\n\n\n12\nThere is no linkage to specific Healthcare Provider Taxonomy Codes because an Indian Health Service facility can be various provider types/classifications.\n\n\n13\nMedicare specialty code designation is for Part B DMEPOS purposes.\n\n\n14\nDoes not meet the definition of health care provider at 45 CFR 160.103 is not eligible for an NPI.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nnote1\n      note2\n      \n        Medicare Specialty\n      \n      \n        Provider Taxonomy\n      \n    \n\nCode\n      Provider Type/Description\n      Code\n      Grouping\n      Classification\n      Specialization\n    \n\n\n\n—\n—\n01\nPhysician/General Practice\n208D00000X\nAllopathic & Osteopathic Physicians\nGeneral Practice\n—\n\n\n—\n—\n02\nPhysician/General Surgery\n208600000X\nAllopathic & Osteopathic Physicians\nSurgery\n—\n\n\n—\n—\n02\nPhysician/General Surgery\n2086H0002X\nAllopathic & Osteopathic Physicians\nSurgery\nHospice and Palliative Medicine\n\n\n—\n—\n02\nPhysician/General Surgery\n2086S0120X\nAllopathic & Osteopathic Physicians\nSurgery\nPediatric Surgery\n\n\n—\n—\n02\nPhysician/General Surgery\n2086S0122X\nAllopathic & Osteopathic Physicians\nSurgery\nPlastic and Reconstructive Surgery\n\n\n—\n—\n02\nPhysician/General Surgery\n2086S0105X\nAllopathic & Osteopathic Physicians\nSurgery\nSurgery of the Hand\n\n\n—\n—\n02\nPhysician/General Surgery\n2086S0102X\nAllopathic & Osteopathic Physicians\nSurgery\nSurgical Critical Care\n\n\n—\n—\n02\nPhysician/General Surgery\n2086X0206X\nAllopathic & Osteopathic Physicians\nSurgery\nSurgical Oncology\n\n\n—\n—\n02\nPhysician/General Surgery\n2086S0127X\nAllopathic & Osteopathic Physicians\nSurgery\nTrauma Surgery\n\n\n—\n—\n02\nPhysician/General Surgery\n2086S0129X\nAllopathic & Osteopathic Physicians\nSurgery\nVascular Surgery\n\n\n—\n—\n02\nPhysician/General Surgery\n208G00000X\nAllopathic & Osteopathic Physicians\nThoracic Surgery (Cardiothoracic Vascular Surgery)\n—\n\n\n—\n—\n02\nPhysician/General Surgery\n204F00000X\nAllopathic & Osteopathic Physicians\nTransplant Surgery\n—\n\n\n—\n—\n02\nPhysician/General Surgery\n208C00000X\nAllopathic & Osteopathic Physicians\nColon & Rectal Surgery\n—\n\n\n—\n—\n02\nPhysician/General Surgery\n207T00000X\nAllopathic & Osteopathic Physicians\nNeurological Surgery\n—\n\n\n—\n—\n02\nPhysician/General Surgery\n204E00000X\nAllopathic & Osteopathic Physicians\nOral & Maxillofacial Surgery\n—\n\n\n—\n—\n02\nPhysician/General Surgery\n207X00000X\nAllopathic & Osteopathic Physicians\nOrthopedic Surgery\n—\n\n\n—\n—\n02\nPhysician/General Surgery\n207XS0114X\nAllopathic & Osteopathic Physicians\nOrthopedic Surgery\nAdult Reconstructive Orthopedic Surgery\n\n\n—\n—\n02\nPhysician/General Surgery\n207XX0004X\nAllopathic & Osteopathic Physicians\nOrthopedic Surgery\nFoot and Ankle Surgery\n\n\n—\n—\n02\nPhysician/General Surgery\n207XS0106X\nAllopathic & Osteopathic Physicians\nOrthopedic Surgery\nHand Surgery\n\n\n—\n—\n02\nPhysician/General Surgery\n207XS0117X\nAllopathic & Osteopathic Physicians\nOrthopedic Surgery\nOrthopedic Surgery of the Spine\n\n\n—\n—\n02\nPhysician/General Surgery\n207XX0801X\nAllopathic & Osteopathic Physicians\nOrthopedic Surgery\nOrthopedic Trauma\n\n\n—\n—\n02\nPhysician/General Surgery\n207XP3100X\nAllopathic & Osteopathic Physicians\nOrthopedic Surgery\nPediatric Orthopedic Surgery\n\n\n—\n—\n02\nPhysician/General Surgery\n207XX0005X\nAllopathic & Osteopathic Physicians\nOrthopedic Surgery\nSports Medicine\n\n\n—\n—\n02\nPhysician/General Surgery\n208200000X\nAllopathic & Osteopathic Physicians\nPlastic Surgery\n—\n\n\n—\n—\n02\nPhysician/General Surgery\n2082S0099X\nAllopathic & Osteopathic Physicians\nPlastic Surgery\nPlastic Surgery Within the Head & Neck\n\n\n—\n—\n02\nPhysician/General Surgery\n2082S0105X\nAllopathic & Osteopathic Physicians\nPlastic Surgery\nSurgery of the Hand\n\n\n—\n—\n03\nPhysician/Allergy/ Immunology\n207K00000X \nAllopathic & Osteopathic Physicians\nAllergy and Immunology\n—\n\n\n—\n—\n03\nPhysician/Allergy/ Immunology\n207KA0200X\nAllopathic & Osteopathic Physicians\nAllergy and Immunology\nAllergy\n\n\n—\n—\n03\nPhysician/Allergy/ Immunology\n207KI0005X\nAllopathic & Osteopathic Physicians\nAllergy and Immunology\nClinical & Laboratory Immunology\n\n\n—\n—\n04\nPhysician/Otolaryngology\n207Y00000X \nAllopathic & Osteopathic Physicians\n Otolaryngology \n—"
  },
  {
    "objectID": "posts/taxonomy/provider_taxonomy.html#sources",
    "href": "posts/taxonomy/provider_taxonomy.html#sources",
    "title": "Taxonomy Codes",
    "section": "Sources",
    "text": "Sources\n\nHealth Care Provider Taxonomy Code Set v24.0 (PDF)\ntaxonomy.NUCC.org\nCMS.gov\nASAM.org\n\n\n\nsessioninfo::session_info()\n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.3.2 (2023-10-31 ucrt)\n os       Windows 11 x64 (build 22631)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  English_United States.utf8\n ctype    English_United States.utf8\n tz       America/Los_Angeles\n date     2024-08-25\n pandoc   3.1.11 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n\n─ Packages ───────────────────────────────────────────────────────────────────\n ! package         * version     date (UTC) lib source\n   backports         1.5.0       2024-05-23 [1] CRAN (R 4.3.2)\n   cachem            1.1.0       2024-05-16 [1] CRAN (R 4.3.3)\n   checkmate         2.3.2       2024-07-29 [1] CRAN (R 4.3.2)\n   cli               3.6.3.9000  2024-06-25 [1] Github (r-lib/cli@d9febb5)\n   collapsibleTree * 0.1.8       2023-11-13 [1] CRAN (R 4.3.3)\n   colorspace        2.1-1       2024-07-26 [1] CRAN (R 4.3.2)\n   curl              5.2.1       2024-03-01 [1] CRAN (R 4.3.2)\n   data.tree         1.1.0       2023-11-12 [1] CRAN (R 4.3.2)\n   digest            0.6.37      2024-08-19 [1] CRAN (R 4.3.2)\n   downlit         * 0.4.4       2024-06-10 [1] CRAN (R 4.3.2)\n   dplyr           * 1.1.4       2023-11-17 [1] CRAN (R 4.3.2)\n   ellipsis          0.3.2       2021-04-29 [1] CRAN (R 4.3.2)\n   evaluate          0.24.0      2024-06-10 [1] CRAN (R 4.3.2)\n   fansi             1.0.6       2023-12-08 [1] CRAN (R 4.3.2)\n   fastmap           1.2.0       2024-05-15 [1] CRAN (R 4.3.2)\n   forcats         * 1.0.0       2023-01-29 [1] CRAN (R 4.3.2)\n   fs                1.6.4       2024-04-25 [1] CRAN (R 4.3.3)\n   fuimus            0.0.2       2024-08-23 [1] Github (andrewallenbruce/fuimus@c029c8b)\n   generics          0.1.3       2022-07-05 [1] CRAN (R 4.3.2)\n   ggplot2         * 3.5.1       2024-04-23 [1] CRAN (R 4.3.2)\n   glue              1.7.0       2024-01-09 [1] CRAN (R 4.3.2)\n   gt                0.11.0      2024-07-09 [1] CRAN (R 4.3.3)\n   gtable            0.3.5       2024-04-22 [1] CRAN (R 4.3.3)\n   hms               1.1.3       2023-03-21 [1] CRAN (R 4.3.2)\n   htmltools       * 0.5.8.1     2024-04-04 [1] CRAN (R 4.3.2)\n   htmlwidgets       1.6.4       2023-12-06 [1] CRAN (R 4.3.2)\n   httr2             1.0.3       2024-08-22 [1] CRAN (R 4.3.2)\n   janitor           2.2.0       2023-02-02 [1] CRAN (R 4.3.2)\n   jsonlite          1.8.8       2023-12-04 [1] CRAN (R 4.3.2)\n   knitr             1.48        2024-07-07 [1] CRAN (R 4.3.3)\n   lifecycle         1.0.4       2023-11-07 [1] CRAN (R 4.3.2)\n   lubridate       * 1.9.3       2023-09-27 [1] CRAN (R 4.3.2)\n   magrittr          2.0.3       2022-03-30 [1] CRAN (R 4.3.2)\n   memoise           2.0.1       2021-11-26 [1] CRAN (R 4.3.2)\n   munsell           0.5.1       2024-04-01 [1] CRAN (R 4.3.3)\n   pillar            1.9.0       2023-03-22 [1] CRAN (R 4.3.2)\n   pins              1.3.0       2023-11-09 [1] CRAN (R 4.3.2)\n   pkgconfig         2.0.3       2019-09-22 [1] CRAN (R 4.3.2)\n   provider        * 0.0.1       2024-08-04 [1] Github (andrewallenbruce/provider@8ecaa9c)\n   purrr           * 1.0.2       2023-08-10 [1] CRAN (R 4.3.2)\n   qs                0.26.3      2024-05-16 [1] CRAN (R 4.3.3)\n   R6                2.5.1       2021-08-19 [1] CRAN (R 4.3.2)\n   ragg              1.3.2       2024-05-15 [1] CRAN (R 4.3.2)\n   RApiSerialize     0.1.3       2024-05-14 [1] CRAN (R 4.3.3)\n   rappdirs          0.3.3       2021-01-31 [1] CRAN (R 4.3.2)\n   Rcpp              1.0.13      2024-07-17 [1] CRAN (R 4.3.2)\n D RcppParallel      5.1.9       2024-08-19 [1] CRAN (R 4.3.2)\n   readr           * 2.1.5       2024-01-10 [1] CRAN (R 4.3.2)\n   rlang             1.1.4       2024-06-04 [1] CRAN (R 4.3.3)\n   rmarkdown         2.28        2024-08-17 [1] CRAN (R 4.3.3)\n   rstudioapi        0.16.0.9000 2024-06-04 [1] Github (rstudio/rstudioapi@a985492)\n   sass              0.4.9       2024-03-15 [1] CRAN (R 4.3.2)\n   scales            1.3.0       2023-11-28 [1] CRAN (R 4.3.2)\n   sessioninfo       1.2.2       2021-12-06 [1] CRAN (R 4.3.2)\n   snakecase         0.11.1      2023-08-27 [1] CRAN (R 4.3.2)\n   strex             2.0.0       2024-01-31 [1] CRAN (R 4.3.2)\n   stringfish        0.16.0      2023-11-28 [1] CRAN (R 4.3.2)\n   stringi           1.8.4       2024-05-06 [1] CRAN (R 4.3.3)\n   stringr         * 1.5.1       2023-11-14 [1] CRAN (R 4.3.2)\n   systemfonts       1.1.0       2024-05-15 [1] CRAN (R 4.3.2)\n   textshaping       0.4.0       2024-05-24 [1] CRAN (R 4.3.2)\n   tibble          * 3.2.1       2023-03-20 [1] CRAN (R 4.3.2)\n   tidyr           * 1.3.1       2024-01-24 [1] CRAN (R 4.3.2)\n   tidyselect        1.2.1       2024-03-11 [1] CRAN (R 4.3.3)\n   tidyverse       * 2.0.0       2023-02-22 [1] CRAN (R 4.3.2)\n   timechange        0.3.0       2024-01-18 [1] CRAN (R 4.3.2)\n   tzdb              0.4.0       2023-05-12 [1] CRAN (R 4.3.2)\n   utf8              1.2.4       2023-10-22 [1] CRAN (R 4.3.2)\n   vctrs             0.6.5       2023-12-01 [1] CRAN (R 4.3.2)\n   withr             3.0.1       2024-07-31 [1] CRAN (R 4.3.2)\n   xfun              0.47        2024-08-17 [1] CRAN (R 4.3.3)\n   xml2              1.3.6       2023-12-04 [1] CRAN (R 4.3.2)\n   yaml              2.3.10      2024-07-26 [1] CRAN (R 4.3.2)\n   zeallot           0.1.0       2018-01-28 [1] CRAN (R 4.3.2)\n\n [1] C:/Program Files/R/R-4.3.2/library\n\n D ── DLL MD5 mismatch, broken installation.\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "posts/npi/npi_constructor.html",
    "href": "posts/npi/npi_constructor.html",
    "title": "Building an NPI Constructor",
    "section": "",
    "text": "A National Provider Identifier (NPI) is a unique 10-digit identification number assigned to health care providers in the United States through NPPES1 The Centers for Medicare & Medicaid Services (CMS) developed the NPI as a way to standardize the identification of health care providers across the health care industry."
  },
  {
    "objectID": "posts/npi/npi_constructor.html#sec-requirements",
    "href": "posts/npi/npi_constructor.html#sec-requirements",
    "title": "Building an NPI Constructor",
    "section": "NPI Requirements",
    "text": "NPI Requirements\n\nMust consist of 10 numeric digits, with the 10th as the check digit.\nHave no embedded intelligence.\nBegin with a 1 or 2.2\nBe generated by a scattering algorithm using all possible numeric combinations.\nBe unique, without requiring database access for verification.\n2 Use of other first digits for the NPI must be coordinated with the use of first digits by the standard health plan identifier, when it is adopted."
  },
  {
    "objectID": "posts/npi/npi_constructor.html#sec-checkdigit",
    "href": "posts/npi/npi_constructor.html#sec-checkdigit",
    "title": "Building an NPI Constructor",
    "section": "NPI Check Digit",
    "text": "NPI Check Digit\nThe check digit is calculated using the Luhn formula for computing the modulus 10 double-add-double check digit.3\n3 This algorithm is recognized as an ISO standard (ISO/IEC 7812) and is the specified check digit algorithm to be used for the card issuer identifier on a standard health identification card.When an NPI is used as a card issuer identifier on a standard health identification card, it is prefixed with 80840, in which 80 indicates health applications and 840 indicates the United States. To enable this feature for any NPI, the check digit will always be calculated as if the prefix is present. For a non-prefixed NPI, this is accomplished by adding the constant 24 in step 2 of the calculation.\nCheck Digit Calculation\nThe calculation is as follows:\n\nBeginning with the rightmost digit, double the value of the alternate digits.\nAdd the individual digits of the products from Step 1 to the unaffected digits from the original number.\nSubtract the result of step 2 from the next highest number ending in zero. This is the check digit.\n\n\n\n\n\n\n\nNext Multiple of Ten\n\n\n\nThe next highest number ending in zero is the next multiple of ten.\nSpecifically, for some number n, the next multiple of ten would be n + (10 - (n \\mod 10)):\n\nnext_10 &lt;- \\(n) n + (10 - (n %% 10))\n\nFor example, if n is 23, the next multiple of ten is 30:\n\nnext_10(23)\n\n[1] 30\n\n\nIf n is a multiple of ten, such as 50, the next multiple of 10 is 60:\n\nnext_10(50)\n\n[1] 60\n\n\n\n\n\nExamples\nThe following check digit calculation examples are reproduced from the CMS Standard document, which includes demonstrations for both prefixed and non-prefixed NPIs.\n\n\nPrefix\nNon-Prefix\n\n\n\n\nAssume the prefixed 9-position identifier is 80840123456789\n\n\nprefix_id &lt;- \\(x, y) {\n  as.integer(\n    unlist(\n      strsplit(\n        paste0(x, y), \"\")\n      )\n    )\n}\n\nx &lt;- prefix_id(80840, 123456789)\n\nx\n\n [1] 8 0 8 4 0 1 2 3 4 5 6 7 8 9\n\n\n\nBeginning on the right, double the alternate digits: 8 0 8 8 0 2 2 6 4 10 6 14 8 18\n\n\nreverse_double &lt;- \\(x) {\n  \n  x &lt;- rev(x)\n  \n  idx &lt;- seq(1, length(x), 2)\n  \n  x[idx] &lt;- x[idx] * 2\n  \n  rev(x)\n}\n\nx &lt;- reverse_double(x)\n\nx\n\n [1]  8  0  8  8  0  2  2  6  4 10  6 14  8 18\n\n\n\nSum the individual digits: 8 + 0 + 8 + 8 + 0 + 2 + 2 + 6 + 4 + 1 + 0 + 6 + 1 + 4 + 8 + 1 + 8 = 67\n\n\nadd_digits &lt;- \\(x) {\n  sum(\n    as.integer(\n      unlist(\n        strsplit(\n          as.character(x), \"\")\n        )\n      )\n    )\n}\n\nx &lt;- add_digits(x)\n\nx\n\n[1] 67\n\n\n\nSubtract the sum from the next multiple of 10. This is the check digit: 70 – 67 = 3\n\n\ncheck_digit &lt;- \\(x) {\n  ceiling(x / 10) * 10 - x\n}\n\nx &lt;- check_digit(x)\n\nx\n\n[1] 3\n\n\n\nAppend the check digit to the identifier: 808401234567893\n\n\nappend_check &lt;- \\(id, chk) {\n  paste0(id, chk)\n}\n\nappend_check(80840123456789, x)\n\n[1] \"808401234567893\"\n\n\n\n\n\nAssume the non-prefixed 9-position identifier is 123456789\n\n\nnon_prefix &lt;- \\(x) {\n  as.integer(\n    unlist(\n      strsplit(\n        as.character(x), \"\"\n        )\n      )\n    )\n}\n\nx &lt;- non_prefix(123456789)\n\nx\n\n[1] 1 2 3 4 5 6 7 8 9\n\n\n\nBeginning on the right, double the alternate digits: 2  2  6  4 10  6 14  8 18\n\n\nreverse_double &lt;- \\(x) {\n  \n  x &lt;- rev(x)\n  \n  idx &lt;- seq(1, length(x), 2)\n  \n  x[idx] &lt;- x[idx] * 2\n  \n  rev(x)\n}\n\nx &lt;- reverse_double(x)\n\nx\n\n[1]  2  2  6  4 10  6 14  8 18\n\n\n\nAdd constant 24 to the sum of the individual digits: 2 + 2 + 6 + 4 + 1 + 0 + 6 + 1 + 4 + 8 + 1 + 8 + 24 = 67\n\n\nsum_plus_24 &lt;- \\(x) {\n  sum(\n    as.integer(\n      unlist(\n        strsplit(\n          as.character(x), \"\")\n        )\n      )\n    ) + 24\n}\n\nx &lt;- sum_plus_24(x)\n\nx\n\n[1] 67\n\n\n\nSubtract the sum from the next multiple of 10. This is the check digit: 70 – 67 = 3\n\n\ncheck_digit &lt;- \\(x) {\n  ceiling(x / 10) * 10 - x\n}\n\nx &lt;- check_digit(x)\n\nx\n\n[1] 3\n\n\n\nAppend the check digit to the identifier: 1234567893\n\n\nappend_check &lt;- \\(id, chk) {\n  paste0(id, chk)\n}\n\nappend_check(123456789, x)\n\n[1] \"1234567893\""
  },
  {
    "objectID": "posts/npi/npi_constructor.html#validating-the-input",
    "href": "posts/npi/npi_constructor.html#validating-the-input",
    "title": "Building an NPI Constructor",
    "section": "Validating the Input",
    "text": "Validating the Input\n\nInput string (x) validation order:\n\nAbort if not length(x) == 1\n\nAbort if not 10 characters long\nAbort if any elements of x are not 0-9\n\nAbort if first element is not \"1\" or \"2\"\n\nCoerce to &lt;character&gt; if x is a &lt;numeric&gt; vector\n\n\n\n\n\n\ninput_validation.R\n\n# Abort if `x` is `length(x) != 1`\ncheck_length &lt;- function(x) {\n  \n  arg  &lt;- rlang::caller_arg(x)\n  call &lt;- rlang::caller_env()\n  \n  if (length(x) != 1) {\n    cli::cli_abort(\n      \"{.arg {arg}} must be of length 1.\", \n      arg = arg, \n      call = call,\n      class = \"check_length\"\n      )\n  }\n}\n\n# If `x` is a `&lt;numeric&gt;` \n# vector, coerce to `&lt;character&gt;`\nnumeric_to_char &lt;- function(x) {\n  if (!rlang::is_character(x)) { \n    as.character(x)\n  } else {\n    x  \n  }\n}\n\n# Abort if any of `x`'s \n# elements are not numbers\ncheck_chars_numeric &lt;- function(x) {\n  \n  arg  &lt;- rlang::caller_arg(x)\n  call &lt;- rlang::caller_env()\n  \n  if (!stringfish::sf_grepl(x, \"^[[:digit:]]+$\")) {\n    cli::cli_abort(\n      \"An {.arg {arg}} must contain numbers only.\", \n      arg = arg, \n      call = call,\n      class = \"check_chars_numeric\"\n      )\n  }\n}\n\n# Abort if `x` is not \n# 10 characters long\ncheck_nchars_10 &lt;- function(x) {\n  \n  arg  &lt;- rlang::caller_arg(x)\n  call &lt;- rlang::caller_env()\n  \n  if (stringfish::sf_nchar(x) != 10L) {\n    cli::cli_abort(\n      \"An {.arg {arg}} must be 10 characters long.\", \n      arg = arg, \n      call = call,\n      class = \"check_nchars_10\"\n      )\n  }\n}\n\n# Must begin with 1 or 2\ncheck_first_char &lt;- function(x) {\n  \n  arg  &lt;- rlang::caller_arg(x)\n  call &lt;- rlang::caller_env()\n  \n  if (!stringfish::sf_substr(x, 1, 1) %in% c(\"1\", \"2\")) {\n    cli::cli_abort(\n      \"An {.arg {arg}} must start with a 1 or 2.\", \n      arg = arg, \n      call = call,\n      class = \"check_first_char\"\n      )\n  }\n}"
  },
  {
    "objectID": "posts/npi/npi_constructor.html#cli-messages",
    "href": "posts/npi/npi_constructor.html#cli-messages",
    "title": "Building an NPI Constructor",
    "section": "CLI Messages",
    "text": "CLI Messages\n\n\n\ncli_messages.R\n\nnpi_inform &lt;- function(x, msg) {\n  \n  arg  &lt;- rlang::caller_arg(x)\n  call &lt;- rlang::caller_env()\n  \n  rlang::inform(\n    message = (\n      c(\"*\" = glue::glue(\"{msg}: {x}\"))),\n    use_cli_format = TRUE,\n    arg = arg,\n    call = call,\n    class = \"npi_inform\"\n  )\n}\n\nnpi_alert_invalid &lt;- function(x, y) {\n  \n  arg  &lt;- rlang::caller_arg(x)\n  call &lt;- rlang::caller_env()\n  \n  rlang::inform(\n    message = (c(\"x\" = \"NPI is invalid\")),\n    body = (c(\"!\" = glue::glue(\"{x} != {y}\"))),\n    use_cli_format = TRUE,\n    arg = arg,\n    call = call,\n    class = \"npi_alert_invalid\"\n  )\n}\n\nnpi_alert_valid &lt;- function(x, y) {\n  \n  arg  &lt;- rlang::caller_arg(x)\n  call &lt;- rlang::caller_env()\n  \n  rlang::inform(\n    message = (c(\"v\" = \"NPI is valid\")),\n    body = (c(\"&gt;\" = glue::glue(\"{x} == {y}\"))),\n    use_cli_format = TRUE,\n    arg = arg,\n    call = call,\n    class = \"npi_alert_valid\"\n  )\n}"
  },
  {
    "objectID": "posts/npi/npi_constructor.html#constructor-function",
    "href": "posts/npi/npi_constructor.html#constructor-function",
    "title": "Building an NPI Constructor",
    "section": "Constructor Function",
    "text": "Constructor Function\n\n\n\nnpi_constructor.R\n\nnpi_constructor &lt;- function(npi, verbose = TRUE) {\n  \n  npi &lt;- numeric_to_char(npi)\n  check_length(npi)\n  check_chars_numeric(npi)\n  check_nchars_10(npi)\n  check_first_char(npi)\n  \n  p &lt;- \\(...) paste0(...)\n  s &lt;- \\(x) unlist(strsplit(x, \"\"), use.names = FALSE)\n  \n  id &lt;- rev(s(npi)[1:9])\n  \n  if (verbose) {\n    npi_inform(npi, \"Testing NPI candidate\")\n    npi_inform(p(id, collapse = \"\"), \"Reverse 9-digit identifier\")\n  }\n  \n  idx     &lt;- seq(1, length(id), 2)\n  id      &lt;- as.numeric(id)\n  id[idx] &lt;- as.numeric(id[idx]) * 2\n  id[idx] &lt;- ifelse(id[idx] &gt; 9, id[idx] - 9, id[idx])\n  \n  if (verbose) {\n    npi_inform(p(id, collapse = \" \"), \"Double & reduce alternates\")\n  }\n  \n  id   &lt;- sum(id)\n  cn   &lt;- id + 24\n  ml   &lt;- ceiling(cn / 10) * 10\n  ck   &lt;- ml - cn\n  test &lt;- substr(npi, 1, 9)\n  test &lt;- p(test, ck)\n  \n  if (verbose) {\n    \n    npi_inform(p(p(c(id, 24), collapse = \" + \"), p(\" = \", cn)), \"Add 24 to sum digits\")\n    npi_inform(p(p(\"⌈\", cn, \"⌉\"), p(\" = \", ml)) ,\"Next multiple of 10\")\n    npi_inform(p(p(c(ml, cn), collapse = \" - \"), p(\" = \", ck)), \"Find check digit\")\n    npi_inform(p(test, collapse = \"\"), \"Append check digit\")\n    \n    if (identical(test, npi)) npi_alert_valid(test, npi)\n    if (!identical(test, npi)) npi_alert_invalid(test, npi)\n  }\n  invisible(test)\n}\n\n\nTest Validations\n\nnpi_constructor(\"123456789\")\n\nError in `npi_constructor()`:\n! An `npi` must be 10 characters long.\n\nnpi_constructor(\"O123456789\")\n\nError in `npi_constructor()`:\n! An `npi` must contain numbers only.\n\nnpi_constructor(\"0000000000\")\n\nError in `npi_constructor()`:\n! An `npi` must start with a 1 or 2.\n\n\nTest Verbose Output\n\nnpi_constructor(1234567891)\n\n• Testing NPI candidate: 1234567891\n• Reverse 9-digit identifier: 987654321\n• Double & reduce alternates: 9 8 5 6 1 4 6 2 2\n• Add 24 to sum digits: 43 + 24 = 67\n• Next multiple of 10: ⌈67⌉ = 70\n• Find check digit: 70 - 67 = 3\n• Append check digit: 1234567893\n✖ NPI is invalid\n\n\n\nnpi_constructor(1043477615)\n\n• Testing NPI candidate: 1043477615\n• Reverse 9-digit identifier: 167743401\n• Double & reduce alternates: 2 6 5 7 8 3 8 0 2\n• Add 24 to sum digits: 41 + 24 = 65\n• Next multiple of 10: ⌈65⌉ = 70\n• Find check digit: 70 - 65 = 5\n• Append check digit: 1043477615\n✔ NPI is valid\n\n\n\nnpi_constructor(1000000000)\n\n• Testing NPI candidate: 1000000000\n• Reverse 9-digit identifier: 000000001\n• Double & reduce alternates: 0 0 0 0 0 0 0 0 2\n• Add 24 to sum digits: 2 + 24 = 26\n• Next multiple of 10: ⌈26⌉ = 30\n• Find check digit: 30 - 26 = 4\n• Append check digit: 1000000004\n✖ NPI is invalid\n\n\nTest Verbose Option\n\nnpi_constructor(1000000000, verbose = FALSE)\n\nTest Invisible Return\n\nnew_npi &lt;- npi_constructor(1000000000, verbose = FALSE)\n\nnew_npi\n\n[1] \"1000000004\""
  },
  {
    "objectID": "posts/npi/npi_constructor.html#minimal-validator",
    "href": "posts/npi/npi_constructor.html#minimal-validator",
    "title": "Building an NPI Constructor",
    "section": "Minimal Validator",
    "text": "Minimal Validator\n\n\n\nis_valid_npi.R\n\nis_valid_npi &lt;- function(npi) {\n  \n  npi &lt;- numeric_to_char(npi)\n  check_length(npi)\n  check_chars_numeric(npi)\n  check_nchars_10(npi)\n  check_first_char(npi)\n  \n  p  &lt;- \\(...) paste0(...)\n  s  &lt;- \\(x) unlist(strsplit(x, \"\"), use.names = FALSE)\n  ix &lt;- c(1, 3, 5, 7, 9)\n  \n  id     &lt;- as.numeric(rev(s(npi)[1:9]))\n  # id[c(TRUE, FALSE)]\n  id[ix] &lt;- id[ix] * 2\n  id[ix] &lt;- ifelse(id[ix] &gt; 9, id[ix] - 9, id[ix])\n  \n  id   &lt;- sum(id) + 24\n  ck   &lt;- (ceiling(id / 10) * 10) - id\n  test &lt;- p(substr(npi, 1, 9), ck)\n  \n  identical(test, npi)\n}\n\n\nTest Validator\n\nis_valid_npi(123456789)\n\nError in `is_valid_npi()`:\n! An `npi` must be 10 characters long.\n\nis_valid_npi(\"O123456789\")\n\nError in `is_valid_npi()`:\n! An `npi` must contain numbers only.\n\nis_valid_npi(0000000000)\n\nError in `is_valid_npi()`:\n! An `npi` must be 10 characters long.\n\nis_valid_npi(3000000000)\n\nError in `is_valid_npi()`:\n! An `npi` must start with a 1 or 2.\n\n\n\nis_valid_npi(1043477615)\n\n[1] TRUE\n\nis_valid_npi(1234567891)\n\n[1] FALSE\n\n\n\nrandom_npi_generator &lt;- \\(n) {\n  replicate(\n    n = n, \n    expr = paste0(\n      c(sample(1:2, 1, replace = TRUE), \n        sample(0:9, 9, replace = TRUE)), \n      collapse = \"\"))\n}\n\nrandom_npi_generator(10)\n\n [1] \"2973425563\" \"2394726865\" \"2878510283\" \"1188479714\" \"2548829199\"\n [6] \"2999573300\" \"2767272935\" \"1112824288\" \"1320032513\" \"1989620037\"\n\n\n\nn &lt;- 100000\nx &lt;- random_npi_generator(n)\ny &lt;- x[collapse::whichv(purrr::map_lgl(x, is_valid_npi), TRUE)]\n\npaste0((length(y) / n) * 100, \"%\")\n\n[1] \"9.962%\"\n\nbench::mark(\n  purrr::map_lgl(x, is_valid_npi)) |&gt; \n  dplyr::glimpse()\n\nRows: 1\nColumns: 13\n$ expression &lt;bch:expr&gt; &lt;purrr::map_lgl(x, is_valid_npi)&gt;\n$ min        &lt;bch:tm&gt; 18.9s\n$ median     &lt;bch:tm&gt; 18.9s\n$ `itr/sec`  &lt;dbl&gt; 0.05300942\n$ mem_alloc  &lt;bch:byt&gt; 391KB\n$ `gc/sec`   &lt;dbl&gt; 7.951414\n$ n_itr      &lt;int&gt; 1\n$ n_gc       &lt;dbl&gt; 150\n$ total_time &lt;bch:tm&gt; 18.9s\n$ result     &lt;list&gt; &lt;FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, TRUE, TRUE,…\n$ memory     &lt;list&gt; [&lt;Rprofmem[11293 x 3]&gt;]\n$ time       &lt;list&gt; 18.9s\n$ gc         &lt;list&gt; [&lt;tbl_df[1 x 3]&gt;]\n\n\n\n\nsessioninfo::session_info()\n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.3.2 (2023-10-31 ucrt)\n os       Windows 11 x64 (build 22631)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  English_United States.utf8\n ctype    English_United States.utf8\n tz       America/Los_Angeles\n date     2024-08-25\n pandoc   3.1.11 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n\n─ Packages ───────────────────────────────────────────────────────────────────\n ! package      * version     date (UTC) lib source\n   bench          1.1.3       2023-05-04 [1] CRAN (R 4.3.3)\n   cli          * 3.6.3.9000  2024-06-25 [1] Github (r-lib/cli@d9febb5)\n   collapse       2.0.16      2024-08-21 [1] CRAN (R 4.3.2)\n   colorspace     2.1-1       2024-07-26 [1] CRAN (R 4.3.2)\n   digest         0.6.37      2024-08-19 [1] CRAN (R 4.3.2)\n   dplyr        * 1.1.4       2023-11-17 [1] CRAN (R 4.3.2)\n   evaluate       0.24.0      2024-06-10 [1] CRAN (R 4.3.2)\n   fansi          1.0.6       2023-12-08 [1] CRAN (R 4.3.2)\n   fastmap        1.2.0       2024-05-15 [1] CRAN (R 4.3.2)\n   forcats      * 1.0.0       2023-01-29 [1] CRAN (R 4.3.2)\n   generics       0.1.3       2022-07-05 [1] CRAN (R 4.3.2)\n   ggplot2      * 3.5.1       2024-04-23 [1] CRAN (R 4.3.2)\n   glue           1.7.0       2024-01-09 [1] CRAN (R 4.3.2)\n   gtable         0.3.5       2024-04-22 [1] CRAN (R 4.3.3)\n   hms            1.1.3       2023-03-21 [1] CRAN (R 4.3.2)\n   htmltools      0.5.8.1     2024-04-04 [1] CRAN (R 4.3.2)\n   htmlwidgets    1.6.4       2023-12-06 [1] CRAN (R 4.3.2)\n   jsonlite       1.8.8       2023-12-04 [1] CRAN (R 4.3.2)\n   knitr          1.48        2024-07-07 [1] CRAN (R 4.3.3)\n   lifecycle      1.0.4       2023-11-07 [1] CRAN (R 4.3.2)\n   lubridate    * 1.9.3       2023-09-27 [1] CRAN (R 4.3.2)\n   magrittr       2.0.3       2022-03-30 [1] CRAN (R 4.3.2)\n   munsell        0.5.1       2024-04-01 [1] CRAN (R 4.3.3)\n   pillar         1.9.0       2023-03-22 [1] CRAN (R 4.3.2)\n   pkgconfig      2.0.3       2019-09-22 [1] CRAN (R 4.3.2)\n   profmem        0.6.0       2020-12-13 [1] CRAN (R 4.3.3)\n   purrr        * 1.0.2       2023-08-10 [1] CRAN (R 4.3.2)\n   R6             2.5.1       2021-08-19 [1] CRAN (R 4.3.2)\n   ragg           1.3.2       2024-05-15 [1] CRAN (R 4.3.2)\n   Rcpp           1.0.13      2024-07-17 [1] CRAN (R 4.3.2)\n D RcppParallel   5.1.9       2024-08-19 [1] CRAN (R 4.3.2)\n   readr        * 2.1.5       2024-01-10 [1] CRAN (R 4.3.2)\n   rlang        * 1.1.4       2024-06-04 [1] CRAN (R 4.3.3)\n   rmarkdown      2.28        2024-08-17 [1] CRAN (R 4.3.3)\n   rstudioapi     0.16.0.9000 2024-06-04 [1] Github (rstudio/rstudioapi@a985492)\n   scales         1.3.0       2023-11-28 [1] CRAN (R 4.3.2)\n   sessioninfo    1.2.2       2021-12-06 [1] CRAN (R 4.3.2)\n   stringfish     0.16.0      2023-11-28 [1] CRAN (R 4.3.2)\n   stringi        1.8.4       2024-05-06 [1] CRAN (R 4.3.3)\n   stringr      * 1.5.1       2023-11-14 [1] CRAN (R 4.3.2)\n   systemfonts    1.1.0       2024-05-15 [1] CRAN (R 4.3.2)\n   textshaping    0.4.0       2024-05-24 [1] CRAN (R 4.3.2)\n   tibble       * 3.2.1       2023-03-20 [1] CRAN (R 4.3.2)\n   tidyr        * 1.3.1       2024-01-24 [1] CRAN (R 4.3.2)\n   tidyselect     1.2.1       2024-03-11 [1] CRAN (R 4.3.3)\n   tidyverse    * 2.0.0       2023-02-22 [1] CRAN (R 4.3.2)\n   timechange     0.3.0       2024-01-18 [1] CRAN (R 4.3.2)\n   tzdb           0.4.0       2023-05-12 [1] CRAN (R 4.3.2)\n   utf8           1.2.4       2023-10-22 [1] CRAN (R 4.3.2)\n   vctrs          0.6.5       2023-12-01 [1] CRAN (R 4.3.2)\n   withr          3.0.1       2024-07-31 [1] CRAN (R 4.3.2)\n   xfun           0.47        2024-08-17 [1] CRAN (R 4.3.3)\n   yaml           2.3.10      2024-07-26 [1] CRAN (R 4.3.2)\n\n [1] C:/Program Files/R/R-4.3.2/library\n\n D ── DLL MD5 mismatch, broken installation.\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "posts/draw_matrix/draw_matrix.html",
    "href": "posts/draw_matrix/draw_matrix.html",
    "title": "Medical Codes as Matrices",
    "section": "",
    "text": "knitr::opts_chunk$set(\n  dev = \"ragg_png\",\n  dpi = 320,\n  out.width = \"100%\",\n  fig.width = 8,\n  fig.asp = 0.818,\n  fig.retina = 2,\n  fig.align = \"center\",\n  fig.show = \"hold\"\n)\noptions(scipen = 999)\n\nlibrary(tidyverse)\nlibrary(stringfish)\nlibrary(ggthemes)\nlibrary(drawr)\nlibrary(fuimus)\nlibrary(procedural)\nlibrary(northstar)"
  },
  {
    "objectID": "posts/draw_matrix/draw_matrix.html#session-info",
    "href": "posts/draw_matrix/draw_matrix.html#session-info",
    "title": "Medical Codes as Matrices",
    "section": "Session Info",
    "text": "Session Info\n\nsessioninfo::session_info()\n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.3.2 (2023-10-31 ucrt)\n os       Windows 11 x64 (build 22631)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  English_United States.utf8\n ctype    English_United States.utf8\n tz       America/Los_Angeles\n date     2024-08-25\n pandoc   3.1.11 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n\n─ Packages ───────────────────────────────────────────────────────────────────\n ! package      * version     date (UTC) lib source\n   cli            3.6.3.9000  2024-06-25 [1] Github (r-lib/cli@d9febb5)\n   collapse       2.0.16      2024-08-21 [1] CRAN (R 4.3.2)\n   colorspace     2.1-1       2024-07-26 [1] CRAN (R 4.3.2)\n   digest         0.6.37      2024-08-19 [1] CRAN (R 4.3.2)\n   dplyr        * 1.1.4       2023-11-17 [1] CRAN (R 4.3.2)\n   drawr        * 0.0.1       2024-02-01 [1] Github (coatless-rpkg/drawr@4ad307f)\n   evaluate       0.24.0      2024-06-10 [1] CRAN (R 4.3.2)\n   fansi          1.0.6       2023-12-08 [1] CRAN (R 4.3.2)\n   farver         2.1.2       2024-05-13 [1] CRAN (R 4.3.3)\n   fastmap        1.2.0       2024-05-15 [1] CRAN (R 4.3.2)\n   forcats      * 1.0.0       2023-01-29 [1] CRAN (R 4.3.2)\n   fuimus       * 0.0.2       2024-08-23 [1] Github (andrewallenbruce/fuimus@c029c8b)\n   generics       0.1.3       2022-07-05 [1] CRAN (R 4.3.2)\n   ggplot2      * 3.5.1       2024-04-23 [1] CRAN (R 4.3.2)\n   ggthemes     * 5.1.0       2024-02-10 [1] CRAN (R 4.3.3)\n   glue           1.7.0       2024-01-09 [1] CRAN (R 4.3.2)\n   gtable         0.3.5       2024-04-22 [1] CRAN (R 4.3.3)\n   hms            1.1.3       2023-03-21 [1] CRAN (R 4.3.2)\n   htmltools      0.5.8.1     2024-04-04 [1] CRAN (R 4.3.2)\n   htmlwidgets    1.6.4       2023-12-06 [1] CRAN (R 4.3.2)\n   jsonlite       1.8.8       2023-12-04 [1] CRAN (R 4.3.2)\n   knitr          1.48        2024-07-07 [1] CRAN (R 4.3.3)\n   lifecycle      1.0.4       2023-11-07 [1] CRAN (R 4.3.2)\n   lubridate    * 1.9.3       2023-09-27 [1] CRAN (R 4.3.2)\n   magrittr       2.0.3       2022-03-30 [1] CRAN (R 4.3.2)\n   munsell        0.5.1       2024-04-01 [1] CRAN (R 4.3.3)\n   northstar    * 0.0.7       2024-07-30 [1] Github (andrewallenbruce/northstar@5c01119)\n   pillar         1.9.0       2023-03-22 [1] CRAN (R 4.3.2)\n   pkgconfig      2.0.3       2019-09-22 [1] CRAN (R 4.3.2)\n   procedural   * 0.0.1       2024-08-04 [1] Github (andrewallenbruce/procedural@fae6eb1)\n   purrr        * 1.0.2       2023-08-10 [1] CRAN (R 4.3.2)\n   R6             2.5.1       2021-08-19 [1] CRAN (R 4.3.2)\n   ragg           1.3.2       2024-05-15 [1] CRAN (R 4.3.2)\n   Rcpp           1.0.13      2024-07-17 [1] CRAN (R 4.3.2)\n D RcppParallel   5.1.9       2024-08-19 [1] CRAN (R 4.3.2)\n   readr        * 2.1.5       2024-01-10 [1] CRAN (R 4.3.2)\n   rlang          1.1.4       2024-06-04 [1] CRAN (R 4.3.3)\n   rmarkdown      2.28        2024-08-17 [1] CRAN (R 4.3.3)\n   rstudioapi     0.16.0.9000 2024-06-04 [1] Github (rstudio/rstudioapi@a985492)\n   scales         1.3.0       2023-11-28 [1] CRAN (R 4.3.2)\n   sessioninfo    1.2.2       2021-12-06 [1] CRAN (R 4.3.2)\n   stringfish   * 0.16.0      2023-11-28 [1] CRAN (R 4.3.2)\n   stringi        1.8.4       2024-05-06 [1] CRAN (R 4.3.3)\n   stringr      * 1.5.1       2023-11-14 [1] CRAN (R 4.3.2)\n   systemfonts    1.1.0       2024-05-15 [1] CRAN (R 4.3.2)\n   textshaping    0.4.0       2024-05-24 [1] CRAN (R 4.3.2)\n   tibble       * 3.2.1       2023-03-20 [1] CRAN (R 4.3.2)\n   tidyr        * 1.3.1       2024-01-24 [1] CRAN (R 4.3.2)\n   tidyselect     1.2.1       2024-03-11 [1] CRAN (R 4.3.3)\n   tidyverse    * 2.0.0       2023-02-22 [1] CRAN (R 4.3.2)\n   timechange     0.3.0       2024-01-18 [1] CRAN (R 4.3.2)\n   tzdb           0.4.0       2023-05-12 [1] CRAN (R 4.3.2)\n   utf8           1.2.4       2023-10-22 [1] CRAN (R 4.3.2)\n   vctrs          0.6.5       2023-12-01 [1] CRAN (R 4.3.2)\n   withr          3.0.1       2024-07-31 [1] CRAN (R 4.3.2)\n   xfun           0.47        2024-08-17 [1] CRAN (R 4.3.3)\n   yaml           2.3.10      2024-07-26 [1] CRAN (R 4.3.2)\n   zeallot        0.1.0       2018-01-28 [1] CRAN (R 4.3.2)\n\n [1] C:/Program Files/R/R-4.3.2/library\n\n D ── DLL MD5 mismatch, broken installation.\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "posts/claims/claims.html",
    "href": "posts/claims/claims.html",
    "title": "Claims Analysis",
    "section": "",
    "text": "procedure_sum &lt;- procedures |&gt;\n  summarise(\n    n_hcpcs = n_distinct(hcpcs, na.rm = TRUE),\n    n_units = na_sum(units),\n    n_mod1 = na_sum(!is.na(mod1)),\n    n_mod2 = na_sum(!is.na(mod2)),\n    charges = na_sum(charges),\n    allowed = na_sum(allowed),\n    payments = na_sum(payments),\n    adjustments = na_sum(adjustments),\n    .by = c(id, enc, dos)) |&gt;\n  filter(charges &gt; 0) |&gt;\n  arrange(dos) |&gt; \n  left_join(\n    encounters, by = join_by(id, enc, dos)) |&gt; \n  select(\n    id, \n    enc, \n    dos, \n    year:wday_l,\n    n_hcpcs, \n    n_units, \n    n_mod1, \n    n_mod2, \n    charges, \n    allowed, \n    payments, \n    adjustments,\n    dob,\n    age,\n    rendering,\n    cred,\n    icd,\n    pos,\n    pos_name,\n    pos_type,\n    loc,\n    ins_class,\n    ins_prim)\n\nprocedure_sum\n\n# A tibble: 38,852 × 31\n   id       enc dos         year quarter month month_l  week   day  yday  wday\n   &lt;chr&gt;  &lt;int&gt; &lt;date&gt;     &lt;int&gt;   &lt;int&gt; &lt;int&gt; &lt;ord&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;\n 1 PT0491     1 2022-06-14  2022       2     6 Jun        24    14   164     2\n 2 PT2360     1 2022-07-31  2022       3     7 Jul        31    31   211     7\n 3 PT0671     1 2022-08-06  2022       3     8 Aug        32     6   217     6\n 4 PT1499     1 2022-08-06  2022       3     8 Aug        32     6   217     6\n 5 PT1485     3 2022-08-09  2022       3     8 Aug        32     9   220     2\n 6 PT1626     1 2022-08-10  2022       3     8 Aug        32    10   221     3\n 7 PT2430     1 2022-08-10  2022       3     8 Aug        32    10   221     3\n 8 PT1677     1 2022-08-11  2022       3     8 Aug        32    11   222     4\n 9 PT2181     1 2022-08-11  2022       3     8 Aug        32    11   222     4\n10 PT1043     1 2022-08-12  2022       3     8 Aug        32    12   223     5\n# ℹ 38,842 more rows\n# ℹ 20 more variables: wday_l &lt;ord&gt;, n_hcpcs &lt;int&gt;, n_units &lt;int&gt;,\n#   n_mod1 &lt;int&gt;, n_mod2 &lt;int&gt;, charges &lt;dbl&gt;, allowed &lt;dbl&gt;, payments &lt;dbl&gt;,\n#   adjustments &lt;dbl&gt;, dob &lt;date&gt;, age &lt;int&gt;, rendering &lt;chr&gt;, cred &lt;chr&gt;,\n#   icd &lt;chr&gt;, pos &lt;chr&gt;, pos_name &lt;chr&gt;, pos_type &lt;fct&gt;, loc &lt;chr&gt;,\n#   ins_class &lt;chr&gt;, ins_prim &lt;chr&gt;\n\n\n\nprocedure_sum |&gt; \n  summarise(\n    encounters = n(),\n    n_hcpcs = na_sum(n_hcpcs),\n    n_units = na_sum(n_units),\n    n_mod1 = na_sum(n_mod1),\n    n_mod2 = na_sum(n_mod2),\n    charges = na_sum(charges),\n    allowed = na_sum(allowed),\n    payments = na_sum(payments),\n    adjustments = na_sum(adjustments),\n    .by = c(year, quarter, month_l, rendering, ins_prim)) |&gt; \n  arrange(year, quarter, month_l) |&gt; \n  ggplot(aes(y = charges)) +\n  geom_boxplot(aes(group = year, fill = year)) +\n  scale_x_continuous(labels = scales::label_number(scale = 0.001, suffix = \"k\")) +\n  ggthemes::theme_fivethirtyeight() +\n  theme(legend.position = \"none\") +\n  theme(\n    axis.text.y = element_blank(),\n    panel.grid.major.x = element_blank(),\n    panel.grid.minor.x = element_blank()\n  )\n\n\n\n\n\n\n\n\nprocedure_sum |&gt; \n  summarise(\n    encounters = n(),\n    n_hcpcs = na_sum(n_hcpcs),\n    n_units = na_sum(n_units),\n    n_mod1 = na_sum(n_mod1),\n    n_mod2 = na_sum(n_mod2),\n    charges = na_sum(charges),\n    allowed = na_sum(allowed),\n    payments = na_sum(payments),\n    adjustments = na_sum(adjustments),\n    .by = c(year, quarter, month_l, rendering, ins_prim)) |&gt; \n  arrange(year, quarter, month_l) |&gt; \n  ggplot(aes(x = payments, y = charges)) +\n  geom_point(aes(size = encounters, group = ins_prim, fill = ins_prim), colour = \"black\", shape = 21) +\n  geom_quantile(colour = \"royalblue\", linewidth = 1) +\n  # geom_hline(yintercept = 0, color = \"black\", linewidth = 0.5) +\n  # geom_vline(xintercept = 0, color = \"grey50\", linewidth = 0.5) +\n  scale_y_continuous(labels = scales::label_number(scale = 0.001, suffix = \"k\")) +\n  scale_x_continuous(labels = scales::label_number(scale = 0.001, suffix = \"k\")) +\n  ggthemes::theme_fivethirtyeight() +\n  coord_cartesian(clip = \"off\") +\n  theme(legend.position = \"none\") +\n  theme(\n    panel.grid.major.x = element_blank(),\n    panel.grid.minor.x = element_blank()\n  )\n\nSmoothing formula not specified. Using: y ~ x\n\n\n\n\n\n\n\n\n\n\nRevenue Per Visit\n\nRPV = Total Payments \\div Number of Patient Visits\n\n\n\nclaims_summary &lt;- claims |&gt;\n    select(\n    id,\n    enc,\n    age,\n    ins_prim,\n    charges,\n    allowed,\n    payments,\n    adjustments) |&gt; \n  summarise(\n    procedures = n(),\n    charges = sum(charges, na.rm = TRUE),\n    allowed = sum(allowed, na.rm = TRUE),\n    payments = sum(payments, na.rm = TRUE),\n    adjustments = sum(adjustments, na.rm = TRUE),\n    .by = c(id, enc, age)) |&gt;\n  summarise(\n    visits = n(),\n    procedures = sum(procedures, na.rm = TRUE),\n    charges = sum(charges, na.rm = TRUE),\n    allowed = sum(allowed, na.rm = TRUE),\n    payments = sum(payments, na.rm = TRUE),\n    adjustments = sum(adjustments, na.rm = TRUE),\n    .by = c(age)\n  ) |&gt; \n  summarise(\n    # patients = n(),\n    avg_age = mean(age, na.rm = TRUE),\n    procedures = sum(procedures, na.rm = TRUE),\n    visits = sum(visits, na.rm = TRUE),\n    charges = sum(charges, na.rm = TRUE),\n    allowed = sum(allowed, na.rm = TRUE),\n    revenue = sum(payments, na.rm = TRUE),\n    adjustments = sum(adjustments, na.rm = TRUE))\n\nclaims_summary |&gt; \n  set_names(\n    c(\"Average Patient Age\", \n      \"Procedures\", \n      \"Visits\", \n      \"Charges\", \n      \"Allowed\", \n      \"Net Payment\", \n      \"Adjustments\")) |&gt; \n  pivot_longer(\n    cols = everything(), \n    names_to = \"Metric\", \n    values_to = \"Value\") |&gt;\n  gt() |&gt; \n  opt_table_font(font = google_font(name = \"Fira Code\")) |&gt; \n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\nMetric\n      Value\n    \n\n\nAverage Patient Age\n46.5\n\n\nProcedures\n49721.0\n\n\nVisits\n39839.0\n\n\nCharges\n11659949.0\n\n\nAllowed\n4830582.7\n\n\nNet Payment\n4648361.4\n\n\nAdjustments\n5948070.3\n\n\n\n\n\nclaims_summary |&gt;\n  mutate(\n    revenue_adjustments = revenue + adjustments, \n    .after = charges) |&gt; \n  reframe(\n    cpp = charges / procedures,\n    alpp = allowed / procedures,\n    rpp = revenue / procedures,\n    adpp = adjustments / procedures,\n    ppv = procedures / visits,\n    cpv = charges / visits,\n    alpv = allowed / visits,\n    rpv = revenue / visits,\n    adpv = adjustments / visits,\n    cpr = charges / revenue_adjustments,\n    alpr = allowed / revenue,\n    adpr = adjustments / revenue,\n    net_collect = revenue / (charges - adjustments),\n    net_allow = revenue / allowed,\n    net_adjust = revenue / adjustments,\n    ) |&gt; \n  set_names(\n    c(\"Charge Per Procedure\", \n      \"Allowed Per Procedure\", \n      \"Payment Per Procedure\", \n      \"Adjustment Per Procedure\", \n      \"Procedures Per Visit\", \n      \"Charge Per Visit\", \n      \"Allowed Per Visit\", \n      \"Payment Per Visit\", \n      \"Adjustment Per Visit\",\n      \"Charge To Payment + Adjustment\",\n      \"Allowed Per Dollar\", \n      \"Adjustment Per Dollar\",\n      \"Net Collection Ratio\",\n      \"Net Allowable Ratio\",\n      \"Net Adjustment Ratio\"\n      )) |&gt; \n  pivot_longer(\n    cols = everything(), \n    names_to = \"Metric\", \n    values_to = \"Value\") |&gt; \n  gt() |&gt; \n  opt_table_font(font = google_font(name = \"Fira Code\")) |&gt; \n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\nMetric\n      Value\n    \n\n\nCharge Per Procedure\n234.5075320\n\n\nAllowed Per Procedure\n97.1537722\n\n\nPayment Per Procedure\n93.4888964\n\n\nAdjustment Per Procedure\n119.6289359\n\n\nProcedures Per Visit\n1.2480484\n\n\nCharge Per Visit\n292.6767489\n\n\nAllowed Per Visit\n121.2526095\n\n\nPayment Per Visit\n116.6786671\n\n\nAdjustment Per Visit\n149.3027014\n\n\nCharge To Payment + Adjustment\n1.1003656\n\n\nAllowed Per Dollar\n1.0392012\n\n\nAdjustment Per Dollar\n1.2796058\n\n\nNet Collection Ratio\n0.8138060\n\n\nNet Allowable Ratio\n0.9622776\n\n\nNet Adjustment Ratio\n0.7814907\n\n\n\n\n\n\n\ninsurance_summary &lt;- claims |&gt;\n  summarise(\n    procedures = n(),\n    charges = sum(charges, na.rm = TRUE),\n    allowed = sum(allowed, na.rm = TRUE),\n    payments = sum(payments, na.rm = TRUE),\n    adjustments = sum(adjustments, na.rm = TRUE),\n    .by = c(id, enc, age, ins_prim)) |&gt;\n  summarise(\n    visits = n(),\n    procedures = sum(procedures, na.rm = TRUE),\n    charges = sum(charges, na.rm = TRUE),\n    allowed = sum(allowed, na.rm = TRUE),\n    payments = sum(payments, na.rm = TRUE),\n    adjustments = sum(adjustments, na.rm = TRUE),\n    .by = c(id, age, ins_prim)\n  ) |&gt; \n  summarise(\n    patients = n(),\n    avg_age = mean(age, na.rm = TRUE),\n    procedures = sum(procedures, na.rm = TRUE),\n    visits = sum(visits, na.rm = TRUE),\n    charges = sum(charges, na.rm = TRUE),\n    allowed = sum(allowed, na.rm = TRUE),\n    revenue = sum(payments, na.rm = TRUE),\n    adjustments = sum(adjustments, na.rm = TRUE),\n    .by = c(ins_prim)\n  ) |&gt; \n  filter(!is.na(ins_prim)) |&gt; \n  arrange(desc(procedures))\n\n# Patients are counted once per insurance class\ninsurance_summary |&gt;\n  gt(rowname_col = \"ins_prim\") |&gt; \n  opt_all_caps() |&gt; \n  opt_table_font(font = google_font(name = \"Fira Code\")) |&gt; \n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\n\n      patients\n      avg_age\n      procedures\n      visits\n      charges\n      allowed\n      revenue\n      adjustments\n    \n\n\nBCBS\n2155\n30.51601\n11073\n9348\n2648855\n1113623.43\n1052272.49\n1426863.60\n\n\nUHC\n1877\n34.26905\n10091\n7492\n2691070\n938135.72\n873231.19\n1538893.10\n\n\nSELF\n2801\n33.87429\n8770\n8153\n1020064\n775974.68\n773146.09\n101145.74\n\n\nAETNA\n1010\n28.61881\n4901\n3991\n1279925\n445925.74\n430341.11\n728428.95\n\n\nCIGNA\n758\n28.15963\n4265\n3651\n986190\n345288.15\n323414.76\n585340.34\n\n\nMEDICARE\n547\n70.09872\n2966\n1340\n787140\n292738.64\n287262.53\n487146.83\n\n\nOTHER\n744\n29.41667\n2804\n2416\n848695\n491911.51\n489813.89\n196970.03\n\n\nSUNFLOWER\n283\n15.55830\n1279\n1018\n476005\n141674.71\n140850.71\n301252.45\n\n\nAMBETTER\n174\n33.93103\n967\n904\n215805\n80836.37\n76822.76\n123926.40\n\n\nTRICARE WEST\n159\n23.72956\n811\n645\n241225\n69920.50\n68832.31\n167099.63\n\n\nHUMANA\n149\n58.39597\n732\n330\n199090\n50943.39\n49748.17\n142202.78\n\n\nMEDICAID\n60\n38.56667\n255\n87\n84010\n26401.45\n26224.00\n50286.00\n\n\nMERITAIN\n45\n24.48889\n206\n163\n52500\n19143.52\n18537.76\n32399.90\n\n\nVA\n32\n54.12500\n140\n60\n41865\n11575.76\n11575.76\n27735.43\n\n\nTRUSTMARK\n20\n27.90000\n86\n75\n20680\n6352.17\n6403.32\n11933.25\n\n\nRAILROAD\n13\n73.61538\n71\n35\n19435\n7233.90\n7164.62\n12310.38\n\n\nTRICARE EAST\n11\n21.36364\n66\n61\n13570\n6160.89\n5924.85\n7409.11\n\n\nMAGELLAN\n21\n35.71429\n62\n58\n14050\n1530.98\n1389.98\n3244.02\n\n\nSEDGWICK\n2\n47.00000\n20\n2\n6825\n1216.83\n1216.83\n283.17\n\n\nLIBERTY\n1\n73.00000\n15\n2\n5050\n1381.57\n1381.57\n118.43\n\n\nWELLCARE\n4\n56.75000\n14\n6\n4350\n1029.80\n1011.22\n2538.78\n\n\nHARTFORD\n2\n52.00000\n10\n2\n3550\n1583.00\n1795.50\n542.00\n\n\n\n\n\n\n\ninsurance_summary |&gt; \n  reframe(\n    ins_prim,\n    pts = patients,\n    vpp = visits / patients,\n    ppp = procedures / patients,\n    rpp = revenue / patients,\n    ppv = procedures / visits,\n    rpv = revenue / visits,\n    rpp = revenue / procedures\n  ) |&gt; \n  arrange(desc(pts)) |&gt;\n  gt(rowname_col = \"ins_prim\") |&gt; \n  opt_all_caps() |&gt; \n  opt_table_font(font = google_font(name = \"Fira Code\")) |&gt; \n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\n\n      pts\n      vpp\n      ppp\n      rpp\n      ppv\n      rpv\n    \n\n\nSELF\n2801\n2.910746\n3.131025\n88.15805\n1.075678\n94.82964\n\n\nBCBS\n2155\n4.337819\n5.138283\n95.03048\n1.184531\n112.56659\n\n\nUHC\n1877\n3.991476\n5.376132\n86.53564\n1.346903\n116.55515\n\n\nAETNA\n1010\n3.951485\n4.852475\n87.80680\n1.228013\n107.82789\n\n\nCIGNA\n758\n4.816623\n5.626649\n75.82996\n1.168173\n88.58251\n\n\nOTHER\n744\n3.247312\n3.768817\n174.68398\n1.160596\n202.73754\n\n\nMEDICARE\n547\n2.449726\n5.422303\n96.85183\n2.213433\n214.37502\n\n\nSUNFLOWER\n283\n3.597173\n4.519435\n110.12565\n1.256385\n138.36023\n\n\nAMBETTER\n174\n5.195402\n5.557471\n79.44443\n1.069690\n84.98093\n\n\nTRICARE WEST\n159\n4.056604\n5.100629\n84.87338\n1.257364\n106.71676\n\n\nHUMANA\n149\n2.214765\n4.912752\n67.96198\n2.218182\n150.75203\n\n\nMEDICAID\n60\n1.450000\n4.250000\n102.83922\n2.931034\n301.42529\n\n\nMERITAIN\n45\n3.622222\n4.577778\n89.98913\n1.263804\n113.72859\n\n\nVA\n32\n1.875000\n4.375000\n82.68400\n2.333333\n192.92933\n\n\nMAGELLAN\n21\n2.761905\n2.952381\n22.41903\n1.068966\n23.96517\n\n\nTRUSTMARK\n20\n3.750000\n4.300000\n74.45721\n1.146667\n85.37760\n\n\nRAILROAD\n13\n2.692308\n5.461538\n100.91014\n2.028571\n204.70343\n\n\nTRICARE EAST\n11\n5.545455\n6.000000\n89.77045\n1.081967\n97.12869\n\n\nWELLCARE\n4\n1.500000\n3.500000\n72.23000\n2.333333\n168.53667\n\n\nSEDGWICK\n2\n1.000000\n10.000000\n60.84150\n10.000000\n608.41500\n\n\nHARTFORD\n2\n1.000000\n5.000000\n179.55000\n5.000000\n897.75000\n\n\nLIBERTY\n1\n2.000000\n15.000000\n92.10467\n7.500000\n690.78500"
  },
  {
    "objectID": "posts/claims/claims.html#ratio-analysis",
    "href": "posts/claims/claims.html#ratio-analysis",
    "title": "Claims Analysis",
    "section": "",
    "text": "Revenue Per Visit\n\nRPV = Total Payments \\div Number of Patient Visits\n\n\n\nclaims_summary &lt;- claims |&gt;\n    select(\n    id,\n    enc,\n    age,\n    ins_prim,\n    charges,\n    allowed,\n    payments,\n    adjustments) |&gt; \n  summarise(\n    procedures = n(),\n    charges = sum(charges, na.rm = TRUE),\n    allowed = sum(allowed, na.rm = TRUE),\n    payments = sum(payments, na.rm = TRUE),\n    adjustments = sum(adjustments, na.rm = TRUE),\n    .by = c(id, enc, age)) |&gt;\n  summarise(\n    visits = n(),\n    procedures = sum(procedures, na.rm = TRUE),\n    charges = sum(charges, na.rm = TRUE),\n    allowed = sum(allowed, na.rm = TRUE),\n    payments = sum(payments, na.rm = TRUE),\n    adjustments = sum(adjustments, na.rm = TRUE),\n    .by = c(age)\n  ) |&gt; \n  summarise(\n    # patients = n(),\n    avg_age = mean(age, na.rm = TRUE),\n    procedures = sum(procedures, na.rm = TRUE),\n    visits = sum(visits, na.rm = TRUE),\n    charges = sum(charges, na.rm = TRUE),\n    allowed = sum(allowed, na.rm = TRUE),\n    revenue = sum(payments, na.rm = TRUE),\n    adjustments = sum(adjustments, na.rm = TRUE))\n\nclaims_summary |&gt; \n  set_names(\n    c(\"Average Patient Age\", \n      \"Procedures\", \n      \"Visits\", \n      \"Charges\", \n      \"Allowed\", \n      \"Net Payment\", \n      \"Adjustments\")) |&gt; \n  pivot_longer(\n    cols = everything(), \n    names_to = \"Metric\", \n    values_to = \"Value\") |&gt;\n  gt() |&gt; \n  opt_table_font(font = google_font(name = \"Fira Code\")) |&gt; \n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\nMetric\n      Value\n    \n\n\nAverage Patient Age\n46.5\n\n\nProcedures\n49721.0\n\n\nVisits\n39839.0\n\n\nCharges\n11659949.0\n\n\nAllowed\n4830582.7\n\n\nNet Payment\n4648361.4\n\n\nAdjustments\n5948070.3\n\n\n\n\n\nclaims_summary |&gt;\n  mutate(\n    revenue_adjustments = revenue + adjustments, \n    .after = charges) |&gt; \n  reframe(\n    cpp = charges / procedures,\n    alpp = allowed / procedures,\n    rpp = revenue / procedures,\n    adpp = adjustments / procedures,\n    ppv = procedures / visits,\n    cpv = charges / visits,\n    alpv = allowed / visits,\n    rpv = revenue / visits,\n    adpv = adjustments / visits,\n    cpr = charges / revenue_adjustments,\n    alpr = allowed / revenue,\n    adpr = adjustments / revenue,\n    net_collect = revenue / (charges - adjustments),\n    net_allow = revenue / allowed,\n    net_adjust = revenue / adjustments,\n    ) |&gt; \n  set_names(\n    c(\"Charge Per Procedure\", \n      \"Allowed Per Procedure\", \n      \"Payment Per Procedure\", \n      \"Adjustment Per Procedure\", \n      \"Procedures Per Visit\", \n      \"Charge Per Visit\", \n      \"Allowed Per Visit\", \n      \"Payment Per Visit\", \n      \"Adjustment Per Visit\",\n      \"Charge To Payment + Adjustment\",\n      \"Allowed Per Dollar\", \n      \"Adjustment Per Dollar\",\n      \"Net Collection Ratio\",\n      \"Net Allowable Ratio\",\n      \"Net Adjustment Ratio\"\n      )) |&gt; \n  pivot_longer(\n    cols = everything(), \n    names_to = \"Metric\", \n    values_to = \"Value\") |&gt; \n  gt() |&gt; \n  opt_table_font(font = google_font(name = \"Fira Code\")) |&gt; \n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\nMetric\n      Value\n    \n\n\nCharge Per Procedure\n234.5075320\n\n\nAllowed Per Procedure\n97.1537722\n\n\nPayment Per Procedure\n93.4888964\n\n\nAdjustment Per Procedure\n119.6289359\n\n\nProcedures Per Visit\n1.2480484\n\n\nCharge Per Visit\n292.6767489\n\n\nAllowed Per Visit\n121.2526095\n\n\nPayment Per Visit\n116.6786671\n\n\nAdjustment Per Visit\n149.3027014\n\n\nCharge To Payment + Adjustment\n1.1003656\n\n\nAllowed Per Dollar\n1.0392012\n\n\nAdjustment Per Dollar\n1.2796058\n\n\nNet Collection Ratio\n0.8138060\n\n\nNet Allowable Ratio\n0.9622776\n\n\nNet Adjustment Ratio\n0.7814907\n\n\n\n\n\n\n\ninsurance_summary &lt;- claims |&gt;\n  summarise(\n    procedures = n(),\n    charges = sum(charges, na.rm = TRUE),\n    allowed = sum(allowed, na.rm = TRUE),\n    payments = sum(payments, na.rm = TRUE),\n    adjustments = sum(adjustments, na.rm = TRUE),\n    .by = c(id, enc, age, ins_prim)) |&gt;\n  summarise(\n    visits = n(),\n    procedures = sum(procedures, na.rm = TRUE),\n    charges = sum(charges, na.rm = TRUE),\n    allowed = sum(allowed, na.rm = TRUE),\n    payments = sum(payments, na.rm = TRUE),\n    adjustments = sum(adjustments, na.rm = TRUE),\n    .by = c(id, age, ins_prim)\n  ) |&gt; \n  summarise(\n    patients = n(),\n    avg_age = mean(age, na.rm = TRUE),\n    procedures = sum(procedures, na.rm = TRUE),\n    visits = sum(visits, na.rm = TRUE),\n    charges = sum(charges, na.rm = TRUE),\n    allowed = sum(allowed, na.rm = TRUE),\n    revenue = sum(payments, na.rm = TRUE),\n    adjustments = sum(adjustments, na.rm = TRUE),\n    .by = c(ins_prim)\n  ) |&gt; \n  filter(!is.na(ins_prim)) |&gt; \n  arrange(desc(procedures))\n\n# Patients are counted once per insurance class\ninsurance_summary |&gt;\n  gt(rowname_col = \"ins_prim\") |&gt; \n  opt_all_caps() |&gt; \n  opt_table_font(font = google_font(name = \"Fira Code\")) |&gt; \n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\n\n      patients\n      avg_age\n      procedures\n      visits\n      charges\n      allowed\n      revenue\n      adjustments\n    \n\n\nBCBS\n2155\n30.51601\n11073\n9348\n2648855\n1113623.43\n1052272.49\n1426863.60\n\n\nUHC\n1877\n34.26905\n10091\n7492\n2691070\n938135.72\n873231.19\n1538893.10\n\n\nSELF\n2801\n33.87429\n8770\n8153\n1020064\n775974.68\n773146.09\n101145.74\n\n\nAETNA\n1010\n28.61881\n4901\n3991\n1279925\n445925.74\n430341.11\n728428.95\n\n\nCIGNA\n758\n28.15963\n4265\n3651\n986190\n345288.15\n323414.76\n585340.34\n\n\nMEDICARE\n547\n70.09872\n2966\n1340\n787140\n292738.64\n287262.53\n487146.83\n\n\nOTHER\n744\n29.41667\n2804\n2416\n848695\n491911.51\n489813.89\n196970.03\n\n\nSUNFLOWER\n283\n15.55830\n1279\n1018\n476005\n141674.71\n140850.71\n301252.45\n\n\nAMBETTER\n174\n33.93103\n967\n904\n215805\n80836.37\n76822.76\n123926.40\n\n\nTRICARE WEST\n159\n23.72956\n811\n645\n241225\n69920.50\n68832.31\n167099.63\n\n\nHUMANA\n149\n58.39597\n732\n330\n199090\n50943.39\n49748.17\n142202.78\n\n\nMEDICAID\n60\n38.56667\n255\n87\n84010\n26401.45\n26224.00\n50286.00\n\n\nMERITAIN\n45\n24.48889\n206\n163\n52500\n19143.52\n18537.76\n32399.90\n\n\nVA\n32\n54.12500\n140\n60\n41865\n11575.76\n11575.76\n27735.43\n\n\nTRUSTMARK\n20\n27.90000\n86\n75\n20680\n6352.17\n6403.32\n11933.25\n\n\nRAILROAD\n13\n73.61538\n71\n35\n19435\n7233.90\n7164.62\n12310.38\n\n\nTRICARE EAST\n11\n21.36364\n66\n61\n13570\n6160.89\n5924.85\n7409.11\n\n\nMAGELLAN\n21\n35.71429\n62\n58\n14050\n1530.98\n1389.98\n3244.02\n\n\nSEDGWICK\n2\n47.00000\n20\n2\n6825\n1216.83\n1216.83\n283.17\n\n\nLIBERTY\n1\n73.00000\n15\n2\n5050\n1381.57\n1381.57\n118.43\n\n\nWELLCARE\n4\n56.75000\n14\n6\n4350\n1029.80\n1011.22\n2538.78\n\n\nHARTFORD\n2\n52.00000\n10\n2\n3550\n1583.00\n1795.50\n542.00\n\n\n\n\n\n\n\ninsurance_summary |&gt; \n  reframe(\n    ins_prim,\n    pts = patients,\n    vpp = visits / patients,\n    ppp = procedures / patients,\n    rpp = revenue / patients,\n    ppv = procedures / visits,\n    rpv = revenue / visits,\n    rpp = revenue / procedures\n  ) |&gt; \n  arrange(desc(pts)) |&gt;\n  gt(rowname_col = \"ins_prim\") |&gt; \n  opt_all_caps() |&gt; \n  opt_table_font(font = google_font(name = \"Fira Code\")) |&gt; \n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\n\n      pts\n      vpp\n      ppp\n      rpp\n      ppv\n      rpv\n    \n\n\nSELF\n2801\n2.910746\n3.131025\n88.15805\n1.075678\n94.82964\n\n\nBCBS\n2155\n4.337819\n5.138283\n95.03048\n1.184531\n112.56659\n\n\nUHC\n1877\n3.991476\n5.376132\n86.53564\n1.346903\n116.55515\n\n\nAETNA\n1010\n3.951485\n4.852475\n87.80680\n1.228013\n107.82789\n\n\nCIGNA\n758\n4.816623\n5.626649\n75.82996\n1.168173\n88.58251\n\n\nOTHER\n744\n3.247312\n3.768817\n174.68398\n1.160596\n202.73754\n\n\nMEDICARE\n547\n2.449726\n5.422303\n96.85183\n2.213433\n214.37502\n\n\nSUNFLOWER\n283\n3.597173\n4.519435\n110.12565\n1.256385\n138.36023\n\n\nAMBETTER\n174\n5.195402\n5.557471\n79.44443\n1.069690\n84.98093\n\n\nTRICARE WEST\n159\n4.056604\n5.100629\n84.87338\n1.257364\n106.71676\n\n\nHUMANA\n149\n2.214765\n4.912752\n67.96198\n2.218182\n150.75203\n\n\nMEDICAID\n60\n1.450000\n4.250000\n102.83922\n2.931034\n301.42529\n\n\nMERITAIN\n45\n3.622222\n4.577778\n89.98913\n1.263804\n113.72859\n\n\nVA\n32\n1.875000\n4.375000\n82.68400\n2.333333\n192.92933\n\n\nMAGELLAN\n21\n2.761905\n2.952381\n22.41903\n1.068966\n23.96517\n\n\nTRUSTMARK\n20\n3.750000\n4.300000\n74.45721\n1.146667\n85.37760\n\n\nRAILROAD\n13\n2.692308\n5.461538\n100.91014\n2.028571\n204.70343\n\n\nTRICARE EAST\n11\n5.545455\n6.000000\n89.77045\n1.081967\n97.12869\n\n\nWELLCARE\n4\n1.500000\n3.500000\n72.23000\n2.333333\n168.53667\n\n\nSEDGWICK\n2\n1.000000\n10.000000\n60.84150\n10.000000\n608.41500\n\n\nHARTFORD\n2\n1.000000\n5.000000\n179.55000\n5.000000\n897.75000\n\n\nLIBERTY\n1\n2.000000\n15.000000\n92.10467\n7.500000\n690.78500"
  },
  {
    "objectID": "posts/claims/claims.html#session-info",
    "href": "posts/claims/claims.html#session-info",
    "title": "Claims Analysis",
    "section": "Session Info",
    "text": "Session Info\n\nsessioninfo::session_info()\n\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.3.2 (2023-10-31 ucrt)\n os       Windows 11 x64 (build 22631)\n system   x86_64, mingw32\n ui       RTerm\n language (EN)\n collate  English_United States.utf8\n ctype    English_United States.utf8\n tz       America/Los_Angeles\n date     2024-08-25\n pandoc   3.1.11 @ C:/Program Files/RStudio/resources/app/bin/quarto/bin/tools/ (via rmarkdown)\n\n─ Packages ───────────────────────────────────────────────────────────────────\n ! package       * version     date (UTC) lib source\n   base64enc       0.1-3       2015-07-28 [1] CRAN (R 4.3.1)\n   bit             4.0.5       2022-11-15 [1] CRAN (R 4.3.2)\n   bit64           4.0.5       2020-08-30 [1] CRAN (R 4.3.2)\n   cheapr          0.9.3       2024-07-29 [1] CRAN (R 4.3.2)\n   cli             3.6.3.9000  2024-06-25 [1] Github (r-lib/cli@d9febb5)\n   collapse        2.0.16      2024-08-21 [1] CRAN (R 4.3.2)\n   colorspace      2.1-1       2024-07-26 [1] CRAN (R 4.3.2)\n   commonmark      1.9.1       2024-01-30 [1] CRAN (R 4.3.2)\n   crayon          1.5.3       2024-06-20 [1] CRAN (R 4.3.3)\n   data.table      1.15.4      2024-03-30 [1] CRAN (R 4.3.3)\n   digest          0.6.37      2024-08-19 [1] CRAN (R 4.3.2)\n   dplyr         * 1.1.4       2023-11-17 [1] CRAN (R 4.3.2)\n   ellipsis        0.3.2       2021-04-29 [1] CRAN (R 4.3.2)\n   evaluate        0.24.0      2024-06-10 [1] CRAN (R 4.3.2)\n   fansi           1.0.6       2023-12-08 [1] CRAN (R 4.3.2)\n   farver          2.1.2       2024-05-13 [1] CRAN (R 4.3.3)\n   fastmap         1.2.0       2024-05-15 [1] CRAN (R 4.3.2)\n   fontawesome     0.5.2       2023-08-19 [1] CRAN (R 4.3.2)\n   forcats       * 1.0.0       2023-01-29 [1] CRAN (R 4.3.2)\n   fs              1.6.4       2024-04-25 [1] CRAN (R 4.3.3)\n   fuimus        * 0.0.2       2024-08-23 [1] Github (andrewallenbruce/fuimus@c029c8b)\n   generics        0.1.3       2022-07-05 [1] CRAN (R 4.3.2)\n   ggplot2       * 3.5.1       2024-04-23 [1] CRAN (R 4.3.2)\n   ggthemes        5.1.0       2024-02-10 [1] CRAN (R 4.3.3)\n   glue            1.7.0       2024-01-09 [1] CRAN (R 4.3.2)\n   gt            * 0.11.0      2024-07-09 [1] CRAN (R 4.3.3)\n   gtable          0.3.5       2024-04-22 [1] CRAN (R 4.3.3)\n   gtExtras      * 0.5.0       2023-09-15 [1] CRAN (R 4.3.2)\n   here          * 1.0.1       2020-12-13 [1] CRAN (R 4.3.2)\n   hms             1.1.3       2023-03-21 [1] CRAN (R 4.3.2)\n   htmltools       0.5.8.1     2024-04-04 [1] CRAN (R 4.3.2)\n   htmlwidgets     1.6.4       2023-12-06 [1] CRAN (R 4.3.2)\n   janitor         2.2.0       2023-02-02 [1] CRAN (R 4.3.2)\n   jsonlite        1.8.8       2023-12-04 [1] CRAN (R 4.3.2)\n   knitr           1.48        2024-07-07 [1] CRAN (R 4.3.3)\n   labeling        0.4.3       2023-08-29 [1] CRAN (R 4.3.1)\n   lattice         0.22-6      2024-03-20 [1] CRAN (R 4.3.2)\n   lifecycle       1.0.4       2023-11-07 [1] CRAN (R 4.3.2)\n   lubridate     * 1.9.3       2023-09-27 [1] CRAN (R 4.3.2)\n   magrittr        2.0.3       2022-03-30 [1] CRAN (R 4.3.2)\n   markdown        1.13        2024-06-04 [1] CRAN (R 4.3.2)\n   MASS            7.3-60.0.1  2024-01-13 [1] CRAN (R 4.3.2)\n   Matrix          1.6-5       2024-01-11 [1] CRAN (R 4.3.2)\n   MatrixModels    0.5-3       2023-11-06 [1] CRAN (R 4.3.3)\n   munsell         0.5.1       2024-04-01 [1] CRAN (R 4.3.3)\n   northstar     * 0.0.7       2024-07-30 [1] Github (andrewallenbruce/northstar@5c01119)\n   paletteer       1.6.0       2024-01-21 [1] CRAN (R 4.3.3)\n   pillar          1.9.0       2023-03-22 [1] CRAN (R 4.3.2)\n   pins            1.3.0       2023-11-09 [1] CRAN (R 4.3.2)\n   pkgconfig       2.0.3       2019-09-22 [1] CRAN (R 4.3.2)\n   purrr         * 1.0.2       2023-08-10 [1] CRAN (R 4.3.2)\n   qs              0.26.3      2024-05-16 [1] CRAN (R 4.3.3)\n   quantreg        5.98        2024-05-26 [1] CRAN (R 4.3.3)\n   R6              2.5.1       2021-08-19 [1] CRAN (R 4.3.2)\n   ragg            1.3.2       2024-05-15 [1] CRAN (R 4.3.2)\n   RApiSerialize   0.1.3       2024-05-14 [1] CRAN (R 4.3.3)\n   rappdirs        0.3.3       2021-01-31 [1] CRAN (R 4.3.2)\n   rbrvs         * 0.0.1       2024-08-20 [1] Github (andrewallenbruce/rvu@8e09ebe)\n   Rcpp            1.0.13      2024-07-17 [1] CRAN (R 4.3.2)\n D RcppParallel    5.1.9       2024-08-19 [1] CRAN (R 4.3.2)\n   readr         * 2.1.5       2024-01-10 [1] CRAN (R 4.3.2)\n   rematch2        2.1.2       2020-05-01 [1] CRAN (R 4.3.2)\n   rlang           1.1.4       2024-06-04 [1] CRAN (R 4.3.3)\n   rmarkdown       2.28        2024-08-17 [1] CRAN (R 4.3.3)\n   rprojroot       2.0.4       2023-11-05 [1] CRAN (R 4.3.2)\n   rstudioapi      0.16.0.9000 2024-06-04 [1] Github (rstudio/rstudioapi@a985492)\n   sass            0.4.9       2024-03-15 [1] CRAN (R 4.3.2)\n   scales          1.3.0       2023-11-28 [1] CRAN (R 4.3.2)\n   sessioninfo     1.2.2       2021-12-06 [1] CRAN (R 4.3.2)\n   snakecase       0.11.1      2023-08-27 [1] CRAN (R 4.3.2)\n   SparseM         1.84-2      2024-07-17 [1] CRAN (R 4.3.2)\n   stringfish      0.16.0      2023-11-28 [1] CRAN (R 4.3.2)\n   stringi         1.8.4       2024-05-06 [1] CRAN (R 4.3.3)\n   stringr       * 1.5.1       2023-11-14 [1] CRAN (R 4.3.2)\n   survival        3.7-0       2024-06-05 [1] CRAN (R 4.3.3)\n   systemfonts     1.1.0       2024-05-15 [1] CRAN (R 4.3.2)\n   textshaping     0.4.0       2024-05-24 [1] CRAN (R 4.3.2)\n   tibble        * 3.2.1       2023-03-20 [1] CRAN (R 4.3.2)\n   tidyr         * 1.3.1       2024-01-24 [1] CRAN (R 4.3.2)\n   tidyselect      1.2.1       2024-03-11 [1] CRAN (R 4.3.3)\n   tidyverse     * 2.0.0       2023-02-22 [1] CRAN (R 4.3.2)\n   timechange      0.3.0       2024-01-18 [1] CRAN (R 4.3.2)\n   timeplyr        0.8.2       2024-08-17 [1] CRAN (R 4.3.3)\n   tzdb            0.4.0       2023-05-12 [1] CRAN (R 4.3.2)\n   utf8            1.2.4       2023-10-22 [1] CRAN (R 4.3.2)\n   vctrs           0.6.5       2023-12-01 [1] CRAN (R 4.3.2)\n   vroom           1.6.5       2023-12-05 [1] CRAN (R 4.3.2)\n   withr           3.0.1       2024-07-31 [1] CRAN (R 4.3.2)\n   xfun            0.47        2024-08-17 [1] CRAN (R 4.3.3)\n   xml2            1.3.6       2023-12-04 [1] CRAN (R 4.3.2)\n   yaml            2.3.10      2024-07-26 [1] CRAN (R 4.3.2)\n\n [1] C:/Program Files/R/R-4.3.2/library\n\n D ── DLL MD5 mismatch, broken installation.\n\n──────────────────────────────────────────────────────────────────────────────"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Learning for Getting Ahead",
    "section": "",
    "text": "Order By\n       Default\n         \n          Date - Oldest\n        \n         \n          Date - Newest\n        \n         \n          Title\n        \n     \n  \n    \n      \n      \n    \n\n\n\n\n\nDate\n\n\nTitle\n\n\nReading Time\n\n\n\n\n\n\n2024-08-11\n\n\nTaxonomy Codes\n\n\n10 min\n\n\n\n\n2024-08-17\n\n\nMedicare Physician Fee Schedule\n\n\n38 min\n\n\n\n\n2024-08-20\n\n\nMedical Codes as Matrices\n\n\n4 min\n\n\n\n\n2024-08-21\n\n\nThe Art of DAR\n\n\n8 min\n\n\n\n\n2024-08-24\n\n\nBuilding an NPI Constructor\n\n\n12 min\n\n\n\n\n2024-08-25\n\n\nBuilding Claims Rules\n\n\n25 min\n\n\n\n\n2024-08-25\n\n\nClaims Analysis\n\n\n16 min\n\n\n\n\n\nNo matching items\n\n Back to top"
  },
  {
    "objectID": "posts/dar/art_of_dar.html",
    "href": "posts/dar/art_of_dar.html",
    "title": "The Art of DAR",
    "section": "",
    "text": "Average Days in Accounts Receivable (DAR or Average Days in AR) is a common financial metric known as an efficiency ratio.\nDAR measures the average number of days it takes for a business to collect money owed for services rendered from the responsible parties.\nIts function in the healthcare revenue cycle is as a high-level monitor of the financial health of a healthcare entity.\nThe following is a thorough overview of everything you never knew you didn’t want to know about DAR. Let’s start off with some background and terminology. See Note 1 for more information on the American healthcare economic model.\n\nAging of Accounts\n\nAn account is a billable episode of care. It begins to age once it is billed to the guarantor. These outstanding accounts are monitored in 30-day blocks or bins ([0, 30), [31, 60), [61, 90), [91, 120), and [121, \\infty)) by the number of accounts, the amount owed by each bin and the responsible parties. The older the account, the less likely it will be paid.\n\n\n\n\nGuarantor\n\nThe responsible party for the amount owed (an insurance payer, a patient, etc.) Most claims are originally billed to insurance and, until the insurance makes a payment, the responsibility for the payment continues to be with the insurance payer. After the payer makes or denies a payment (with no just cause for an appeal), the responsibility for the balance of goes to the patient (to be sent an invoice) or the physician (to be written off.)\n\nAccounts Receivable\n\nAR represents money owed to the healthcare practice by patients and/or insurance carriers. The AR balance is the total charges billed to an insurance payer or patient for services rendered but not yet collected. The balance can only be reduced by payment or by adjustments, contractual or otherwise. The AR cycle begins with the delivery of services and ends with reconciliation, or when the balance owed equals zero.\n\nAverage Days in AR\n\nA mathematical formula for the average number of days it takes a business to collect money that it is owed. A low average is good. A high average signals a problem within the revenue cycle.\n\n\n\nSo now we know that a low Days in AR number is good and a high number is bad. How low is good though? How high is bad?\nLet’s say that a practice has a DAR of 95 days. This means that, on average, it takes the practice 95 days to collect it’s outstanding balances. Let’s start with what we can say for sure about a Days in AR of 95:\n\n95 days is roughly equal to a little over three months.\nTherefore, there is three months of unpaid work sitting in Accounts Receivable.\nAs such, this practice will need three months of cash reserves on hand to meet its financial obligations.\n\nThe ideal Days in AR depends entirely upon the medical practice, its customers (patients), its customers’ payers, the services it supplies, the providers performing those services, and the financial situation of the practice.\n\n\n\n\n\n\nNote 1: The American Healthcare Economic Model\n\n\n\n\n\nTo understand the healthcare version of Days in AR, you need to first understand the environment in which it is used.\nTypically, companies sell their products or services directly to consumers and are paid immediately at the point of service (POS). This is called a business-to-consumer revenue model.\nAnother revenue model type is the business-to-business (B2B) model, concerning businesses that transact primarily with each other. Purchases between two businesses tend to be much larger. As such, B2B businesses invoice on a monthly basis, meaning no payment for 30+ days.\nSomewhere in between these two models is the American healthcare system. This gray area is caused by a middleman called a third party payer. Better known as an insurance company, providers enter into a contractual agreement with this third party to be paid for their services at a reduced rate.\nIn exchange, a provider gains access to the payer’s large subscriber base. The difference between the charge a provider submits to a payer and the contracted rate he or she has agreed to is called the contractual adjustment, which is written off once a claim has been adjudicated.\nThe contractual adjustment introduces a critical inefficiency to the healthcare revenue model. Rather than prices being determined by supply and demand, they are set by individually negotiated arrangements, the end result of which is no real demand or pricing curve.\nThis issue is much too complex for me to properly do justice to here. It is, however, an essential concept to grasp when trying to understand healthcare reimbursement. In other words, healthcare reimbursement is crazy, not you.\n\n\n\n\n\n \\overline{dar} = \\ earb \\div (\\ gc \\ \\div \\ n_{days}\\ )\\ \n\n \\overline{dar_t} = \\frac{arb_t}{gc_t\\div n_{days}} \nWhere:\n\ndplyr::tibble(\n  \n)\n\n# A tibble: 0 × 0\n\n\nt = \\text{Time Period} The subscript t denotes the time period being measured.\nn_{days} = \\text{Days in Period} The number of days in t.\ngc_t = \\text{Gross Charges} The sum of all charges billed during t.\n\\overline{dc_t} = \\text{Average Daily Charge} gc_t divided by n_{days}.\narb_t = \\text{AR Balance} The sum of all outstanding balances at close of business (COB) on the final day of t.\n\\overline{dar_t} = \\text{Average Days in AR} arb_t divided by \\overline{dc_t} for time period t.\n\n\n\n\n\n\nNote 2: Example in R\n\n\n\nLet’s say we want to calculate \\overline{dar_t} for the current month. Our Gross Charges total is $131,440 and our AR Balance is $203,460:\n\nex &lt;- tibble(\n  ndays = days_in_month(today()),\n  gc = 131440,\n  arb = 203460)\n\nex |&gt; \n  gt() |&gt; \n  tab_header(\n    title = md(\"**Average Days in AR** _Calculation_\"),\n    subtitle = drng()) |&gt;\n  cols_label(\n    ndays = md(\"**n**&lt;i&gt;&lt;sub&gt;days&lt;/sub&gt;&lt;/i&gt;\"),\n    gc    = md(\"**gc**&lt;i&gt;&lt;sub&gt;t&lt;/sub&gt;&lt;/i&gt;\"),\n    arb   = md(\"**arb**&lt;i&gt;&lt;sub&gt;t&lt;/sub&gt;&lt;/i&gt;\")) |&gt;\n  fmt_currency(columns = 2:3, decimals = 0) |&gt; \n  gt_opts()\n\n\nTable 1: Step 1\n\n\n\n\n\n\n\n\nAverage Days in AR Calculation\n\n    \n\nAug 1, 2024 - Aug 31, 2024\n    \n\n\nndays\n\n      \ngct\n\n      \narbt\n\n    \n\n\n31\n$131,440\n$203,460\n\n\n\n\n\n\n\n\nWe have the three numbers we need, let’s plug them into our formula:\n\nex &lt;- ex |&gt; \n  mutate(\n    dc = gc / ndays,\n    dar = arb / dc)\n\nex |&gt; \n  gt() |&gt; \n  tab_header(\n    title = md(\"**Average Days in AR** _Calculation_\"),\n    subtitle = drng()) |&gt;\n  cols_label(\n    ndays = md(\"**n**&lt;i&gt;&lt;sub&gt;days&lt;/sub&gt;&lt;/i&gt;\"),\n    gc    = md(\"**gc**&lt;i&gt;&lt;sub&gt;t&lt;/sub&gt;&lt;/i&gt;\"),\n    arb   = md(\"**arb**&lt;i&gt;&lt;sub&gt;t&lt;/sub&gt;&lt;/i&gt;\"),\n    dc    = md(\"**dc**&lt;i&gt;&lt;sub&gt;t&lt;/sub&gt;&lt;/i&gt;\"),\n    dar   = md(\"**dar**&lt;i&gt;&lt;sub&gt;t&lt;/sub&gt;&lt;/i&gt;\")) |&gt;\n  fmt_currency(columns = c(2:4), decimals = 0) |&gt; \n  fmt_number(columns = 5, decimals = 2) |&gt;\n  gt_opts()\n\n\nTable 2: Step 2\n\n\n\n\n\n\n\n\nAverage Days in AR Calculation\n\n    \n\nAug 1, 2024 - Aug 31, 2024\n    \n\n\nndays\n\n      \ngct\n\n      \narbt\n\n      \ndct\n\n      \ndart\n\n    \n\n\n31\n$131,440\n$203,460\n$4,240\n47.99\n\n\n\n\n\n\n\n\nAnd there we have it, our Average Daily Charge is $4,240 and our Days in AR is 47.99."
  },
  {
    "objectID": "posts/dar/art_of_dar.html#formula-for-dar",
    "href": "posts/dar/art_of_dar.html#formula-for-dar",
    "title": "The Art of DAR",
    "section": "",
    "text": "\\overline{dar} = \\ earb \\div (\\ gc \\ \\div \\ n_{days}\\ )\\ \n\n \\overline{dar_t} = \\frac{arb_t}{gc_t\\div n_{days}} \nWhere:\n\ndplyr::tibble(\n  \n)\n\n# A tibble: 0 × 0\n\n\nt = \\text{Time Period} The subscript t denotes the time period being measured.\nn_{days} = \\text{Days in Period} The number of days in t.\ngc_t = \\text{Gross Charges} The sum of all charges billed during t.\n\\overline{dc_t} = \\text{Average Daily Charge} gc_t divided by n_{days}.\narb_t = \\text{AR Balance} The sum of all outstanding balances at close of business (COB) on the final day of t.\n\\overline{dar_t} = \\text{Average Days in AR} arb_t divided by \\overline{dc_t} for time period t.\n\n\n\n\n\n\nNote 2: Example in R\n\n\n\nLet’s say we want to calculate \\overline{dar_t} for the current month. Our Gross Charges total is $131,440 and our AR Balance is $203,460:\n\nex &lt;- tibble(\n  ndays = days_in_month(today()),\n  gc = 131440,\n  arb = 203460)\n\nex |&gt; \n  gt() |&gt; \n  tab_header(\n    title = md(\"**Average Days in AR** _Calculation_\"),\n    subtitle = drng()) |&gt;\n  cols_label(\n    ndays = md(\"**n**&lt;i&gt;&lt;sub&gt;days&lt;/sub&gt;&lt;/i&gt;\"),\n    gc    = md(\"**gc**&lt;i&gt;&lt;sub&gt;t&lt;/sub&gt;&lt;/i&gt;\"),\n    arb   = md(\"**arb**&lt;i&gt;&lt;sub&gt;t&lt;/sub&gt;&lt;/i&gt;\")) |&gt;\n  fmt_currency(columns = 2:3, decimals = 0) |&gt; \n  gt_opts()\n\n\nTable 1: Step 1\n\n\n\n\n\n\n\n\nAverage Days in AR Calculation\n\n    \n\nAug 1, 2024 - Aug 31, 2024\n    \n\n\nndays\n\n      \ngct\n\n      \narbt\n\n    \n\n\n31\n$131,440\n$203,460\n\n\n\n\n\n\n\n\nWe have the three numbers we need, let’s plug them into our formula:\n\nex &lt;- ex |&gt; \n  mutate(\n    dc = gc / ndays,\n    dar = arb / dc)\n\nex |&gt; \n  gt() |&gt; \n  tab_header(\n    title = md(\"**Average Days in AR** _Calculation_\"),\n    subtitle = drng()) |&gt;\n  cols_label(\n    ndays = md(\"**n**&lt;i&gt;&lt;sub&gt;days&lt;/sub&gt;&lt;/i&gt;\"),\n    gc    = md(\"**gc**&lt;i&gt;&lt;sub&gt;t&lt;/sub&gt;&lt;/i&gt;\"),\n    arb   = md(\"**arb**&lt;i&gt;&lt;sub&gt;t&lt;/sub&gt;&lt;/i&gt;\"),\n    dc    = md(\"**dc**&lt;i&gt;&lt;sub&gt;t&lt;/sub&gt;&lt;/i&gt;\"),\n    dar   = md(\"**dar**&lt;i&gt;&lt;sub&gt;t&lt;/sub&gt;&lt;/i&gt;\")) |&gt;\n  fmt_currency(columns = c(2:4), decimals = 0) |&gt; \n  fmt_number(columns = 5, decimals = 2) |&gt;\n  gt_opts()\n\n\nTable 2: Step 2\n\n\n\n\n\n\n\n\nAverage Days in AR Calculation\n\n    \n\nAug 1, 2024 - Aug 31, 2024\n    \n\n\nndays\n\n      \ngct\n\n      \narbt\n\n      \ndct\n\n      \ndart\n\n    \n\n\n31\n$131,440\n$203,460\n$4,240\n47.99\n\n\n\n\n\n\n\n\nAnd there we have it, our Average Daily Charge is $4,240 and our Days in AR is 47.99."
  },
  {
    "objectID": "posts/dar/art_of_dar.html#earb-target-for-dart",
    "href": "posts/dar/art_of_dar.html#earb-target-for-dart",
    "title": "The Art of DAR",
    "section": "EARb Target for DARt",
    "text": "EARb Target for DARt\nIn the first example, our DAR was 47.99. That’s approximately 13 days over our DARt of 35. What would our EARB need to have been to bring us under our DARt? Here’s our formula:\n eart = (\\ dart \\cdot gc\\ )\\ \\div days_n \nWe’ll calculate the EARB we needed as well as the difference between the two AR figures:"
  },
  {
    "objectID": "posts/mpfs/mpfs.html",
    "href": "posts/mpfs/mpfs.html",
    "title": "Medicare Physician Fee Schedule",
    "section": "",
    "text": "This is an overview of the general format of the Medicare Physician Fee Schedule (MPFS), specifically the PFS Relative Value File. Updates are released on the first day of each quarter. If required, a correction notice may be issued. The file is a zip archive and typically contains six files:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nRVU\n\n\nData Dictionary, Record Layout and File Documentation\n\n\n\n\n\n\n\nPPRRVU\n\n\nPhysician Fee Schedule RVUs and Policy Indicators\n\n\n\n\n\n\n\nGPCI\n\n\nGeographic Practice Cost Index Components for each Carrier/Locality combination\n\n\n\n\n\n\n\nLOCCO\n\n\nLocality to County Crosswalk\n\n\n\n\n\n\n\nANES\n\n\nAnesthesia Conversion Factors\n\n\n\n\n\n\n\nOPPSCAP\n\n\nOPPS-based capitation-adjusted payment amounts.\n\n\n\n\n\n\n\nWhat follows is a thorough dissection of each file in the archive, starting with the RVU file.\n\nThe pdf labeled “RVU” is a comprehensive guide to the structure and contents of each file in the Relative Value zip file. It describes the methodology, that contains a data dictionary, record layout, and documentation\n\nrvu24a &lt;- rbrvs::get_source(year = 2024, source = \"pprrvu\")$rvu24a_jan |&gt; \n  dplyr::mutate(\n    mod = cheapr::factor_(mod),\n    status_code = cheapr::factor_(status_code),\n    pctc_ind = cheapr::factor_(pctc_ind),\n    glob_days = cheapr::factor_(glob_days),\n    mult_proc = cheapr::factor_(mult_proc),\n    bilat_surg = cheapr::factor_(bilat_surg),\n    asst_surg = cheapr::factor_(asst_surg),\n    co_surg = cheapr::factor_(co_surg),\n    team_surg = cheapr::factor_(team_surg),\n    physician_supervision_of_diagnostic_procedures = cheapr::factor_(physician_supervision_of_diagnostic_procedures),\n    diagnostic_imaging_family_indicator = cheapr::factor_(diagnostic_imaging_family_indicator),\n    )\n\nover &lt;- cheapr::overview(rvu24a, hist = TRUE)\n\nhcpcs_row &lt;- over$categorical |&gt; \n  dplyr::select(variable = col, value = n_unique) |&gt; \n  dplyr::filter(variable == \"hcpcs\")\n\n\n\ndplyr::left_join(\n  vars |&gt; dplyr::filter(!is.na(value)),\n  dplyr::tibble(\n    variable = names(idx[collapse::funique(vars$variable)]),\n    description = idx[collapse::funique(vars$variable)]),\n  by = dplyr::join_by(variable)\n  ) |&gt; \n  fuimus::combine(\n    name = variable, \n    columns = c('variable', 'description'), \n    sep = \"&lt;br&gt;&lt;br&gt;\"\n    ) |&gt;\n  dplyr::add_row(\n    variable = toupper(hcpcs_row$variable),\n    value = as.character(format(hcpcs_row$value, big.mark = \",\")),\n    n = 18499,\n    pct = 1.0,\n    .before = 1\n    ) |&gt; \n  gt::gt(\n    groupname_col = \"variable\",\n    # rowname_col = \"value\",\n    row_group_as_column = TRUE,\n    process_md = TRUE) |&gt; \n  gt::tab_stubhead(label = \"Variable\") |&gt; \n  gt::cols_label(\n    value = \"Unique\\nValues\",\n    n = \"Total\",\n    pct = \"Percentage\"\n    ) |&gt;\n  gt::fmt_percent(columns = pct) |&gt; \n  gt::fmt_integer(columns = n) |&gt;\n  gt::opt_table_font(font = gt::google_font(name = \"Recursive\")) |&gt; \n  gt::opt_all_caps() |&gt; \n  gt::tab_options(\n    heading.align = \"left\",\n    heading.border.bottom.color = \"#4758AB\",\n    heading.title.font.weight = \"bold\",\n    heading.background.color = \"#4758AB\", # \"#f8f9fa\",\n    quarto.disable_processing = TRUE,\n    data_row.padding.horizontal = gt::px(20),\n    column_labels.padding.horizontal = gt::px(20),\n    table.border.top.color = \"#4758AB\",\n    table.width = gt::pct(100),\n    column_labels.hidden = FALSE,\n    # stub.font.weight = \"bold\",\n    # stub_row_group.font.weight = \"bold\",\n    column_labels.font.weight = \"bold\"\n  )\n\n\n\n\n\nVariable\n      Unique\nValues\n      Total\n      Percentage\n    \n\n\n\nHCPCS\n\n16,324\n18,499\n100.00%\n\n\n\nMODFor diagnostic tests, a blank in this field denotes the global service and the following modifiers identify the components:26 = Professional componentTC = Technical component For services other than those with a professional and/or technical component, a blank will appear in this field with one exception: the presence of CPT modifier -53 indicates that separate RVUs and a fee schedule amount have been established for procedures which the physician terminated before completion. This modifier is used only with colonoscopy CPT codes 44388 and 45378, or with G0105 and G0121. Any other codes billed with modifier -53 are subject to carrier medical review and priced by individual consideration.53 = Discontinued Procedure - Under certain circumstances, the physician may elect to terminate a surgical or diagnostic procedure. Due to extenuating circumstances, or those that threaten the well being of the patient, it may be necessary to indicate that a surgical or diagnostic procedure was started but discontinued.\n\n26\n1,096\n5.92%\n\n\nTC\n1,076\n5.82%\n\n\n53\n4\n0.02%\n\n\n\nSTATUS CODEIndicates whether the code is in the fee schedule and whether it is separately payable if the service is covered. Only RVUs associated with status codes of A, R, or T, are used for Medicare payment.\n\nA\n8,975\n48.52%\n\n\nX\n2,527\n13.66%\n\n\nI\n1,411\n7.63%\n\n\nE\n1,343\n7.26%\n\n\nM\n1,201\n6.49%\n\n\nC\n1,156\n6.25%\n\n\nR\n1,050\n5.68%\n\n\nN\n327\n1.77%\n\n\nJ\n276\n1.49%\n\n\nP\n142\n0.77%\n\n\nB\n83\n0.45%\n\n\nT\n8\n0.04%\n\n\n\nNOT USED FOR MEDICARE PAYMENTThe name says it all\n\n+\n133\n0.72%\n\n\n\nNON FAC INDICATORAn NA in this field indicates that this procedure is rarely or never performed in the non-facility setting.\n\nNA\n4,066\n21.98%\n\n\n\nFACILITY INDICATORAn NA in this field indicates that this procedure is rarely or never performed in the facility setting.\n\nNA\n2,468\n13.34%\n\n\n\nPCTC INDProfessional Component (PC) or Technical Component (TC) Indicator\n\n9\n7,704\n41.65%\n\n\n0\n7,128\n38.53%\n\n\n1\n3,229\n17.45%\n\n\n3\n178\n0.96%\n\n\n5\n104\n0.56%\n\n\n7\n74\n0.40%\n\n\n2\n44\n0.24%\n\n\n6\n20\n0.11%\n\n\n4\n17\n0.09%\n\n\n8\n1\n0.01%\n\n\n\nGLOB DAYSGlobal Surgery postoperative timeframes that apply to payment for each surgical procedure or another indicator that describes how the global concept applies to the service.\n\nXXX\n11,262\n60.88%\n\n\n090\n3,771\n20.38%\n\n\n000\n1,326\n7.17%\n\n\nYYY\n933\n5.04%\n\n\nZZZ\n719\n3.89%\n\n\n010\n471\n2.55%\n\n\nMMM\n17\n0.09%\n\n\n\nMULT PROCMultiple Procedure (CPT Modifier 51) indicator shows which payment adjustment rule for multiple procedures applies to the service.\n\n9\n7,876\n42.58%\n\n\n2\n5,287\n28.58%\n\n\n0\n4,044\n21.86%\n\n\n4\n420\n2.27%\n\n\n3\n361\n1.95%\n\n\n6\n361\n1.95%\n\n\n7\n98\n0.53%\n\n\n5\n52\n0.28%\n\n\n\nBILAT SURGBilateral Surgery Indicator (CPT Modifier 50) for services subject to a payment adjustment.\n\n9\n7,892\n42.66%\n\n\n0\n7,784\n42.08%\n\n\n1\n2,203\n11.91%\n\n\n2\n383\n2.07%\n\n\n3\n237\n1.28%\n\n\n\nASST SURGAssistant at Surgery (Modifiers AS, 80, 81, and 82) indicator for services where Medicare never pays an assistant at surgery.\n\n9\n7,940\n42.92%\n\n\n0\n5,595\n30.24%\n\n\n2\n2,781\n15.03%\n\n\n1\n2,183\n11.80%\n\n\n\nCO SURGCo-Surgeons (Modifier 62) This field gives an indicator for services for which Medicare may pay 2 surgeons, each in a different specialty.\n\n9\n7,885\n42.62%\n\n\n0\n7,839\n42.38%\n\n\n1\n2,474\n13.37%\n\n\n2\n301\n1.63%\n\n\n\nTEAM SURGTeam Surgeons (Modifier 66) This field gives an indicator for services for which Medicare may pay team surgeons.\n\n0\n10,430\n56.38%\n\n\n9\n7,885\n42.62%\n\n\n1\n133\n0.72%\n\n\n2\n51\n0.28%\n\n\n\nENDO BASEEndoscopic Base Code for each code with a multiple surgery indicator of 3.\n\n52000\n44\n0.24%\n\n\n31231\n30\n0.16%\n\n\n43235\n30\n0.16%\n\n\n31622\n20\n0.11%\n\n\n43200\n18\n0.10%\n\n\n49320\n18\n0.10%\n\n\n29870\n15\n0.08%\n\n\n45330\n14\n0.08%\n\n\n45378\n14\n0.08%\n\n\n44388\n13\n0.07%\n\n\n29805\n11\n0.06%\n\n\n43260\n10\n0.05%\n\n\n45300\n10\n0.05%\n\n\n46600\n10\n0.05%\n\n\n44360\n9\n0.05%\n\n\n31525\n8\n0.04%\n\n\n31575\n8\n0.04%\n\n\n31526\n7\n0.04%\n\n\n52351\n7\n0.04%\n\n\n58555\n7\n0.04%\n\n\n29860\n6\n0.03%\n\n\n29830\n5\n0.03%\n\n\n29840\n5\n0.03%\n\n\n43191\n5\n0.03%\n\n\n50570\n5\n0.03%\n\n\n57452\n5\n0.03%\n\n\n31505\n4\n0.02%\n\n\n47552\n4\n0.02%\n\n\n50951\n4\n0.02%\n\n\n44376\n3\n0.02%\n\n\n44380\n3\n0.02%\n\n\n50551\n3\n0.02%\n\n\n0652T\n2\n0.01%\n\n\n50970\n2\n0.01%\n\n\n43197\n1\n0.01%\n\n\n66710\n1\n0.01%\n\n\n\nPHYSICIAN SUPERVISION OF DIAGNOSTIC PROCEDURESMedicare uses this field in post payment review.\n\n09\n17,465\n94.41%\n\n\n01\n533\n2.88%\n\n\n02\n249\n1.35%\n\n\n03\n207\n1.12%\n\n\n04\n16\n0.09%\n\n\n6A\n13\n0.07%\n\n\n7A\n9\n0.05%\n\n\n21\n5\n0.03%\n\n\n05\n1\n0.01%\n\n\n66\n1\n0.01%\n\n\n\nDIAGNOSTIC IMAGING FAMILY INDICATORIdentifies the applicable Diagnostic Service family for HCPCS codes with a Multiple Procedure indicator of 4. For services effective January 1, 2011, and after, family indicators 01 - 11 won’t populate.\n\n99\n18,055\n97.60%\n\n\n88\n444\n2.40%\n\n\n\n\n\n\n\nover$numeric |&gt; \n  dplyr::select(\n    variable = col, \n    unique = n_unique,\n    # min = p0, \n    # p25,\n    # median = p50,\n    p75,\n    max = p100,\n    iqr, \n    mean,\n    sd,\n    hist\n    ) |&gt;\n  gt::gt(\n    groupname_col = \"variable\",\n    row_group_as_column = TRUE,\n    process_md = TRUE) |&gt; \n  gt::fmt_integer(columns = unique) |&gt;\n  gt::fmt_number(columns = p75:sd) |&gt;\n  gt::opt_table_font(font = gt::google_font(name = \"Recursive\")) |&gt; \n  gt::tab_options(\n    heading.align = \"left\",\n    heading.border.bottom.color = \"#4758AB\",\n    heading.title.font.weight = \"bold\",\n    heading.background.color = \"#4758AB\", # \"#f8f9fa\",\n    quarto.disable_processing = TRUE,\n    data_row.padding.horizontal = gt::px(20),\n    column_labels.padding.horizontal = gt::px(20),\n    table.border.top.color = \"#4758AB\",\n    table.width = gt::pct(100),\n    column_labels.hidden = FALSE\n  )\n\n\n\n\n\n\n      unique\n      p75\n      max\n      iqr\n      mean\n      sd\n      hist\n    \n\n\n\nwork_rvu\n\n2,486\n3.21\n108.91\n3.21\n3.88\n8.51\n▇▁▁▁▁\n\n\n\nnon_fac_pe_rvu\n\n2,310\n5.35\n355.87\n5.35\n4.01\n10.52\n▇▁▁▁▁\n\n\n\nfacility_pe_rvu\n\n2,079\n3.66\n53.07\n3.66\n3.03\n5.60\n▇▁▁▁▁\n\n\n\nmp_rvu\n\n1,026\n0.43\n28.99\n0.43\n0.83\n2.20\n▇▁▁▁▁\n\n\n\nnon_facility_total\n\n3,877\n9.79\n364.53\n9.79\n8.71\n18.07\n▇▁▁▁▁\n\n\n\nfacility_total\n\n3,683\n7.50\n171.00\n7.50\n7.74\n15.57\n▇▁▁▁▁\n\n\n\npre_op\n\n8\n0.00\n0.17\n0.00\n0.02\n0.04\n▇▁▂▁▁\n\n\n\nintra_op\n\n14\n0.00\n0.84\n0.00\n0.17\n0.32\n▇▁▁▁▂\n\n\n\npost_op\n\n11\n0.00\n0.23\n0.00\n0.03\n0.07\n▇▁▁▁▁\n\n\n\nconv_factor\n\n1\n32.74\n32.74\n0.00\n32.74\n0.00\n▁▁▇▁▁\n\n\n\nnon_facility_pe_used_for_opps_payment_amount\n\n417\n0.00\n159.54\n0.00\n0.90\n7.15\n▇▁▁▁▁\n\n\n\nfacility_pe_used_for_opps_payment_amount\n\n417\n0.00\n159.54\n0.00\n0.90\n7.15\n▇▁▁▁▁\n\n\n\nmp_used_for_opps_payment_amount\n\n81\n0.00\n1.83\n0.00\n0.01\n0.06\n▇▁▁▁▁\n\n\n\n\n\n\n\nThe MPFS is a listing of the relative value units (RVUs) for each CPT code, as well as the geographic practice cost index (GPCI) for each code. The RVUs are used to calculate the payment amount for each service, while the GPCI is used to adjust the payment amount based on the location where the service is provided.\nThis file contains information on services covered by the MPFS in 2024. For more than 10,000 physician services, the file contains the associated RVUs, a fee schedule status indicator, and various payment policy indicators needed for payment adjustment (i.e., payment of assistant at surgery, team surgery, bilateral surgery, etc.).\nThe MPFS amounts are adjusted to reflect the variation in practice costs from area to area. A GPCI has been established for every Medicare payment locality for each of the three components of a procedure’s RVU:\n\nPhysician Work\nPractice Expense\nMalpractice Expense (sometimes called Professional Liability Insurance)\n\nThe GPCIs are applied in the calculation of a fee schedule payment amount by multiplying the RVU for each component times the GPCI for that component.\n\n x = [(RVU_w \\times GPCI_w) + (RVU_p \\times GPCI_p) + (RVU_m \\times GPCI_m)] \\times CF \n\n y = 0.95x \n\n z = 0.95(1.15x) \n\n\n\n\n\n\nMany Ways to Say the Same Thing\n\n\n\n\nAs there is a corresponding GPCI value for each of the three components of an RVU, the formula is essentially the dot product of the RVU and GPCI vectors, multiplied by the conversion factor:\n\n a \\cdot b = a_1b_1 + a_2b_2 + a_3b_3 \nSetting up the variables:\n\nwrvu  = 6.26   # Work RVU\nwgpci = 1      # Work GPCI\n\npgpci = 0.883  # Practice GPCI\nprvu  = 4.36   # Practice RVU\n\nmrvu  = 0.99   # Malpractice RVU\nmgpci = 1.125  # Malpractice GPCI\n\ncf    = 32.744 # Conversion Factor\n\n\nBasic Calculation:\n\n((wrvu * wgpci) + \n   (prvu * pgpci) + \n   (mrvu * mgpci)) * cf\n\n[1] 367.5065\n\n\n\nWith base R’s Matrix Multiplication Infix Operator:\n\nas.vector(\n  c(wrvu, prvu, mrvu) %*% \n  c(wgpci, pgpci, mgpci) * cf)\n\n[1] 367.5065\n\n\n\nWith the pracma package’s dot() function:\n\npracma::dot(\n  c(wrvu, prvu, mrvu), \n  c(wgpci, pgpci, mgpci)) * cf\n\n[1] 367.5065\n\n\n\nWith the northstar package’s calculate_amounts() function:\n\ncalculate_amounts(\n  wrvu  = 6.26,\n  nprvu = 7.92,\n  fprvu = 4.36,\n  mrvu  = 0.99,\n  cf    = 32.744,\n  wgpci = 1,\n  pgpci = 0.883,\n  mgpci = 1.125\n)\n\nFacility Amounts:\n\nRVU Total ............ 11.22\nParticipating ........ $367.51\nNon-Particpating ..... $349.13\nLimiting Charge ...... $401.50\n\nNon-Facility Amounts:\n\nRVU Total ............ 14.37\nParticipating ........ $470.44\nNon-Particpating ..... $446.91\nLimiting Charge ...... $513.95\n\n\n\n\n\n\n\n\n\n\nNon-Facility vs. Facility\n\n\n\nUnder the MPFS, many procedures have separate payment amounts for physician services when provided in facility and non-facility settings.\nThe amount is determined by the Place of Service (POS) code. In general, the POS code reflects the actual place where the patient receives the face-to-face service and determines whether the facility or non-facility payment rate is paid.\nServices rendered to a patient who is an inpatient of a hospital (POS code 21) or an outpatient of a hospital (POS codes 19 or 22), the facility rate is paid, regardless of where the face-to-face encounter with the patient occurred.\n\n\n\n\n\n\n\n\n\nTherapy Code Capitation\n\n\n\nCertain therapy codes will receive a 50% reduction to the Practice Expense.\nSection 5102(b) of the Deficit Reduction Act of 2005 requires a payment cap on the Technical Component (TC) of certain diagnostic imaging procedures and the TC portions of the global diagnostic imaging services.\nThis cap is based on the Outpatient Prospective Payment System (OPPS) payment. To implement this provision, the Physician Fee Schedule amount is compared to the OPPS payment amount and the lower amount is used in the formula to calculate payment.\n\n\n\nAccepting assignment means that a healthcare provider or facility is partnered with Medicare and is required by law to charge only the Medicare-approved amount for various services. This amount is preset by Medicare and is often less than many healthcare facilities would charge.\nBecause of this, when patients receive care at a facility that accepts assignment, they will be required to pay lower out-of-pocket costs as Medicare will cover the full amount of the service cost. Personal costs only include the premium and any charges up to the deductible amount.\nPhysicians or facilities that do not accept assignment are a non-participating providers. All physicians are required to file with Medicare, indicating that they either accept or do not accept assignment. If a provider does not accept assignment, it means that they are not required to charge only the Medicare-approved amount for services.\n\nOne possible option for non-participating providers is to choose to accept assignment for some services but to decline assignment for others. For services that they accept assignment for, they are only able to bill the Medicare-approved amount. However, for other services, they are allowed to charge up to 15 percent more than the Medicare-approved amount.\nThis limit cap is known as the limiting charge. Providers that do not fully participate only receive 95 percent of the Medicare-approved amount when Medicare reimburses them for the cost of care. In turn, the provider can charge the patient up to 15 percent more than this reimbursement amount. This extra charge will not be covered by Medicare, which causes Medicare recipients to incur greater out-of-pocket costs.\nThe Medicare limiting charge is the maximum amount a Non-Participating Provider can charge for services submitted on a non-assigned claim. This is that maximum amount a beneficiary could legally be charged.\n\nThe Medicare limiting charge is, by law, set at 115\\% of the payment amount for the service furnished by the Non-Participating Physician.\nHowever, the law sets the payment amount for Non-Participating Physicians at 95\\% of the payment amount for Participating Physicians (i.e., the Fee Schedule amount).\nCalculating 95\\% of 115\\% of an amount, x, is equivalent to x \\times 1.0925 (or 109.25\\%):\n\n# 95% of 115% of 10\n(10 * 1.15) * 0.95 \n\n[1] 10.925\n\n# 109.25% of 10\n10 * 1.0925 \n\n[1] 10.925\n\n# using the northstar package\nlimiting_charge(10)\n\n[1] 10.925\n\n\n\nThis file contains information on services covered by the Medicare Physician Fee Schedule (MPFS). For more than 10,000 physician services, the file contains the associated relative value units (RVUs), a fee schedule status indicator, and various payment policy indicators needed for payment adjustment (i.e., payment of assistant at surgery, team surgery, bilateral surgery, etc.).\nThe Medicare physician fee schedule amounts are adjusted to reflect the variation in practice costs from area to area. A geographic practice cost index (GPCI) has been established for every Medicare payment locality for each of the three components of a procedure’s relative value unit (i.e., the RVUs for work, practice expense, and malpractice). The GPCIs are applied in the calculation of a fee schedule payment amount by multiplying the RVU for each component times the GPCI for that component.\n\n\nIndicates whether the code is in the fee schedule and whether it is separately payable if the service is covered. See Attachment A for description of values.\nOnly RVUs associated with status codes of A, R, or T, are used for Medicare payment.\n\n\nProvides time frames that apply to each surgical procedure.\n\n\n\nPreoperative\nIntraoperative\nPostoperative\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nFacility\nNon-Facility\n\n\n\nAn NA in this field indicates that this procedure is rarely or never performed in the Facility setting:\n\n\nAn NA in this field indicates that this procedure is rarely or never performed in the Non-Facility setting:\n\n\n\n\nIndicates applicable payment adjustment rule for multiple procedures (modifier 51)."
  },
  {
    "objectID": "posts/mpfs/mpfs.html#rvu",
    "href": "posts/mpfs/mpfs.html#rvu",
    "title": "Medicare Physician Fee Schedule",
    "section": "",
    "text": "The pdf labeled “RVU” is a comprehensive guide to the structure and contents of each file in the Relative Value zip file. It describes the methodology, that contains a data dictionary, record layout, and documentation\n\nrvu24a &lt;- rbrvs::get_source(year = 2024, source = \"pprrvu\")$rvu24a_jan |&gt; \n  dplyr::mutate(\n    mod = cheapr::factor_(mod),\n    status_code = cheapr::factor_(status_code),\n    pctc_ind = cheapr::factor_(pctc_ind),\n    glob_days = cheapr::factor_(glob_days),\n    mult_proc = cheapr::factor_(mult_proc),\n    bilat_surg = cheapr::factor_(bilat_surg),\n    asst_surg = cheapr::factor_(asst_surg),\n    co_surg = cheapr::factor_(co_surg),\n    team_surg = cheapr::factor_(team_surg),\n    physician_supervision_of_diagnostic_procedures = cheapr::factor_(physician_supervision_of_diagnostic_procedures),\n    diagnostic_imaging_family_indicator = cheapr::factor_(diagnostic_imaging_family_indicator),\n    )\n\nover &lt;- cheapr::overview(rvu24a, hist = TRUE)\n\nhcpcs_row &lt;- over$categorical |&gt; \n  dplyr::select(variable = col, value = n_unique) |&gt; \n  dplyr::filter(variable == \"hcpcs\")"
  },
  {
    "objectID": "posts/mpfs/mpfs.html#indicators",
    "href": "posts/mpfs/mpfs.html#indicators",
    "title": "Medicare Physician Fee Schedule",
    "section": "",
    "text": "dplyr::left_join(\n  vars |&gt; dplyr::filter(!is.na(value)),\n  dplyr::tibble(\n    variable = names(idx[collapse::funique(vars$variable)]),\n    description = idx[collapse::funique(vars$variable)]),\n  by = dplyr::join_by(variable)\n  ) |&gt; \n  fuimus::combine(\n    name = variable, \n    columns = c('variable', 'description'), \n    sep = \"&lt;br&gt;&lt;br&gt;\"\n    ) |&gt;\n  dplyr::add_row(\n    variable = toupper(hcpcs_row$variable),\n    value = as.character(format(hcpcs_row$value, big.mark = \",\")),\n    n = 18499,\n    pct = 1.0,\n    .before = 1\n    ) |&gt; \n  gt::gt(\n    groupname_col = \"variable\",\n    # rowname_col = \"value\",\n    row_group_as_column = TRUE,\n    process_md = TRUE) |&gt; \n  gt::tab_stubhead(label = \"Variable\") |&gt; \n  gt::cols_label(\n    value = \"Unique\\nValues\",\n    n = \"Total\",\n    pct = \"Percentage\"\n    ) |&gt;\n  gt::fmt_percent(columns = pct) |&gt; \n  gt::fmt_integer(columns = n) |&gt;\n  gt::opt_table_font(font = gt::google_font(name = \"Recursive\")) |&gt; \n  gt::opt_all_caps() |&gt; \n  gt::tab_options(\n    heading.align = \"left\",\n    heading.border.bottom.color = \"#4758AB\",\n    heading.title.font.weight = \"bold\",\n    heading.background.color = \"#4758AB\", # \"#f8f9fa\",\n    quarto.disable_processing = TRUE,\n    data_row.padding.horizontal = gt::px(20),\n    column_labels.padding.horizontal = gt::px(20),\n    table.border.top.color = \"#4758AB\",\n    table.width = gt::pct(100),\n    column_labels.hidden = FALSE,\n    # stub.font.weight = \"bold\",\n    # stub_row_group.font.weight = \"bold\",\n    column_labels.font.weight = \"bold\"\n  )\n\n\n\n\n\nVariable\n      Unique\nValues\n      Total\n      Percentage\n    \n\n\n\nHCPCS\n\n16,324\n18,499\n100.00%\n\n\n\nMODFor diagnostic tests, a blank in this field denotes the global service and the following modifiers identify the components:26 = Professional componentTC = Technical component For services other than those with a professional and/or technical component, a blank will appear in this field with one exception: the presence of CPT modifier -53 indicates that separate RVUs and a fee schedule amount have been established for procedures which the physician terminated before completion. This modifier is used only with colonoscopy CPT codes 44388 and 45378, or with G0105 and G0121. Any other codes billed with modifier -53 are subject to carrier medical review and priced by individual consideration.53 = Discontinued Procedure - Under certain circumstances, the physician may elect to terminate a surgical or diagnostic procedure. Due to extenuating circumstances, or those that threaten the well being of the patient, it may be necessary to indicate that a surgical or diagnostic procedure was started but discontinued.\n\n26\n1,096\n5.92%\n\n\nTC\n1,076\n5.82%\n\n\n53\n4\n0.02%\n\n\n\nSTATUS CODEIndicates whether the code is in the fee schedule and whether it is separately payable if the service is covered. Only RVUs associated with status codes of A, R, or T, are used for Medicare payment.\n\nA\n8,975\n48.52%\n\n\nX\n2,527\n13.66%\n\n\nI\n1,411\n7.63%\n\n\nE\n1,343\n7.26%\n\n\nM\n1,201\n6.49%\n\n\nC\n1,156\n6.25%\n\n\nR\n1,050\n5.68%\n\n\nN\n327\n1.77%\n\n\nJ\n276\n1.49%\n\n\nP\n142\n0.77%\n\n\nB\n83\n0.45%\n\n\nT\n8\n0.04%\n\n\n\nNOT USED FOR MEDICARE PAYMENTThe name says it all\n\n+\n133\n0.72%\n\n\n\nNON FAC INDICATORAn NA in this field indicates that this procedure is rarely or never performed in the non-facility setting.\n\nNA\n4,066\n21.98%\n\n\n\nFACILITY INDICATORAn NA in this field indicates that this procedure is rarely or never performed in the facility setting.\n\nNA\n2,468\n13.34%\n\n\n\nPCTC INDProfessional Component (PC) or Technical Component (TC) Indicator\n\n9\n7,704\n41.65%\n\n\n0\n7,128\n38.53%\n\n\n1\n3,229\n17.45%\n\n\n3\n178\n0.96%\n\n\n5\n104\n0.56%\n\n\n7\n74\n0.40%\n\n\n2\n44\n0.24%\n\n\n6\n20\n0.11%\n\n\n4\n17\n0.09%\n\n\n8\n1\n0.01%\n\n\n\nGLOB DAYSGlobal Surgery postoperative timeframes that apply to payment for each surgical procedure or another indicator that describes how the global concept applies to the service.\n\nXXX\n11,262\n60.88%\n\n\n090\n3,771\n20.38%\n\n\n000\n1,326\n7.17%\n\n\nYYY\n933\n5.04%\n\n\nZZZ\n719\n3.89%\n\n\n010\n471\n2.55%\n\n\nMMM\n17\n0.09%\n\n\n\nMULT PROCMultiple Procedure (CPT Modifier 51) indicator shows which payment adjustment rule for multiple procedures applies to the service.\n\n9\n7,876\n42.58%\n\n\n2\n5,287\n28.58%\n\n\n0\n4,044\n21.86%\n\n\n4\n420\n2.27%\n\n\n3\n361\n1.95%\n\n\n6\n361\n1.95%\n\n\n7\n98\n0.53%\n\n\n5\n52\n0.28%\n\n\n\nBILAT SURGBilateral Surgery Indicator (CPT Modifier 50) for services subject to a payment adjustment.\n\n9\n7,892\n42.66%\n\n\n0\n7,784\n42.08%\n\n\n1\n2,203\n11.91%\n\n\n2\n383\n2.07%\n\n\n3\n237\n1.28%\n\n\n\nASST SURGAssistant at Surgery (Modifiers AS, 80, 81, and 82) indicator for services where Medicare never pays an assistant at surgery.\n\n9\n7,940\n42.92%\n\n\n0\n5,595\n30.24%\n\n\n2\n2,781\n15.03%\n\n\n1\n2,183\n11.80%\n\n\n\nCO SURGCo-Surgeons (Modifier 62) This field gives an indicator for services for which Medicare may pay 2 surgeons, each in a different specialty.\n\n9\n7,885\n42.62%\n\n\n0\n7,839\n42.38%\n\n\n1\n2,474\n13.37%\n\n\n2\n301\n1.63%\n\n\n\nTEAM SURGTeam Surgeons (Modifier 66) This field gives an indicator for services for which Medicare may pay team surgeons.\n\n0\n10,430\n56.38%\n\n\n9\n7,885\n42.62%\n\n\n1\n133\n0.72%\n\n\n2\n51\n0.28%\n\n\n\nENDO BASEEndoscopic Base Code for each code with a multiple surgery indicator of 3.\n\n52000\n44\n0.24%\n\n\n31231\n30\n0.16%\n\n\n43235\n30\n0.16%\n\n\n31622\n20\n0.11%\n\n\n43200\n18\n0.10%\n\n\n49320\n18\n0.10%\n\n\n29870\n15\n0.08%\n\n\n45330\n14\n0.08%\n\n\n45378\n14\n0.08%\n\n\n44388\n13\n0.07%\n\n\n29805\n11\n0.06%\n\n\n43260\n10\n0.05%\n\n\n45300\n10\n0.05%\n\n\n46600\n10\n0.05%\n\n\n44360\n9\n0.05%\n\n\n31525\n8\n0.04%\n\n\n31575\n8\n0.04%\n\n\n31526\n7\n0.04%\n\n\n52351\n7\n0.04%\n\n\n58555\n7\n0.04%\n\n\n29860\n6\n0.03%\n\n\n29830\n5\n0.03%\n\n\n29840\n5\n0.03%\n\n\n43191\n5\n0.03%\n\n\n50570\n5\n0.03%\n\n\n57452\n5\n0.03%\n\n\n31505\n4\n0.02%\n\n\n47552\n4\n0.02%\n\n\n50951\n4\n0.02%\n\n\n44376\n3\n0.02%\n\n\n44380\n3\n0.02%\n\n\n50551\n3\n0.02%\n\n\n0652T\n2\n0.01%\n\n\n50970\n2\n0.01%\n\n\n43197\n1\n0.01%\n\n\n66710\n1\n0.01%\n\n\n\nPHYSICIAN SUPERVISION OF DIAGNOSTIC PROCEDURESMedicare uses this field in post payment review.\n\n09\n17,465\n94.41%\n\n\n01\n533\n2.88%\n\n\n02\n249\n1.35%\n\n\n03\n207\n1.12%\n\n\n04\n16\n0.09%\n\n\n6A\n13\n0.07%\n\n\n7A\n9\n0.05%\n\n\n21\n5\n0.03%\n\n\n05\n1\n0.01%\n\n\n66\n1\n0.01%\n\n\n\nDIAGNOSTIC IMAGING FAMILY INDICATORIdentifies the applicable Diagnostic Service family for HCPCS codes with a Multiple Procedure indicator of 4. For services effective January 1, 2011, and after, family indicators 01 - 11 won’t populate.\n\n99\n18,055\n97.60%\n\n\n88\n444\n2.40%\n\n\n\n\n\n\n\nover$numeric |&gt; \n  dplyr::select(\n    variable = col, \n    unique = n_unique,\n    # min = p0, \n    # p25,\n    # median = p50,\n    p75,\n    max = p100,\n    iqr, \n    mean,\n    sd,\n    hist\n    ) |&gt;\n  gt::gt(\n    groupname_col = \"variable\",\n    row_group_as_column = TRUE,\n    process_md = TRUE) |&gt; \n  gt::fmt_integer(columns = unique) |&gt;\n  gt::fmt_number(columns = p75:sd) |&gt;\n  gt::opt_table_font(font = gt::google_font(name = \"Recursive\")) |&gt; \n  gt::tab_options(\n    heading.align = \"left\",\n    heading.border.bottom.color = \"#4758AB\",\n    heading.title.font.weight = \"bold\",\n    heading.background.color = \"#4758AB\", # \"#f8f9fa\",\n    quarto.disable_processing = TRUE,\n    data_row.padding.horizontal = gt::px(20),\n    column_labels.padding.horizontal = gt::px(20),\n    table.border.top.color = \"#4758AB\",\n    table.width = gt::pct(100),\n    column_labels.hidden = FALSE\n  )\n\n\n\n\n\n\n      unique\n      p75\n      max\n      iqr\n      mean\n      sd\n      hist\n    \n\n\n\nwork_rvu\n\n2,486\n3.21\n108.91\n3.21\n3.88\n8.51\n▇▁▁▁▁\n\n\n\nnon_fac_pe_rvu\n\n2,310\n5.35\n355.87\n5.35\n4.01\n10.52\n▇▁▁▁▁\n\n\n\nfacility_pe_rvu\n\n2,079\n3.66\n53.07\n3.66\n3.03\n5.60\n▇▁▁▁▁\n\n\n\nmp_rvu\n\n1,026\n0.43\n28.99\n0.43\n0.83\n2.20\n▇▁▁▁▁\n\n\n\nnon_facility_total\n\n3,877\n9.79\n364.53\n9.79\n8.71\n18.07\n▇▁▁▁▁\n\n\n\nfacility_total\n\n3,683\n7.50\n171.00\n7.50\n7.74\n15.57\n▇▁▁▁▁\n\n\n\npre_op\n\n8\n0.00\n0.17\n0.00\n0.02\n0.04\n▇▁▂▁▁\n\n\n\nintra_op\n\n14\n0.00\n0.84\n0.00\n0.17\n0.32\n▇▁▁▁▂\n\n\n\npost_op\n\n11\n0.00\n0.23\n0.00\n0.03\n0.07\n▇▁▁▁▁\n\n\n\nconv_factor\n\n1\n32.74\n32.74\n0.00\n32.74\n0.00\n▁▁▇▁▁\n\n\n\nnon_facility_pe_used_for_opps_payment_amount\n\n417\n0.00\n159.54\n0.00\n0.90\n7.15\n▇▁▁▁▁\n\n\n\nfacility_pe_used_for_opps_payment_amount\n\n417\n0.00\n159.54\n0.00\n0.90\n7.15\n▇▁▁▁▁\n\n\n\nmp_used_for_opps_payment_amount\n\n81\n0.00\n1.83\n0.00\n0.01\n0.06\n▇▁▁▁▁"
  },
  {
    "objectID": "posts/mpfs/mpfs.html#pprvu",
    "href": "posts/mpfs/mpfs.html#pprvu",
    "title": "Medicare Physician Fee Schedule",
    "section": "",
    "text": "The MPFS is a listing of the relative value units (RVUs) for each CPT code, as well as the geographic practice cost index (GPCI) for each code. The RVUs are used to calculate the payment amount for each service, while the GPCI is used to adjust the payment amount based on the location where the service is provided.\nThis file contains information on services covered by the MPFS in 2024. For more than 10,000 physician services, the file contains the associated RVUs, a fee schedule status indicator, and various payment policy indicators needed for payment adjustment (i.e., payment of assistant at surgery, team surgery, bilateral surgery, etc.).\nThe MPFS amounts are adjusted to reflect the variation in practice costs from area to area. A GPCI has been established for every Medicare payment locality for each of the three components of a procedure’s RVU:\n\nPhysician Work\nPractice Expense\nMalpractice Expense (sometimes called Professional Liability Insurance)\n\nThe GPCIs are applied in the calculation of a fee schedule payment amount by multiplying the RVU for each component times the GPCI for that component.\n\n x = [(RVU_w \\times GPCI_w) + (RVU_p \\times GPCI_p) + (RVU_m \\times GPCI_m)] \\times CF \n\n y = 0.95x \n\n z = 0.95(1.15x) \n\n\n\n\n\n\nMany Ways to Say the Same Thing\n\n\n\n\nAs there is a corresponding GPCI value for each of the three components of an RVU, the formula is essentially the dot product of the RVU and GPCI vectors, multiplied by the conversion factor:\n\n a \\cdot b = a_1b_1 + a_2b_2 + a_3b_3 \nSetting up the variables:\n\nwrvu  = 6.26   # Work RVU\nwgpci = 1      # Work GPCI\n\npgpci = 0.883  # Practice GPCI\nprvu  = 4.36   # Practice RVU\n\nmrvu  = 0.99   # Malpractice RVU\nmgpci = 1.125  # Malpractice GPCI\n\ncf    = 32.744 # Conversion Factor\n\n\nBasic Calculation:\n\n((wrvu * wgpci) + \n   (prvu * pgpci) + \n   (mrvu * mgpci)) * cf\n\n[1] 367.5065\n\n\n\nWith base R’s Matrix Multiplication Infix Operator:\n\nas.vector(\n  c(wrvu, prvu, mrvu) %*% \n  c(wgpci, pgpci, mgpci) * cf)\n\n[1] 367.5065\n\n\n\nWith the pracma package’s dot() function:\n\npracma::dot(\n  c(wrvu, prvu, mrvu), \n  c(wgpci, pgpci, mgpci)) * cf\n\n[1] 367.5065\n\n\n\nWith the northstar package’s calculate_amounts() function:\n\ncalculate_amounts(\n  wrvu  = 6.26,\n  nprvu = 7.92,\n  fprvu = 4.36,\n  mrvu  = 0.99,\n  cf    = 32.744,\n  wgpci = 1,\n  pgpci = 0.883,\n  mgpci = 1.125\n)\n\nFacility Amounts:\n\nRVU Total ............ 11.22\nParticipating ........ $367.51\nNon-Particpating ..... $349.13\nLimiting Charge ...... $401.50\n\nNon-Facility Amounts:\n\nRVU Total ............ 14.37\nParticipating ........ $470.44\nNon-Particpating ..... $446.91\nLimiting Charge ...... $513.95\n\n\n\n\n\n\n\n\n\n\nNon-Facility vs. Facility\n\n\n\nUnder the MPFS, many procedures have separate payment amounts for physician services when provided in facility and non-facility settings.\nThe amount is determined by the Place of Service (POS) code. In general, the POS code reflects the actual place where the patient receives the face-to-face service and determines whether the facility or non-facility payment rate is paid.\nServices rendered to a patient who is an inpatient of a hospital (POS code 21) or an outpatient of a hospital (POS codes 19 or 22), the facility rate is paid, regardless of where the face-to-face encounter with the patient occurred.\n\n\n\n\n\n\n\n\n\nTherapy Code Capitation\n\n\n\nCertain therapy codes will receive a 50% reduction to the Practice Expense.\nSection 5102(b) of the Deficit Reduction Act of 2005 requires a payment cap on the Technical Component (TC) of certain diagnostic imaging procedures and the TC portions of the global diagnostic imaging services.\nThis cap is based on the Outpatient Prospective Payment System (OPPS) payment. To implement this provision, the Physician Fee Schedule amount is compared to the OPPS payment amount and the lower amount is used in the formula to calculate payment."
  },
  {
    "objectID": "posts/mpfs/mpfs.html#accepting-assignment",
    "href": "posts/mpfs/mpfs.html#accepting-assignment",
    "title": "Medicare Physician Fee Schedule",
    "section": "",
    "text": "Accepting assignment means that a healthcare provider or facility is partnered with Medicare and is required by law to charge only the Medicare-approved amount for various services. This amount is preset by Medicare and is often less than many healthcare facilities would charge.\nBecause of this, when patients receive care at a facility that accepts assignment, they will be required to pay lower out-of-pocket costs as Medicare will cover the full amount of the service cost. Personal costs only include the premium and any charges up to the deductible amount.\nPhysicians or facilities that do not accept assignment are a non-participating providers. All physicians are required to file with Medicare, indicating that they either accept or do not accept assignment. If a provider does not accept assignment, it means that they are not required to charge only the Medicare-approved amount for services.\n\nOne possible option for non-participating providers is to choose to accept assignment for some services but to decline assignment for others. For services that they accept assignment for, they are only able to bill the Medicare-approved amount. However, for other services, they are allowed to charge up to 15 percent more than the Medicare-approved amount.\nThis limit cap is known as the limiting charge. Providers that do not fully participate only receive 95 percent of the Medicare-approved amount when Medicare reimburses them for the cost of care. In turn, the provider can charge the patient up to 15 percent more than this reimbursement amount. This extra charge will not be covered by Medicare, which causes Medicare recipients to incur greater out-of-pocket costs.\nThe Medicare limiting charge is the maximum amount a Non-Participating Provider can charge for services submitted on a non-assigned claim. This is that maximum amount a beneficiary could legally be charged.\n\nThe Medicare limiting charge is, by law, set at 115\\% of the payment amount for the service furnished by the Non-Participating Physician.\nHowever, the law sets the payment amount for Non-Participating Physicians at 95\\% of the payment amount for Participating Physicians (i.e., the Fee Schedule amount).\nCalculating 95\\% of 115\\% of an amount, x, is equivalent to x \\times 1.0925 (or 109.25\\%):\n\n# 95% of 115% of 10\n(10 * 1.15) * 0.95 \n\n[1] 10.925\n\n# 109.25% of 10\n10 * 1.0925 \n\n[1] 10.925\n\n# using the northstar package\nlimiting_charge(10)\n\n[1] 10.925"
  },
  {
    "objectID": "posts/mpfs/mpfs.html#relative-value-file",
    "href": "posts/mpfs/mpfs.html#relative-value-file",
    "title": "Medicare Physician Fee Schedule",
    "section": "",
    "text": "This file contains information on services covered by the Medicare Physician Fee Schedule (MPFS). For more than 10,000 physician services, the file contains the associated relative value units (RVUs), a fee schedule status indicator, and various payment policy indicators needed for payment adjustment (i.e., payment of assistant at surgery, team surgery, bilateral surgery, etc.).\nThe Medicare physician fee schedule amounts are adjusted to reflect the variation in practice costs from area to area. A geographic practice cost index (GPCI) has been established for every Medicare payment locality for each of the three components of a procedure’s relative value unit (i.e., the RVUs for work, practice expense, and malpractice). The GPCIs are applied in the calculation of a fee schedule payment amount by multiplying the RVU for each component times the GPCI for that component.\n\n\nIndicates whether the code is in the fee schedule and whether it is separately payable if the service is covered. See Attachment A for description of values.\nOnly RVUs associated with status codes of A, R, or T, are used for Medicare payment."
  },
  {
    "objectID": "posts/mpfs/mpfs.html#global-surgery-days",
    "href": "posts/mpfs/mpfs.html#global-surgery-days",
    "title": "Medicare Physician Fee Schedule",
    "section": "",
    "text": "Provides time frames that apply to each surgical procedure.\n\n\n\nPreoperative\nIntraoperative\nPostoperative"
  },
  {
    "objectID": "posts/mpfs/mpfs.html#indicators-1",
    "href": "posts/mpfs/mpfs.html#indicators-1",
    "title": "Medicare Physician Fee Schedule",
    "section": "",
    "text": "Facility\nNon-Facility\n\n\n\nAn NA in this field indicates that this procedure is rarely or never performed in the Facility setting:\n\n\nAn NA in this field indicates that this procedure is rarely or never performed in the Non-Facility setting:\n\n\n\n\nIndicates applicable payment adjustment rule for multiple procedures (modifier 51)."
  },
  {
    "objectID": "posts/rules/claims_rules.html",
    "href": "posts/rules/claims_rules.html",
    "title": "Building Claims Rules",
    "section": "",
    "text": "Rule Descriptors\n\n\nid: Unique Numeric Identifier; &lt;Primary Key&gt;\n\n\nname: Unique Alphanumeric Identifier; &lt;Primary Key&gt;\n\n\ncategory: High-Level Classification\n\ndescription: Human Readable Description of Rule Steps\n\nrationale: Reason for Implementation\n\nsources: URLs, References, or Documentation\n\n\nStep Components\n\n\nstep: Indicates Order of Step in Rule Validation\n\nvariable: Variable to Evaluate\n\nclass: Variable Data Class\n\naction: Operation Performed to Test for Expected State\n\nmethod: Operation Performed to Test for Expected State\n\nexpression: Actual Code to Run\n\nvalue: Value Representing Expected State of Rule Variable\n\n\n\n\nrules[1, 2:10] |&gt; glimpse()\n\nRows: 1\nColumns: 9\n$ id          &lt;int&gt; 1\n$ step        &lt;int&gt; 1\n$ name        &lt;chr&gt; \"ExpiredCPT\"\n$ variable    &lt;chr&gt; \"CPT Code\"\n$ action      &lt;chr&gt; \"is\"\n$ value       &lt;chr&gt; \"43760\"\n$ category    &lt;chr&gt; \"Expired CPT\"\n$ description &lt;chr&gt; \"CPT Code is [*****] AND Encounter Date of Service after […\n$ rationale   &lt;chr&gt; \"43760 expired effective 1/1/19 - to report, please see (4…\n\nrules[2, 2:10] |&gt; glimpse()\n\nRows: 1\nColumns: 9\n$ id          &lt;int&gt; 1\n$ step        &lt;int&gt; 2\n$ name        &lt;chr&gt; \"ExpiredCPT\"\n$ variable    &lt;chr&gt; \"Encounter Date of Service\"\n$ action      &lt;chr&gt; \"after\"\n$ value       &lt;chr&gt; \"01/01/2019\"\n$ category    &lt;chr&gt; \"Expired CPT\"\n$ description &lt;chr&gt; \"CPT Code is [*****] AND Encounter Date of Service after […\n$ rationale   &lt;chr&gt; \"43760 expired effective 1/1/19 - to report, please see (4…\n\n\n\nrules[3, 2:10] |&gt; glimpse()\n\nRows: 1\nColumns: 9\n$ id          &lt;int&gt; 2\n$ step        &lt;int&gt; 1\n$ name        &lt;chr&gt; \"ALBCBS1\"\n$ variable    &lt;chr&gt; \"Primary Insurance\"\n$ action      &lt;chr&gt; \"is\"\n$ value       &lt;chr&gt; \"BCBS\"\n$ category    &lt;chr&gt; \"NDC Numbers\"\n$ description &lt;chr&gt; \"Primary Insurance is [BCBS] AND CPT Code is [J*] AND CPT …\n$ rationale   &lt;chr&gt; \"Alabama BCBS requires NDC numbers.\"\n\nrules[4, 2:10] |&gt; glimpse()\n\nRows: 1\nColumns: 9\n$ id          &lt;int&gt; 2\n$ step        &lt;int&gt; 2\n$ name        &lt;chr&gt; \"ALBCBS1\"\n$ variable    &lt;chr&gt; \"CPT Code\"\n$ action      &lt;chr&gt; \"is\"\n$ value       &lt;chr&gt; \"J*\"\n$ category    &lt;chr&gt; \"NDC Numbers\"\n$ description &lt;chr&gt; \"Primary Insurance is [BCBS] AND CPT Code is [J*] AND CPT …\n$ rationale   &lt;chr&gt; \"Alabama BCBS requires NDC numbers.\"\n\nrules[5, 2:10] |&gt; glimpse()\n\nRows: 1\nColumns: 9\n$ id          &lt;int&gt; 2\n$ step        &lt;int&gt; 3\n$ name        &lt;chr&gt; \"ALBCBS1\"\n$ variable    &lt;chr&gt; \"CPT NDC (Presence)\"\n$ action      &lt;chr&gt; \"is not\"\n$ value       &lt;chr&gt; \"Present\"\n$ category    &lt;chr&gt; \"NDC Numbers\"\n$ description &lt;chr&gt; \"Primary Insurance is [BCBS] AND CPT Code is [J*] AND CPT …\n$ rationale   &lt;chr&gt; \"Alabama BCBS requires NDC numbers.\"\n\nrules[6, 2:10] |&gt; glimpse()\n\nRows: 1\nColumns: 9\n$ id          &lt;int&gt; 3\n$ step        &lt;int&gt; 1\n$ name        &lt;chr&gt; \"ALBCBS2\"\n$ variable    &lt;chr&gt; \"Primary Insurance\"\n$ action      &lt;chr&gt; \"is\"\n$ value       &lt;chr&gt; \"BCBS\"\n$ category    &lt;chr&gt; \"NDC Numbers\"\n$ description &lt;chr&gt; \"Primary Insurance is [BCBS (125)] AND CPT NDC (Presence) …\n$ rationale   &lt;chr&gt; \"Alabama BCBS requires NDC numbers on vaccine codes.\"\n\n\n\n\nid\nname: Split letters/numbers, categorize Payer, State, etc.\ncategory:\ndescription:\nrationale: Steps are detailed in the rationale that are missing from the ruleset\nsources: Extract urls from category\n\n\ndescriptors &lt;- rules |&gt; \n  select(id, name, category, description, rationale) |&gt; \n  distinct() |&gt; \n  mutate(sources = str_extract_all(category,\"https?://[^\\\\s]+\"),\n         category = str_remove_all(category,\"https?://[^\\\\s]+\")) |&gt;\n  unnest(sources, keep_empty = TRUE) |&gt;\n  separate_longer_delim(sources, delim = \"https:\") |&gt;\n  mutate(sources = na_if(sources, \"\") |&gt; str_squish(),\n         sources = if_else(!is.na(sources), str_c(\"https:\", sources), sources),\n         category = na_if(category, \"\") |&gt; str_squish(),\n         description = str_squish(description),\n         description = str_remove_all(description, \"►\"),\n         description = gsub(\",(?!\\\\s)\", \", \", description, perl = TRUE) |&gt; str_squish(),\n         rationale = str_squish(rationale),\n         rationale = str_remove_all(rationale, \"►\"),\n         rationale = gsub(\",(?!\\\\s)\", \", \", rationale, perl = TRUE) |&gt; str_squish()\n         ) |&gt; \n  nest(sources = c(sources))\n\ndescriptors\n\n# A tibble: 1,192 × 6\n      id name       category                      description rationale sources \n   &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;                         &lt;chr&gt;       &lt;chr&gt;     &lt;list&gt;  \n 1     1 ExpiredCPT Expired CPT                   CPT Code i… 43760 ex… &lt;tibble&gt;\n 2     2 ALBCBS1    NDC Numbers                   Primary In… Alabama … &lt;tibble&gt;\n 3     3 ALBCBS2    NDC Numbers                   Primary In… Alabama … &lt;tibble&gt;\n 4     4 ALBCBS3    NDC Numbers                   Primary In… Add acci… &lt;tibble&gt;\n 5     5 ALBCBS4    Wellness visits - BMI & BP r… Primary In… When fil… &lt;tibble&gt;\n 6     6 ALMCD1     Independent RHC claims        Primary In… RHC clai… &lt;tibble&gt;\n 7     7 ALMCD2     BMI requirement               Primary In… Beginnin… &lt;tibble&gt;\n 8     8 ALMCD3     Pediatric BMI                 Primary In… Pediatri… &lt;tibble&gt;\n 9     9 ALMCD4     Adult BMI                     Primary In… Adult BM… &lt;tibble&gt;\n10    10 ALMCD5     NDC requirement               Primary In… The NDC … &lt;tibble&gt;\n# ℹ 1,182 more rows\n\n\n\n\ndescriptors |&gt; \n  reframe(\n    id,\n    name,\n    state = if_else(\n      str_sub(name, 1, 2) %in% state.abb, \n      str_sub(name, 1, 2), NA_character_),\n    char = strex::str_extract_non_numerics(str_sub(name, 3, -1)),\n    int = strex::str_extract_numbers(name)\n  ) |&gt; \n  unnest(c(int, char), keep_empty = TRUE) |&gt; \n  mutate(\n    state = if_else(\n      str_sub(char, -2) %in% state.abb, \n      str_sub(char, -2), state)\n  )\n\n# A tibble: 1,372 × 5\n      id name       state char       int\n   &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;\n 1     1 ExpiredCPT &lt;NA&gt;  piredCPT    NA\n 2     2 ALBCBS1    AL    BCBS         1\n 3     3 ALBCBS2    AL    BCBS         2\n 4     4 ALBCBS3    AL    BCBS         3\n 5     5 ALBCBS4    AL    BCBS         4\n 6     6 ALMCD1     AL    MCD          1\n 7     7 ALMCD2     AL    MCD          2\n 8     8 ALMCD3     AL    MCD          3\n 9     9 ALMCD4     AL    MCD          4\n10    10 ALMCD5     AL    MCD          5\n# ℹ 1,362 more rows\n\n\n\n\ndescriptors |&gt;\n  slice_sample(n = 50) |&gt; \n  mutate(category = str_wrap(category, width = 50),\n         description = str_wrap(description, width = 60),\n         rationale = str_wrap(rationale, width = 50)) |&gt;\n  select(-sources) |&gt; \n  gt(rowname_col = \"name\",\n     groupname_col = \"category\",\n     row_group_as_column = TRUE) |&gt;\n  cols_align(align = \"left\", columns = -c(id)) |&gt;\n  cols_align(align = \"center\", columns = c(id)) |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = \"left\",\n        weight = \"bold\",\n        size = px(14),\n        whitespace = \"break-spaces\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(description))) |&gt;\n  tab_style(\n      style = cell_text(\n        color = \"#0B0B35\",\n        align = \"center\",\n        weight = \"bold\",\n        size = px(16),\n        font = google_font(name = \"Roboto Condensed\")),\n      locations = cells_body(columns = c(id))) |&gt;\n  gtExtras::gt_add_divider(\n    columns = \"description\", \n    style = \"solid\",\n    weight = \"3px\",\n    color = \"royalblue\") |&gt;\n  tab_style(\n    style = cell_text(\n      v_align = \"middle\", \n      align = \"right\",\n      weight = \"800\"),\n    locations = cells_row_groups()) |&gt; \n  tab_style(\n    style = cell_text(\n      size = px(16),\n      font = google_font(name = \"JetBrains Mono\"),\n      v_align = \"middle\", \n      align = \"center\"\n      ),\n    locations = cells_stub()) |&gt; \n  opt_stylize(add_row_striping = TRUE) |&gt;\n  tab_options(table.width = pct(85),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\n\n      id\n      description\n      rationale\n    \n\n\nZ34 Encounter for supervision of normal pregnancy\nICD10-89\n705\nDX Code is [Z34*] AND DX Code is one of [O*, Z32.0*]\nEncounter for supervision of normal pregnancy\n(Z34) should not be reported with any complication\nof pregnancy (O00-O9A), encounter for pregnancy\ntest (Z32.0-), or encounter for supervision of\nhigh risk pregnancy (O09.-).\n\n\nNA\nCOVID19-47\n819\nDelete\nModifier GT must be appended to the CPT or HCPCS\ncode to indicate that a service has been provided\nvia interactive audio-visual communication. This\nmodifier is not appropriate for services performed\ntelephonically or through email or patient portal.\n\n\nVACCN65\n947\nCPT Code is [91309] AND Encounter Date of Service after\n09/11/2023\nVaccine is no longer authorized for use in the\nUnited States. See 91322 for 50 mcg Moderna\nvaccine.\n\n\nANEST9\n839\nDX Code is one of Z85.03*, Z85.04*, Z80.0, Z12.11, Z86.010\nAND AND CPT Code is one of 0081*, G0500, 99153 AND CPT Mod1\nis not PT, 33 AND CPT Mod2 is not PT, 33 AND CPT Mod3 is not\nPT, 33\nIf a screening colonoscopy turns diagnostic\n(polypectomy, biopsy, etc), add modifier 33 (PT\nfor Medicare) to 00811 to show screening was\nintended. If only screening performed, see 00812.\n\n\nVFC-ID\n651\nPrimary Insurance Class is not [COMMERCIAL (1), MEDICAID\n(2), MEDICAID CMO (3), MEDICARE (4), MEDICARE REPLACEMENT\n(5), WORKERS COMP (6)] AND Patient Age is younger than [19,\nyears] AND CPT Code is one of [90460, 90461, 90471, 90472,\n90473, 90474, 90619, 90620, 90621, 90633, 90647, 90648,\n90651, 90670, 90671, 90672, 90674, 90677, 90680, 90681,\n90682, 90685, 90686, 90687, 90688, 90696, 90697, 90698,\n90700, 90702, 90707, 90710, 90713, 90714, 90715, 90716,\n90723, 90732, 90734, 90740, 90743, 90744, 90746, 90747,\n90749, 90756, 90759]\nThe maximum fees that providers may charge for the\nadministration of pediatric vaccines to uninsured\nchildren under the Vaccines for Children (VFC)\nprogram is $20.13 per dose. Serum codes should be\nreported as $0.00 if present.\n\n\nMEDSV4\n576\nPrimary Insurance Class is one of [MEDICARE (4), MEDICARE\nADVANTAGE] AND CPT Code is one of [92521, 92522, 92523,\n92524, 92597, 92607] AND CPT Mod1 is not [GN]\nCodes Requiring the “GN” Therapy Modifier are\npresent.\n\n\nCOMCD2\n746\nPrimary Insurance Class is [MEDICAID (4)] AND ( CPT Rev Code\nis not [0521] OR CPT UB04 is [false] )\nRHCs that submit a UB-04 must have at least one\n(1) claim line that identifies revenue code 0521\nfor RHCs. All other lines on the claim should have\nthe revenue code most appropriate for the service.\nThe line item with revenue code 0521 can appear at\nany line on the claim and with any procedure code.\n\n\nDME31\n924\nA capped rental item is present. If item is a rental and not\na purchase, use monthly rental modifiers (KH, KI, KJ, or KR)\nin addition to modifier RR, if applicable. Be sure item is\nlisted in the patients configured encounters.\nA capped rental item is present. If item is a\nrental and not a purchase, use monthly rental\nmodifiers (KH, KI, KJ, or KR) in addition to\nmodifier RR. Be sure item is listed in the\npatients configured encounters.\n\n\nDME8\n901\nCPT Code is one of [A9283; L3000; L3001; L3002; L3003;\nL3010; L3020; L3030; L3031; L3040; L3050; L3060; L3070;\nL3080; L3090; L3100; L3140; L3150; L3160; L3170; L3201;\nL3202; L3203; L3204; L3206; L3207; L3208; L3209; L3211;\nL3212; L3213; L3214; L3215; L3216; L3217; L3219; L3221;\nL3222; L3224; L3225; L3230; L3250; L3251; L3252; L3253;\nL3254; L3255; L3257; L3260; L3265; L3300; L3310; L3320;\nL3330; L3332; L3334; L3340; L3350; L3360; L3370; L3380;\nL3390; L3400; L3410; L3420; L3430; L3440; L3450; L3455;\nL3460; L3465; L3470; L3480; L3485; L3500; L3510; L3520;\nL3530; L3540; L3550; L3560; L3570; L3580; L3590; L3595;\nL3600; L3610; L3620; L3630; L3640; L3649] AND ( CPT Mod1 is\nnot [EY; GY; KX] AND CPT Mod2 is not [EY; GY; KX] AND CPT\nMod3 is not [EY; GY; KX] AND CPT Mod4 is not [EY; GY; KX] )\nOrthopedic Footwear may require the usage of the\nKX modifier to identify that the requirements\nidentified in the medical policy have been met. If\nrequirements were not met, see also modifier EY or\nGY. Review payer guidelines.\n\n\nOBGYN2\n711\nDX Code is [Z34*] AND CPT Code is not [0500F, 0501F, 0502F]\nAND CPT Code is not [9920*, 9921*, 9922*, 9923*, 9924*,\n9925*, 9928*, 9929*, 9930*, 9931*, 9932*, 9933*, 9934*,\n9935*, 9938*, 9939*, 9946*, 9947*, 9948*, 9949*]\nAdd reporting codes for prenatal visits for\ntracking purposes. 0500F: Initial prenatal care\nvisit or 0502F: Subsequent prenatal care visit.\n\n\nIDMCD4\n639\nPrimary Insurance is [Medicaid of Idaho (2)] AND CPT Code is\n[80050]\n80050 is not reimbursed by payer. Unbundle labs\nand bill individually.\n\n\nVACCN64\n934\nCPT Code is [91305, 91307] AND Encounter Date of Service\nafter 09/11/2023\nVaccine no longer approved for use in the United\nStates. See 91318 for 3 mcg Pfizer vaccine.\n\n\nGABCBS2\n944\nPrimary Insurance is one of [BCBS OF GA - B2 (47); BCBS OF\nGA FEDERAL CLAIMS - KSB (48); BCBS OF GA CAP (49); BCBS OF\nGA - B2 (50); BCBS OF GA HAM (51); BCBS PATHWAY - B2 (52);\nBCBS SECONDARY - B2 (53); BCBS XKT (54); MEDICARE BCBS ADV -\nKBB (227); Credence BCBS (572)] AND CPT Code is [J*] AND CPT\nNDC (Presence) is [Not Present]\nBCBS/Anthem requires NDC info on claim\n\n\nVACCN50\n694\nPatient Age is younger than [3, years] AND CPT Code is\n[90688]\nReview CPT versus age of the patient. 90688 is for\npatients aged 3 years and older.\n\n\nVACCN45\n633\nCPT Code is [91303] AND Encounter Date of Service after\n06/01/2023\nCode the Janssen Covid-19 Vaccine Administration\ncode (0031A for the first vaccine, 0034A for the\nBooster). Vaccine is no longer authorized for use\nin the United States.\n\n\nAUDIO6\n1004\nCPT Code is one of [69209; 69210] AND CPT Code is [992*]\n(For RHC/FQHC accounts)\n\n\nE&M61\n991\nEncounter Date of Service after 01/01/2023 AND CPT code is\none of 99339, 99340\n99339/99340 are expired codes. See CPT 99437,\n99491, 99424, 99425.\n\n\nOBGYN2\n711\nDX Code is [Z34*] AND CPT Code is not [0500F, 0501F, 0502F]\nAND CPT Code is not [9920*, 9921*, 9922*, 9923*, 9924*,\n9925*, 9928*, 9929*, 9930*, 9931*, 9932*, 9933*, 9934*,\n9935*, 9938*, 9939*, 9946*, 9947*, 9948*, 9949*]\n**Account specific alert for internal procedure.\nDo not add unless requested.\n\n\nLabs Rev Code\nRHC19\n282\nCPT Code is [8*] AND CPT UB04 is [true] AND CPT Rev Code is\nnot [0300]\nThe revenue code for labs should be 0300. Update\nfee schedule and edit revenue code at the CPT\nline.\n\n\nDrugs\nUNVSL55\n387\nCPT Code is [J*] AND Place of Service is one of\n[INPATIENT HOSPITAL (21) , ON CAMPUS-OUTPATIENT HOSPITAL\n(22) , EMERGENCY ROOM - HOSPITAL (23), ASSISTED LIVING\nFACILITY(13), COMPREHENSIVE INPATIENT REHAB(61),\nCOMPREHENSIVE OUTPATIENT REHAB(62), GROUP HOME(14),\nHOSPICE(34), INPATIENT PSYCH FACILITY(51), INTERMEDIATE\nCARE FACILITY(54), MILITARY TREATMENT FACILITY(26),\nNON-RESIDENTIAL SUBSTANCE ABUSE FACILITY(57), NURSING\nFACILITY(32), OFF CAMPUS-OUTPATIENT HOSPITAL(19),\nPSYCHIATRIC FACILITY-PARTIAL HOSP(52), PSYCHIATRIC\nRESIDENTIAL TREATMENT FACILITY(56)SKILLED NURSING\nFACILITY(31), TELEHEALTH IN PATIENT HOME(10), TELEHEALTH\nOTHER THAN IN PATIENT HOME(02)\nDrugs may not be billable for this POS unless\nprovided by clinic - review documentation.\n\n\n99385, 99395 Age Alert\nPRVNT5\n265\nCPT Code is one of [99385, 99395] AND ( Patient Age is\nyounger than [18, years] OR Patient Age is older than [39,\nyears] )\nCPT used is not appropriate for the age of the\npatient - Patient is either younger than 18 years\nold or older than 39 years old\n\n\nSummit Fax\nUNVSL71\n500\nPrimary Insurance is one of [SUMMIT INSURANCE (72), SUMMITT\nCLAIMS CENTER (135), SUMMIT CLAIM CENTER (158), SUMMIT\nAMERICA (296)]\nFollow Workers Comp billing guidelines for\nelectronic claims attachments.To submit bills via\nfax: 863-667-1871\n\n\nAge - 15-123 years\nICD10-82\n685\nPatient Age is younger than [15, years] AND DX Code is\none of [A18.14, C91.50, C91.51, C91.52, E28.310, E28.319,\nF01.50, F01.51, F03.90, F03.91, F69, G11.2, G12.21, G30.1,\nH02.031, H02.032, H02.033, H02.034, H02.035, H02.036,\nH02.039, H02.131, H02.132, H02.133, H02.134, H02.135,\nH02.136, H02.139, H25.011, H25.012, H25.013, H25.019,\nH25.031, H25.032, H25.033, H25.039, H25.041, H25.042,\nH25.043, H25.049, H25.091, H25.092, H25.093, H25.099,\nH25.10, H25.11, H25.12, H25.13, H25.20, H25.21, H25.22,\nH25.23, H25.811, H25.812, H25.813, H25.819, H25.89, H25.9,\nH31.111, H31.112, H31.113, H31.119, H35.30, H35.311,\nH35.3110, H35.3111, H35.3112, H35.3113, H35.3114, H35.312,\nH35.3120, H35.3121, H35.3122, H35.3123, H35.3124, H35.313,\nH35.3130, H35.3131, H35.3132, H35.3133, H35.3134, H35.319,\nH35.3190, H35.3191, H35.3192, H35.3193, H35.3194, H35.321,\nH35.3210, H35.3211, H35.3212, H35.3213, H35.322, H35.3220,\nH35.3221, H35.3222, H35.3223, H35.323, H35.3230, H35.3231,\nH35.3232, H35.3233, H35.329, H35.3290, H35.3291, H35.3292,\nH35.3293, H35.441, H35.442, H35.443, H35.449, H43.821,\nH43.822, H43.823, H43.829, I23.0, I23.1, I23.2, I23.3,\nI23.6, I23.7, I23.8, I25.10, I25.110, I25.111, I25.118,\nI25.119, I25.700, I25.701, I25.708, I25.709, I25.710,\nI25.711, I25.718, I25.719, I25.720, I25.721, I25.728,\nI25.729, I25.730, I25.731, I25.738, I25.739, I25.760,\nI25.761, I25.768, I25.769, I25.790, I25.791, I25.798,\nI25.799, I25.810, I25.812, I25.83, I51.0, I67.2, I70.0,\nI70.1, I70.201, I70.202, I70.203, I70.208, I70.209, I70.211,\nI70.212, I70.213, I70.218, I70.219, I70.221, I70.222,\nI70.223, I70.228, I70.229, I70.231, I70.232, I70.233,\nI70.234, I70.235, I70.238, I70.239, I70.241, I70.242,\nI70.243, I70.244, I70.245, I70.248, I70.249, I70.25,\nI70.261, I70.262, I70.263, I70.268, I70.269, I70.291,\nI70.292, I70.293, I70.298, I70.299, I70.301, I70.302,\nI70.303, I70.308, I70.309, I70.311, I70.312, I70.313,\nI70.318, I70.319, I70.321, I70.322, I70.323, I70.328,\nI70.329, I70.331, I70.332, I70.333, I70.334, I70.335,\nI70.338, I70.339, I70.341, I70.342, I70.343, I70.344,\nI70.345, I70.348, I70.349, I70.35, I70.361, I70.362,\nI70.363, I70.368, I70.369, I70.391, I70.392, I70.393,\nI70.398, I70.399, I70.401, I70.402, I70.403, I70.408,\nI70.409, I70.411, I70.412, I70.413, I70.418, I70.419,\nI70.421, I70.422, , I70.423, I70.428, I70.429, I70.431,\nI70.432, I70.433, I70.434, I70.435, I70.438, I70.439,\nI70.441, I70.442, I70.443, I70.444, I70.445, I70.448,\nI70.449, I70.45, I70.461, I70.462, I70.463, I70.468,\nI70.469, I70.491, I70.492, I70.493, I70.498, I70.499,\nI70.501, I70.502, I70.503, I70.508, I70.509, I70.511,\nI70.512, I70.513, I70.518, I70.519, I70.521, I70.522,\nI70.523, I70.528, I70.529, I70.531, I70.532, I70.533,\nI70.534, I70.535, I70.538, I70.539, I70.541, I70.542,\nI70.543, I70.544, I70.545, I70.548, I70.549, I70.55,\nI70.561, I70.562, I70.563, I70.568, I70.569, I70.591,\nI70.592, I70.593, I70.598, I70.599, I70.601, I70.602,\nI70.603, I70.608, I70.609, I70.611, I70.612, I70.613,\nI70.618, I70.619, I70.621, I70.622, I70.623, I70.628,\nI70.629, I70.631, I70.632, I70.633, I70.634, I70.635,\nI70.638, I70.639, I70.641, I70.642, I70.643, I70.644,\nI70.645, I70.648, I70.649, I70.65, I70.661, I70.662,\nI70.663, I70.668, I70.669, I70.691, I70.692, I70.693,\nI70.698, I70.699, I70.701, I70.702, I70.703, I70.708,\nI70.709, I70.711, I70.712, I70.713, I70.718, I70.719,\nI70.721, I70.722, I70.723, I70.728, I70.729, I70.731,\nI70.732, I70.733, I70.734, I70.735, I70.738, I70.739,\nI70.741, I70.742, I70.743, I70.744, I70.745, I70.748,\nI70.749, I70.75, I70.761, I70.762, I70.763, I70.768,\nI70.769, I70.791, I70.792, I70.793, I70.798, I70.799,\nI70.8, I70.90, I70.91, I70.92, I83.001, I83.002, I83.003,\nI83.004, I83.005, I83.008, I83.009, I83.011, I83.012,\nI83.013, I83.014, I83.015, I83.018, I83.019, I83.021,\nI83.022, I83.023, I83.024, I83.025, I83.028, I83.029,\nI83.10, I83.11, I83.12, I83.201, I83.202, I83.203, I83.204,\nI83.205, I83.208, I83.209, I83.211, I83.212, I83.213,\nI83.214, I83.215, I83.218, I83.219, I83.221, I83.222,\nI83.223, I83.224, I83.225, I83.228, I83.229, I83.811,\nI83.812, I83.813, I83.819, I83.891, I83.892, I83.893,\nI83.899, I83.90, I83.91, I83.92, I83.93, I86.8, I97.2,\nJ60, J61, J84.82, K31.1, K70.0, K70.10, K70.11, K70.2,\nK70.30, K70.31, K70.40, K70.41, K70.9, M06.1, M42.10,\nM42.11, M42.12, M42.13, M42.14, M42.15, M42.16, M42.17,\nM42.18, M42.19, M72.0, M80.00, M80.00XA, M80.00XD, M80.00XG,\nM80.00XK, M80.00XP, M80.00XS, M80.011, M80.011A, M80.011D,\nM80.011G, M80.011K, M80.011P, M80.011S, M80.012, M80.012A,\nM80.012D, M80.012G, M80.012K, M80.012P, M80.012S, M80.019,\nM80.019A, M80.019D, M80.019G, M80.019K, M80.019P, M80.019S,\nM80.021, M80.021A, M80.021D, M80.021G, M80.021K, M80.021P,\nM80.021S, M80.022, M80.022A, M80.022D, M80.022G, M80.022K,\nM80.022P, M80.022S, M80.029, M80.029A, M80.029D, M80.029G,\nM80.029K, M80.029P, M80.029S, M80.031, M80.031A, M80.031D,\nM80.031G, M80.031K, M80.031P, M80.031S, M80.032, M80.032A,\nM80.032D, M80.032G, M80.032K, M80.032P, M80.032S, M80.039,\nM80.039A, M80.039D, M80.039G, M80.039K, M80.039P, M80.039S,\nM80.041, M80.041A, M80.041D, M80.041G, M80.041K, M80.041P,\nM80.041S, M80.042, M80.042A, M80.042D, M80.042G, M80.042K,\nM80.042P, M80.042S, M80.049, M80.049A, M80.049D, M80.049G,\nM80.049K, M80.049P, M80.049S, M80.051, M80.051A, M80.051D,\nM80.051G, M80.051K, M80.051P, M80.051S, M80.052, M80.052A,\nM80.052D, M80.052G, M80.052K, M80.052P, M80.052S, M80.059,\nM80.059A, M80.059D, M80.059G, M80.059K, M80.059P, M80.059S,\nM80.061, M80.061A, M80.061D, M80.061G, M80.061K, M80.061P,\nM80.061S, M80.062, M80.062A, M80.062D, M80.062G, M80.062K,\nM80.062P, M80.062S, M80.069, M80.069A, M80.069D, M80.069G,\nM80.069K, M80.069P, M80.069S, M80.071, M80.071A, M80.071D,\nM80.071G, M80.071K, M80.071P, M80.071S, M80.072, M80.072A,\nM80.072D, M80.072G, M80.072K, M80.072P, M80.072S, M80.079,\nM80.079A, M80.079D, M80.079G, M80.079K, M80.079P, M80.079S,\nM80.08, M80.08XA, M80.08XD, M80.08XG, M80.08XK, M80.08XP,\nM80.08XS, M80.0A, M80.0AXA, M80.0AXD, M80.0AXG, M80.0AXK,\nM80.0AXP, M80.0AXS, M81.0, M83.1, M83.2, M83.3, M83.5,\nM83.8, M83.9, M93.1, N40.0, N40.1, N40.2, N40.3, N41.0,\nN41.1, N41.2, N41.3, N41.4, N41.8, N41.9, N42.0, N42.1,\nN42.81, N42.82, N42.83, N42.89, N42.9, N46.01, N46.021,\nN46.022, N46.023, N46.024, N46.025, N46.029, N46.11,\nN46.121, N46.122, N46.123, N46.124, N46.125, N46.129,\nN46.8, N46.9, N52.01, N52.02, N52.03, N52.1, N52.2, N52.31,\nN52.32, N52.33, N52.34, N52.35, N52.36, N52.37, N52.39,\nN52.8, N52.9, N60.11, N60.12, N60.19, N64.81, N64.82, N65.0,\nN65.1, R41.81, R54, R62.7, R68.82, R97.20, R97.21, T74.01,\nT74.01XA, T74.01XD, T74.01XS, T74.11, T74.11XA, T74.11XD,\nT74.11XS, T74.21, T74.21XA, T74.21XD, T74.21XS, T74.31,\nT74.31XA, T74.31XD, T74.31XS, T74.51, T74.51XA, T74.51XD,\nT74.51XS, T74.61, T74.61XA, T74.61XD, T74.61XS, T74.91,\nT74.91XA, T74.91XD, T74.91XS, T76.01, T76.01XA, T76.01XD,\nT76.01XS, T76.11, T76.11XA, T76.11XD, T76.11XS, T76.21,\nT76.21XA, T76.21XD, T76.21XS, T76.31, T76.31XA, T76.31XD,\nT76.31XS, T76.51, T76.51XA, T76.51XD, T76.51XS, T76.61,\nT76.61XA, T76.61XD, T76.61XS, T76.91, T76.91XA, T76.91XD,\nT76.91XS, Z00.00, Z00.01, Z04.41, Z04.71, Z31.441, Z31.448,\nZ42.1, Z56.1, Z68.1, Z68.20, Z68.21, Z68.22, Z68.23, Z68.24,\nZ68.25, Z68.26, Z68.27, Z68.28, Z68.29, Z68.30, Z68.31,\nZ68.32, Z68.33, Z68.34, Z68.35, Z68.36, Z68.37, Z68.38,\nZ68.39, Z68.41, Z68.42, Z68.43, Z68.44, Z68.45, Z72.811,\nZ78.0, Z86.51, Z91.410, Z91.411, Z91.412, Z91.419, Z91.82,\nZ98.52]\nThe diagnosis is inconsistent with the patients\nage. One or more ICD-10 codes are only appropriate\nfor ages 15-123 years.\n\n\nBCBS - Injections without J codes\nMEDSV15\n386\n*Select all occurances of BCBS/Blue Cross plans\nAnthem requires that claims for injection services\nperformed in the office setting must include\nthe applicable Healthcare Common Procedure\nCoding System (HCPCS Level II) for the injected\nsubstance. Bill J code with zero fee if patient\nsupplied.\n\n\nVaccines\nALMCD8\n13\nPrimary Insurance Class is [MEDICAID (3)] AND CPT Code is\none of 906*, 9071*, 9072*, 9073*, 9074*, 9075*] AND CPT Code\nis one of [10021, 10040, 10060, 10061, 10080, 10081, 10120,\n10121, 10140, 10160, 11000, 11010, 11011, 11042, 11055,\n11056, 11057, 11100, 11200, 1130*, 1131*, 1140*, 1142*,\n1144*, 1145*, 1160*, 1162*, 1164*, 11719, 1172*, 11730,\n11740, 1175*, 1176*, 1177*, 1190*, 1200*, 1201*, 1202*,\n1203*, 1204*, 1205*, 15271, 16000, 16020, 16025, 16030,\n16035, 1700*, 1710*, 1711*, 17250, 1726*, 1727*, 1728*,\n19000, 205*, 2060*, 2061*, 23500, 23650, 23931, 24640,\n24650, 24670, 25500, 25600, 25622, 26010, 26011, 26115,\n26600, 26605, 26750, 27093, 27520, 27530, 27750, 27760,\n27780, 27786, 27808, 27824, 28080, 28190, 28450, 28470,\n28490, 28515, 29065, 29075, 29085, 29086, 291*, 29240,\n29260, 29280, 29305, 29345, 29355, 294*, 295*, 29700, 29705,\n30300, 3090*, 45300, 46050, 46083, 46320, 46600, 5170*,\n51720, 51725, 51728, 51736, 51741, 51784, 51798, 52000,\n52281, 53601, 53661, 5405*, 5406*, 54150, 55700, 56405,\n56420, 56440, 56441, 56442, 56501, 56515, 56605, 56606,\n56820, 56821, 57061, 57065, 57160, 57420, 57452, 57454,\n57455, 57460, 57461, 57500, 57505, 57510, 57511, 58100,\n59200, 59425, 59426, 59430, 64405, 64450, 64455, 65205,\n65210, 65220, 65222, 69000, 69005, 69200, 69209, 69210,\n7680*, 7681*, 76830, 76856, 76857, 92002, 92004, 92012,\n92014, 92511, 95992, 97597, 97602, 98925, 98926, 98927,\n98928, 98929, 98940, 98941, 98942, 9920*, 9921*, 9930*,\n9931*, 9934*, 99350, 99495, 99496, 99497, G0127, G0168,\nG0245, G0246, G0247, G0490, 99406, 99407, G0101, G0102,\nG0117, G0118, G0296, G0402, G0436, G0437, G0438, G0439,\nG0442, G0443, G0444, G0445, G0446, G0447, Q0091, 90791,\n90792, 90832, 90834, 90837, 90839, 90845\nVFC Vaccines are reimbursable outside of the\nencounter rate utilizing the IRHC National\nProvider Identifier (NPI) and on a separate claim.\n\n\n90474 Add-on\nVACCN13\n396\nCPT Code is [90474] AND CPT Code is not [90460, 90471,\n90473, G0008, G0009, G0010]\nUse 90474 in conjunction with 90460, 90471, 90473\n\n\nAdult BMI\nALMCD4\n9\nPrimary Insurance Class is one of [MEDICAID (3), MEDICAID\nCMO (4)] AND Patient Age is older than [20, years] AND CPT\nCode is one of [9920*, 9921*, 9924*] AND DX Code is not\n[Z68.1, Z68.2*, Z68.3*, Z68.4*]\nAdult BMI diagnosis must be present for patient\nage 20 and older.\n\n\nRHC visit\nOHMCD6\n206\nPrimary Insurance Class is [MEDICAID (3)] AND CPT Code is\none of 10021, 10040, 10060, 10061, 10080, 10081, 10120,\n10121, 10140, 10160, 11000, 11010, 11011, 11042, 11055,\n11056, 11057, 11100, 11200, 1130*, 1131*, 1140*, 1142*,\n1144*, 1145*, 1160*, 1162*, 1164*, 11719, 1172*, 11730,\n11740, 1175*, 1176*, 1177*, 1190*, 1200*, 1201*, 1202*,\n1203*, 1204*, 1205*, 15271, 16000, 16020, 16025, 16030,\n16035, 1700*, 1710*, 1711*, 17250, 1726*, 1727*, 1728*,\n19000, 205*, 2060*, 2061*, 23500, 23650, 23931, 24640,\n24650, 24670, 25500, 25600, 25622, 26010, 26011, 26115,\n26600, 26605, 26750, 27093, 27520, 27530, 27750, 27760,\n27780, 27786, 27808, 27824, 28080, 28190, 28450, 28470,\n28490, 28515, 29065, 29075, 29085, 29086, 291*, 29240,\n29260, 29280, 29305, 29345, 29355, 294*, 295*, 29700, 29705,\n30300, 3090*, 45300, 46050, 46083, 46320, 46600, 5170*,\n51720, 51725, 51728, 51736, 51741, 51784, 51798, 52000,\n52281, 53601, 53661, 5405*, 5406*, 54150, 55700, 56405,\n56420, 56440, 56441, 56442, 56501, 56515, 56605, 56606,\n56820, 56821, 57061, 57065, 57160, 57420, 57452, 57454,\n57455, 57460, 57461, 57500, 57505, 57510, 57511, 58100,\n59200, 59425, 59426, 59430, 64405, 64450, 64455, 65205,\n65210, 65220, 65222, 69000, 69005, 69200, 69209, 69210,\n7680*, 7681*, 76830, 76856, 76857, 92002, 92004, 92012,\n92014, 92511, 95992, 97597, 97602, 98925, 98926, 98927,\n98928, 98929, 98940, 98941, 98942, 9920*, 9921*, 9930*,\n9931*, 9934*, 99350, 99495, 99496, 99497, G0127, G0168,\nG0245, G0246, G0247, G0490, 99406, 99407, G0101, G0102,\nG0117, G0118, G0296, G0402, G0436, G0437, G0438, G0439,\nG0442, G0443, G0444, G0445, G0446, G0447, Q0091, 90791,\n90792, 90832, 90834, 90837, 90839, 90845 AND ( CPT Code is\nnot [T1015] AND CPT Mod1 is not [U1] )\nRHC medical services visits are reported with\nT1015 and modifier U1.\n\n\nMedicare DME\nUNVSL27\n356\nPrimary Insurance is not [DMERC , DMERC JURISDICTION A ,\nDMERC JURISDICTION A, DMERC B, DMERC JURISDICTION D ] AND\nPrimary Insurance Class is [MEDICARE] AND CPT Code is one\nof A422*, A423*, A424*, A425*, A4265, A4280*, A4290, A43*,\nA44*, A45*, A460*, A461*, A462*, A463*, A4640, A4913, A5*,\nA6*, A7*, A8*, A927*, A9283, A9285, B*, E*, K*, L*, Q04*,\nQ050*, Q400*, Q401*, Q402*, Q403*, Q404*, V2*\nDurable medical equipment (DME) must be billed to\nDMERC - Review insurance setting for DME\n\n\nZ34.* with O*\nICD10-114\n843\nCPT Code has all [95115, 95117]\nZ34.* should not be billed with O* dx codes per\nexcludes 1 note.\n\n\nGA Medicaid\nGAMCD38\n956\nCPT Code is one of [9938*; 9939*] AND Primary Insurance\nClass is [MEDICAID (5)]\nOnly assign the routine visit Z-code to the\npreventative E/M. Medicaid will deny if any other\ndx codes are assigned.\n\n\nE09 Excludes1\nICD10-29\n120\nDX Code is [E09.*] AND DX Code is one of [E08.*, O24.4*,\nR73*, P70.2, E13.*, E11.*, E10.*]\nDrug or chemical induced diabetes mellitus\n(E09) with diabetes mellitus due to underlying\ncondition (E08.-), gestational diabetes (O24.4-),\nelevated blood glucose (R73.-), neonatal diabetes\nmellitus (P70.2), postpancreatectomy diabetes\nmellitus (E13.-), postprocedural diabetes mellitus\n(E13.-), secondary diabetes mellitus NEC (E13.-),\ntype 1 diabetes mellitus (E10.-), and/or type\n2 diabetes mellitus (E11.-) identify conditions\nthat cannot be reported together except when the\ntwo conditions are unrelated per the ICD-10-CM\nExcludes1 note guideline.\n\n\nHighmark BCBS\nMEDSV29\n955\nCPT Code is one of [99214;99215] AND CPT Code is one of\n[9716*;9717*] AND Primary Insurance is Highmark BCBS\nModerate to High Complexity E/M codes 99214/99215\nare not allowed on same day as 97161-97172 when\nperformed by the same provider.\n\n\nMissing administration code\nUNVSL9\n810\nCPT Code is one of [11900, 11901, 15860, 19030, 20500,\n20501, 20526, 20527, 20550, 20551, 20552, 20553, 20600,\n20604, 20605, 20606, 20610, 20611, 20612, 20612, 20615,\n20615, 21116, 23350, 24220, 25246, 26035, 27093, 27095,\n27096, 27369, 27648, 30200, 31513, 31570, 31571, 31573,\n31574, 31612, 36002, 36005, 36299, 36468, 36470, 36471,\n38200, 38790, 38792, 42550, 42660, 43192, 43201, 43204,\n43236, 43243, 44404, 45335, 45381, 45520, 46500, 47015,\n48400, 50390, 50684, 50690, 51600, 51605, 51610, 51715,\n52283, 52287, 54200, 54205, 54230, 54231, 54235, 55000,\n60300, 61050, 61055, 61070, 62273, 62284, 62290, 62291,\n62292, 62294, 62302, 62303, 62304, 64400, 64405, 64408,\n64415, 64416, 64417, 64418, 64420, 64425, 64430, 64435,\n64445, 64446, 64447, 64448, 64449, 64450, 64463, 64505,\n64510, 64517, 64520, 64530, 66030, 67025, 67028, 67500,\n67505, 67515, 68200, 68850, 74190, 75746, 93458, 93459,\n93460, 93461, 93893, 94461, 94462, 96372, 96373, 96377,\n96379, 96542, 0465T, 0627T, 0628T, 0629T, 0630T] AND CPT\nCode is not [J*] AND Place of Service is one of [SCHOOL\n(03) (2), HOMELESS SHELTER (04) (3), INDIAN HEALTH\nSERVICE - FREE-STANDING (05) (4), INDIAN HEALTH SERVICE -\nPROVIDER-BASED (06) (5), TRIBAL 638 FREE-STANDING FACILITY\n(07) (6), TRIBAL 638 PROVIDER-BASED (08) (7), OFFICE (11)\n(9), HOME (12) (10), MOBILE UNIT (15) (13), TEMPORARY\nLODGING (16) (14), FEDERALLY QUALIFIED HEALTH CENTER (50)\n(29), RURAL HEALTH CLINIC (72) (42), INDEPENDENT LABORATORY\n(81) (43), OTHER PLACE OF SERVICE (99) (44), Place of\nservice is one of TELEHEALTH PROVIDED OTHER THAN PT HOME\n(02) , TELEHEALTH PROVIDED IN PATIENT HOME(10), WALK-IN\nRETAIL HEALTH CLINIC (17) (46), PLACE OF EMPLOYMENT-WORKSITE\n(18) (47)]\nInjection code is present without a drug. Review\nchart for drug used. Add drug if clinic supplied.\n\n\n99383, 99393 Age Alert\nPRVNT3\n260\nCPT Code is one of [99383, 99393] AND ( Patient Age is\nyounger than [5, years] OR Patient Age is older than [11,\nyears] )\nCPT used is not appropriate for the age of the\npatient - Patient is either younger than 5 years\nold or older than 11 years old\n\n\n87502,87631 -\nVACCN36\n593\nDelete\nMedicare replacement added to VACCN5\n\n\nTricare South\nUNVSL35\n364\nDelete\nTricare South has changed to a new region. See\nregion map for Tricare East or Tricare West and\nsend claim to appropriate region.\n\n\n90710 Component billing\nVACCN25\n408\nPatient Age is younger than [19, years] AND CPT Code is\n[90710] AND CPT Code is not [90461]\n90710 (MMRV) has 4 components. Code each component\nof a combination vaccine individually.\n\n\nIndependent RHC claims\nALMCD1\n6\nPrimary Insurance Class is one of [MEDICAID (3), MEDICAID\nCMO (4)] AND Place of Service is one of [OFFICE (11) (9),\nINPATIENT HOSPITAL (21) (16), ON CAMPUS-OUTPATIENT HOSPITAL\n(22) (17), EMERGENCY ROOM - HOSPITAL (23) (18), SKILLED\nNURSING FACILITY (31) (22), NURSING FACILITY (32) (23)] AND\nCPT UB04 is [true]\nRHC claims are billed on 1500 for place of service\ncodes 11, 21, 22, 23, 31, 32.\n\n\nRHC Well visit with sick\nGAMCD44\n1048\nPrimary Insurance Class is [MEDICAID (5)] AND CPT Code is\none of [9939*; 9938*] AND CPT Code is [9921*] AND ( CPT Mod1\nis not [EP] OR CPT Mod2 is not [25] OR Place of Service is\nnot 72) AND Patient Age is younger than [21, years]\nOffice visit billed with CPT 99202 - 99205 and\n99211 - 99215 should be billed with Modifiers\nEP and 25 and place of service 72 (RHC) when\nperformed during the same encounter as a\nPreventive Health check visit.\n\n\nBill Type\nASC1\n450\nCPT UB04 is [true] AND UB04 Bill Type is not [0831] AND UB04\nBill Type is not [0837]\nThe bill type for ambulatory surgical center for\na primary claim is 0831 and 0837 for a corrected\nclaim.\n\n\n90 day global - Digestive System\nE&M14\n551\nCPT Code is one of [9920*, 9921*, 9922*, 9923*, 9924*,\n9925*, 9928*, 9929*, 9930*, 9931*, 9932*, 9933*, 9934*,\n9935*, 9938*, 9939*, 9946*, 9947*, 9948*, 9949*] AND CPT\nMod1 is not [57] AND CPT Code is one of [0, 40500, 40510,\n40520, 40525, 40527, 40530, 40650, 40652, 40654, 40700,\n40701, 40702, 40720, 40761, 40814, 40816, 40818, 40819,\n40840, 40842, 40843, 40844, 40845, 41006, 41007, 41008,\n41009, 41015, 41016, 41017, 41018, 41112, 41113, 41114,\n41116, 41120, 41130, 41135, 41140, 41145, 41150, 41153,\n41155, 41510, 41512, 41520, 41823, 41827, 41872, 41874,\n42107, 42120, 42140, 42145, 42200, 42205, 42210, 42215,\n42220, 42225, 42226, 42227, 42235, 42260, 42305, 42335,\n42340, 42408, 42409, 42410, 42415, 42420, 42425, 42426,\n42440, 42450, 42500, 42505, 42507, 42509, 42510, 42600,\n42665, 42725, 42810, 42815, 42820, 42821, 42825, 42826,\n42830, 42831, 42835, 42836, 42842, 42844, 42845, 42860,\n42870, 42890, 42892, 42894, 42950, 42953, 42955, 42961,\n42962, 42970, 42971, 42972, 43020, 43030, 43045, 43100,\n43101, 43107, 43108, 43112, 43113, 43116, 43117, 43118,\n43121, 43122, 43123, 43124, 43130, 43135, 43180, 43279,\n43280, 43281, 43282, 43284, 43285, 43286, 43287, 43288,\n43300, 43305, 43310, 43312, 43313, 43314, 43320, 43325,\n43327, 43328, 43330, 43331, 43332, 43333, 43334, 43335,\n43336, 43337, 43340, 43341, 43351, 43352, 43360, 43361,\n43400, 43405, 43410, 43415, 43420, 43425, 43496, 43497,\n43500, 43501, 43502, 43510, 43520, 43605, 43610, 43611,\n43620, 43621, 43622, 43631, 43632, 43633, 43634, 43640,\n43641, 43644, 43645, 43651, 43652, 43653, 43770, 43771,\n43772, 43773, 43774, 43775, 43800, 43810, 43820, 43825,\n43830, 43831, 43832, 43840, 43843, 43845, 43846, 43847,\n43848, 43860, 43865, 43870, 43880, 43886, 43887, 43888,\n44005, 44010, 44020, 44021, 44025, 44050, 44055, 44110,\n44111, 44120, 44125, 44126, 44127, 44130, 44140, 44141,\n44143, 44144, 44145, 44146, 44147, 44150, 44151, 44155,\n44156, 44157, 44158, 44160, 44180, 44186, 44187, 44188,\n44202, 44204, 44205, 44206, 44207, 44208, 44210, 44211,\n44212, 44227, 44300, 44310, 44312, 44314, 44316, 44320,\n44322, 44340, 44345, 44346, 44602, 44603, 44604, 44605,\n44615, 44620, 44625, 44626, 44640, 44650, 44660, 44661,\n44680, 44700, 44800, 44820, 44850, 44900, 44950, 44960,\n44970, 45000, 45020, 45100, 45108, 45110, 45111, 45112,\n45113, 45114, 45116, 45119, 45120, 45121, 45123, 45126,\n45130, 45135, 45136, 45150, 45160, 45171, 45172, 45190,\n45395, 45397, 45400, 45402, 45500, 45505, 45540, 45541,\n45550, 45560, 45562, 45563, 45800, 45805, 45820, 45825,\n46040, 46045, 46060, 46070, 46200, 46250, 46255, 46257,\n46258, 46260, 46261, 46262, 46270, 46275, 46280, 46285,\n46288, 46700, 46705, 46707, 46710, 46712, 46715, 46716,\n46730, 46735, 46740, 46742, 46744, 46746, 46748, 46750,\n46751, 46753, 46760, 46761, 46930, 46945, 46946, 46947,\n46948, 47010, 47015, 47100, 47120, 47122, 47125, 47130,\n47135, 47140, 47141, 47142, 47300, 47350, 47360, 47361,\n47362, 47370, 47371, 47380, 47381, 47400, 47420, 47425,\n47460, 47480, 47562, 47563, 47564, 47570, 47600, 47605,\n47610, 47612, 47620, 47700, 47701, 47711, 47712, 47715,\n47720, 47721, 47740, 47741, 47760, 47765, 47780, 47785,\n47800, 47801, 47802, 47900, 48000, 48001, 48020, 48100,\n48105, 48120, 48140, 48145, 48146, 48148, 48150, 48152,\n48153, 48154, 48155, 48500, 48510, 48520, 48540, 48545,\n48547, 48548, 48554, 48556, 49000, 49002, 49010, 49020,\n49040, 49060, 49062, 49203, 49204, 49205, 49215, 49250,\n49255, 49323, 49402, 49419, 49425, 49426, 49491, 49492,\n49495, 49496, 49500, 49501, 49505, 49507, 49520, 49521,\n49525, 49540, 49550, 49553, 49555, 49557, 49560, 49561,\n49565, 49566, 49570, 49572, 49580, 49582, 49585, 49587,\n49590, 49600, 49605, 49606, 49610, 49611, 49650, 49651,\n49652, 49653, 49654, 49655, 49656, 49657, 49900, 49904] AND\nCPT UB04 is [false]\nIf an E&M is performed on the same date of\nservice as a major surgical procedure for the\npurpose of deciding whether to perform this\nsurgical procedure, the E&M service is separately\nreportable with modifier 57. Other preoperative\nE&M services on the same date of service as a\nmajor surgical procedure are included in the\nglobal payment for the procedure, and are not\nseparately reportable. Review documentation and\npayer guidelines to determine if modifier 57 if\nappropriate.\n\n\n95873, 95874 Add-On Code\nNEURO5\n196\nCPT Code is one of [95873, 95874] AND CPT Code is not\n[64612, 64615, 64616, 64642, 64643, 64644, 64645, 64646,\n64647]\n95873 and/or 95874 is missing the primary\nprocedure code. Use 95873, 95874 in conjunction\nwith 64612, 64615, 64616, 64642, 64643, 64644,\n64645, 64646, 64647.\n\n\nFL Medicaid -\nCOVID19-13\n492\nPrimary Insurance Class is [MEDICAID (12)] AND CPT Code is\n[9944*] AND CPT Mod1 is [CG]\nTelephone Communications for New Patients require\nmodifier CG in the first modifier position.\n\n\nMissing J code\nMEDSV8\n345\nDelete\n**Included in UNVSL9 - do not add if UNVSL9 has\nalready been added\n\n\n95907-95913 with 95860-95864\nNEURO19\n1065\nCPT Code is one of [95860; 95861; 95862; 95863; 95864]\nAND CPT Code is one of [95907; 95908; 95909; 95910; 95911;\n95912; 95913]\nWhen a EMG is performed with nerve conduction\nstudies (95907-95913), see 95885-95887 instead of\n95860-95864.\n\n\nMedicare 99401-99404\nPRVNT22\n253\nPrimary Insurance Class is [MEDICARE (6)] AND Encounter Date\nof Service after [06/30/2019] AND CPT Code is one of [99401,\n99402, 99403, 99404]\nPreventive medicine counseling and/or risk factor\nreduction intervention(s) is not covered by\nMedicare.\n\n\nDebridement of Mycotic Nails\nFOOT2\n47\nDelete\nIn the absence of a systemic condition, claims\nfor DEBRIDEMENT OF MYCOTIC NAILS must report the\nprimary diagnosis of dermatophytosis, and also\nreport one of the diagnosis codes which indicates\nsecondary infection or pain. A diagnosis of\nmycotic nails alone is insufficient for payment.\n\n\nBCBS Kansas referring provider\nBCBSKS1\n18\nPrimary Insurance is [BLUE CROSS -KS (1)] AND Referring\nProvider (Presence) is [Not Present] AND ( CPT Code is not\n[99*] OR CPT Code is one of [0*, 1*, 2*, 3*, 4*, 5*, 6*, 7*,\n8*, 90*, 91*, 92*, 93*, 94*, 95*, 96*, 97*, 98*, A*, B*, C*,\nE*, G*, H*, J*, K*, L*, M*, P*, Q*, R*] )\nBCBS Kansas may require the ordering/referring\nprovider information. Add referring provider.\n\n\nR31-R31.9 Excludes 1\nICD10-128\n1057\nDX Code is [R31.*] AND DX Code is one of [N30.01; N02*]\nRemove R31.* - Excludes 1 note with N30.01/N02*.\nCodes should not be billed together.\n\n\n\n\n\n\n\n\nstep:\nvariable: Recode to standardize\nclass: Variable Data Class\ngroup: Variable Grouping\naction: Remove\nmethod: Operation Performed to Test for Expected State\nexpression: Actual Code to Run\nvalue: Coerce to correct data type, deal with wildcards\n\n\ncomponents &lt;- rules |&gt; \n  select(id, step, variable, action, value) |&gt; \n  distinct()\n\ncomponents\n\n# A tibble: 3,131 × 5\n      id  step variable                  action    value                        \n   &lt;int&gt; &lt;int&gt; &lt;chr&gt;                     &lt;chr&gt;     &lt;chr&gt;                        \n 1     1     1 CPT Code                  is        43760                        \n 2     1     2 Encounter Date of Service after     01/01/2019                   \n 3     2     1 Primary Insurance         is        BCBS                         \n 4     2     2 CPT Code                  is        J*                           \n 5     2     3 CPT NDC (Presence)        is not    Present                      \n 6     3     1 Primary Insurance         is        BCBS                         \n 7     3     2 CPT NDC (Presence)        is not    Present                      \n 8     3     3 CPT Code                  is one of 90476,90477,905*,906*,9071*,…\n 9     4     1 DX Code                   is        S*                           \n10     5     1 Primary Insurance         is        BCBS (125),BCBS AL BLUE ADVA…\n# ℹ 3,121 more rows\n\n\n\n\n\nhcpcs:\n\nmod_1:\n\nmod_2:\n\nmod_3:\n\nmod_4:\n\nunit:\n\nicd:\n\ndos:\n\npos:\n\nub04:\n\nndc:\n\nrev_code:\n\ncci:\n\nlcd:\n\nncd:\n\ndob:\n\nsex:\n\nrendering:\n\nreferring:\n\nprimary_class:\n\nprimary_name:\n\nprimary_auth:\n\nsecondary_class:\n\nsecondary_name:\n\n\ncomponents &lt;- components |&gt;\n  mutate(variable = case_match(variable,\n      c(\"CPT CODE\", \n        \"CPT Code\", \n        \"CPT code\", \n        \"CPT\", \n        \"Code Check Expired CPT Alert (Presence)\", \n        \"CPT is one of\") ~ \"hcpcs\",\n      c(\"Mod1\", \n        \"CPT Mod1\", \n        \"CPT Mod 1\", \n        \"CPTMod1\", \n        \"Code Check CPT Mod Alert (Presence)\", \n        \"CPT MOD1\", \n        \"CPT Mod1 (Presence)\") ~ \"mod_1\",\n      c(\"Mod2\", \n        \"CPT MOD2\", \n        \"CPT Mod 2\", \n        \"CPT Mod2 (Presence)\", \n        \"CPTMod2\", \n        \"CPT Mod2\") ~ \"mod_2\",\n      \"CPT Mod3\" ~ \"mod_3\",\n      \"CPT Mod4\" ~ \"mod_4\",\n      \"CPT Units\" ~ \"unit\",\n      c(\"Dx code\", \n        \"DX Code\", \n        \"Dx Code\", \n        \"Code Check Expired DX Alert (Presence)\") ~ \"icd\",\n      c(\"Encounter Date of Service\", \n        \"Date of Service\") ~ \"dos\",\n      c(\"Location\", \n        \"Place of Service\") ~ \"pos\",\n      c(\"CPT UB04\", \n        \"UB04 Bill Type\") ~ \"ub04\",\n      \"CPT NDC (Presence)\" ~ \"ndc\",\n      \"CPT Rev Code\" ~ \"rev_code\",\n      \"Code Check CCI Alert (Presence)\" ~ \"cci\",\n      \"Code Check LCD Alert (Presence)\" ~ \"lcd\",\n      \"Code Check NCD Alert (Presence)\" ~ \"ncd\",\n      c(\"Patient Age\", \n        \"Code Check Age Alert (Presence)\") ~ \"dob\",\n      c(\"Patient Sex\", \n        \"Code Check Gender Alert (Presence)\") ~ \"sex\",\n      \"NA\" ~ NA_character_,\n      \"Rendering Provider\" ~ \"rendering\",\n      \"Referring Provider (Presence)\" ~ \"referring\",\n      c(\"Primary Insurance Class\", \n        \"Primary Insurance class\", \n        \"Primary insurance class\") ~ \"primary_class\",\n      \"Primary Insurance\" ~ \"primary_name\",\n      \"Secondary Insurance Class\" ~ \"secondary_class\",\n      \"Secondary Insurance\" ~ \"secondary_name\",\n      c(\"Primary Insurance Authorization (Presence)\", \n        \"Primary Insurance Authorization (Presence) is not [Present]\") ~ \"primary_auth\",\n      .default = variable) |&gt; \n      as_factor())\n\ncomponents\n\n# A tibble: 3,131 × 5\n      id  step variable     action    value                                     \n   &lt;int&gt; &lt;int&gt; &lt;fct&gt;        &lt;chr&gt;     &lt;chr&gt;                                     \n 1     1     1 hcpcs        is        43760                                     \n 2     1     2 dos          after     01/01/2019                                \n 3     2     1 primary_name is        BCBS                                      \n 4     2     2 hcpcs        is        J*                                        \n 5     2     3 ndc          is not    Present                                   \n 6     3     1 primary_name is        BCBS                                      \n 7     3     2 ndc          is not    Present                                   \n 8     3     3 hcpcs        is one of 90476,90477,905*,906*,9071*,9072*,9073*,9…\n 9     4     1 icd          is        S*                                        \n10     5     1 primary_name is        BCBS (125),BCBS AL BLUE ADVANTAGE MEDICAR…\n# ℹ 3,121 more rows\n\n\n\n\ncomponents &lt;- components |&gt; \n  mutate(\n    class = case_match(variable,\n      c(\"sex\", \"rendering\", \"referring\", \n        \"primary_auth\", \"primary_class\", \n        \"primary_name\", \"secondary_class\", \n        \"secondary_name\", \"ncd\", \"lcd\", \n        \"cci\", \"ndc\", \"ub04\", \"pos\", \n        \"icd\", \"hcpcs\", \"mod_1\", \"mod_2\", \n        \"mod_3\", \"mod_4\") ~ \"&lt;chr&gt;\",\n      c(\"rev_code\", \"unit\") ~ \"&lt;int&gt;\",\n      c(\"dos\", \"dob\") ~ \"&lt;date&gt;\"\n    ) |&gt; as_factor(),\n    group = case_match(as.character(variable),\n      c(\"sex\", \"dos\", \"dob\") ~ \"patient\",\n      c(\"rendering\", \"referring\") ~ \"provider\",\n      c(\"hcpcs\", \"mod_1\", \"mod_2\", \"mod_3\", \"mod_4\", \n        \"rev_code\", \"unit\", \"ndc\", \"pos\") ~ \"procedure\",\n      c(\"icd\") ~ \"diagnosis\",\n      c(\"ub04\", \"1500\") ~ \"claim\",\n      c(\"ncd\", \"lcd\", \"cci\") ~ \"ncci\",\n      c(\"primary_auth\", \"primary_class\", \n        \"primary_name\", \"secondary_class\", \n        \"secondary_name\") ~ \"payer\"\n    ) |&gt; as_factor())\n\ncomponents # |&gt; \n\n# A tibble: 3,131 × 7\n      id  step variable     action    value                          class group\n   &lt;int&gt; &lt;int&gt; &lt;fct&gt;        &lt;chr&gt;     &lt;chr&gt;                          &lt;fct&gt; &lt;fct&gt;\n 1     1     1 hcpcs        is        43760                          &lt;chr&gt; proc…\n 2     1     2 dos          after     01/01/2019                     &lt;dat… pati…\n 3     2     1 primary_name is        BCBS                           &lt;chr&gt; payer\n 4     2     2 hcpcs        is        J*                             &lt;chr&gt; proc…\n 5     2     3 ndc          is not    Present                        &lt;chr&gt; proc…\n 6     3     1 primary_name is        BCBS                           &lt;chr&gt; payer\n 7     3     2 ndc          is not    Present                        &lt;chr&gt; proc…\n 8     3     3 hcpcs        is one of 90476,90477,905*,906*,9071*,9… &lt;chr&gt; proc…\n 9     4     1 icd          is        S*                             &lt;chr&gt; diag…\n10     5     1 primary_name is        BCBS (125),BCBS AL BLUE ADVAN… &lt;chr&gt; payer\n# ℹ 3,121 more rows\n\n  # select(class, group, variable, action) |&gt; \n  # arrange(class, group, variable) |&gt;\n  # gt() |&gt;\n  # cols_align(align = \"left\") |&gt;\n  # opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  # opt_all_caps() |&gt;\n  # tab_style(\n  #     style = cell_text(\n  #       align = 'left',\n  #       weight = \"bold\",\n  #       font = google_font(name = \"Roboto Mono\")),\n  #     locations = cells_body(columns = c(action))) |&gt;\n  # tab_style(\n  #     style = cell_text(\n  #       align = 'left',\n  #       weight = \"normal\",\n  #       style = \"italic\",\n  #       decorate = \"underline\",\n  #       stretch = \"condensed\",\n  #       font = google_font(name = \"Fira Code\")),\n  #     locations = cells_body(columns = c(class))) |&gt;\n  # tab_options(table.width = pct(100),\n  #             quarto.disable_processing = TRUE)\n\n\n\ncomponents |&gt; \n  filter(variable == \"dos\") |&gt; \n  mutate(class = \"&lt;date&gt;\",\n         value = anytime::anydate(value),\n         method = if_else(str_detect(action, \"after\"), \"&gt;\", \"&lt;\")) |&gt; \n  select(id, step, class, variable, method, value) |&gt; \n  gt() |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"bold\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(variable, method, value))) |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"normal\",\n        style = \"italic\",\n        decorate = \"underline\",\n        stretch = \"condensed\",\n        font = google_font(name = \"Fira Code\")),\n      locations = cells_body(columns = c(class))) |&gt;\n  opt_stylize() |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\nid\n      step\n      class\n      variable\n      method\n      value\n    \n\n\n1\n2\n&lt;date&gt;\ndos\n&gt;\n2019-01-01\n\n\n160\n3\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n305\n3\n&lt;date&gt;\ndos\n&lt;\n2022-12-31\n\n\n317\n4\n&lt;date&gt;\ndos\n&gt;\n2019-01-01\n\n\n349\n3\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n351\n3\n&lt;date&gt;\ndos\n&lt;\n2022-12-31\n\n\n371\n3\n&lt;date&gt;\ndos\n&lt;\n2022-12-31\n\n\n416\n1\n&lt;date&gt;\ndos\n&gt;\n2019-07-31\n\n\n416\n2\n&lt;date&gt;\ndos\n&lt;\n2020-08-01\n\n\n475\n1\n&lt;date&gt;\ndos\n&gt;\n2020-03-09\n\n\n475\n6\n&lt;date&gt;\ndos\n&lt;\n2023-05-11\n\n\n479\n3\n&lt;date&gt;\ndos\n&gt;\n2020-03-05\n\n\n491\n5\n&lt;date&gt;\ndos\n&lt;\n2023-05-12\n\n\n493\n4\n&lt;date&gt;\ndos\n&lt;\n2024-12-31\n\n\n504\n5\n&lt;date&gt;\ndos\n&lt;\n2023-05-12\n\n\n505\n5\n&lt;date&gt;\ndos\n&lt;\n2023-05-11\n\n\n605\n1\n&lt;date&gt;\ndos\n&gt;\n2020-12-31\n\n\n606\n1\n&lt;date&gt;\ndos\n&gt;\n2020-12-31\n\n\n607\n1\n&lt;date&gt;\ndos\n&gt;\n2020-12-31\n\n\n608\n1\n&lt;date&gt;\ndos\n&gt;\n2020-12-31\n\n\n610\n5\n&lt;date&gt;\ndos\n&lt;\n2023-05-11\n\n\n612\n3\n&lt;date&gt;\ndos\n&gt;\n2023-04-18\n\n\n615\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n616\n3\n&lt;date&gt;\ndos\n&lt;\n2022-01-01\n\n\n622\n5\n&lt;date&gt;\ndos\n&lt;\n2023-05-11\n\n\n630\n5\n&lt;date&gt;\ndos\n&lt;\n2023-05-11\n\n\n633\n2\n&lt;date&gt;\ndos\n&gt;\n2023-06-01\n\n\n635\n1\n&lt;date&gt;\ndos\n&gt;\n2021-04-30\n\n\n640\n3\n&lt;date&gt;\ndos\n&lt;\n2022-12-31\n\n\n699\n9\n&lt;date&gt;\ndos\n&lt;\n2024-12-31\n\n\n700\n3\n&lt;date&gt;\ndos\n&lt;\n2023-05-12\n\n\n732\n1\n&lt;date&gt;\ndos\n&gt;\n2021-03-31\n\n\n765\n3\n&lt;date&gt;\ndos\n&lt;\n2023-09-11\n\n\n788\n3\n&lt;date&gt;\ndos\n&lt;\n2022-12-31\n\n\n813\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n814\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n815\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n816\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n817\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n828\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n829\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n830\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n850\n3\n&lt;date&gt;\ndos\n&lt;\n2023-09-11\n\n\n851\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n852\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n853\n2\n&lt;date&gt;\ndos\n&gt;\n2023-04-18\n\n\n854\n3\n&lt;date&gt;\ndos\n&lt;\n2023-09-11\n\n\n879\n4\n&lt;date&gt;\ndos\n&lt;\n2023-05-12\n\n\n881\n4\n&lt;date&gt;\ndos\n&lt;\n2023-05-12\n\n\n885\n1\n&lt;date&gt;\ndos\n&gt;\n2021-12-31\n\n\n889\n1\n&lt;date&gt;\ndos\n&gt;\n2022-01-23\n\n\n890\n1\n&lt;date&gt;\ndos\n&lt;\n2022-01-01\n\n\n933\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n934\n3\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n947\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n971\n2\n&lt;date&gt;\ndos\n&gt;\n2022-10-01\n\n\n972\n2\n&lt;date&gt;\ndos\n&lt;\n2023-09-11\n\n\n973\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n974\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n975\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n976\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n977\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n981\n1\n&lt;date&gt;\ndos\n&gt;\n2022-09-01\n\n\n982\n1\n&lt;date&gt;\ndos\n&gt;\n2022-11-01\n\n\n984\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n985\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n986\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n987\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n988\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n989\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n990\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n991\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n992\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n993\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n994\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n999\n2\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n1000\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n1001\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n1015\n3\n&lt;date&gt;\ndos\n&lt;\n2023-09-11\n\n\n1041\n2\n&lt;date&gt;\ndos\n&gt;\n2023-05-25\n\n\n1044\n4\n&lt;date&gt;\ndos\n&gt;\n2023-05-11\n\n\n1067\n2\n&lt;date&gt;\ndos\n&gt;\n2023-04-16\n\n\n1074\n3\n&lt;date&gt;\ndos\n&gt;\n2023-08-01\n\n\n1076\n2\n&lt;date&gt;\ndos\n&gt;\n2023-04-01\n\n\n1079\n2\n&lt;date&gt;\ndos\n&gt;\n2023-04-18\n\n\n1080\n2\n&lt;date&gt;\ndos\n&gt;\n2023-05-07\n\n\n1083\n2\n&lt;date&gt;\ndos\n&gt;\n2023-11-01\n\n\n1084\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n\n\n\n\n\nAll ages should be in the same unit of time, in this case, days.\nShould be calculated from the encounter’s Date of Service (dos) and the patient’s Date of Birth (dob).\n\ncomponents |&gt; \n  filter(variable == \"dob\") |&gt; \n  mutate(variable = \"age\",\n         class = \"&lt;int&gt;\", \n         age = strex::str_extract_numbers(value),\n         period = strex::str_extract_non_numerics(value),\n         .before = variable) |&gt; \n  unnest(c(age, period)) |&gt; \n  mutate(\n    age = as.integer(age),\n    period = str_remove_all(period, \"\\\\s|,\"),\n    value = NULL,\n    method = case_match(\n      action,\n      c(\"is younger than\", \"younger than\") ~ \"&lt;\",\n      \"is older than\" ~ \"&gt;\",\n      \"is\" ~ \"==\",\n      .default = NA_character_),\n    days = case_when(\n      period == \"years\" ~ as.duration(years(age)) / ddays(1),\n      period == \"months\" ~ as.duration(months(age)) / ddays(1),\n      period == \"days\" ~ as.duration(days(age)) / ddays(1),\n      .default = NA_real_),\n    dos = lubridate::today(),\n  ) |&gt; \n  select(id, step, class, variable, method, age, period, days) |&gt; \n  gt() |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  fmt_integer(columns = c(\"age\", \"days\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"bold\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(variable, method))) |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"normal\",\n        style = \"italic\",\n        decorate = \"underline\",\n        stretch = \"condensed\",\n        font = google_font(name = \"Fira Code\")),\n      locations = cells_body(columns = c(class))) |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\nid\n      step\n      class\n      variable\n      method\n      age\n      period\n      days\n    \n\n\n8\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n8\n3\n&lt;int&gt;\nage\n&gt;\n3\nyears\n1,096\n\n\n9\n3\n&lt;int&gt;\nage\n&gt;\n20\nyears\n7,305\n\n\n13\n4\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n27\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n37\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n70\n1\n&lt;int&gt;\nage\n&gt;\n18\nyears\n6,574\n\n\n72\n6\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n75\n6\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n76\n4\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n77\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n78\n2\n&lt;int&gt;\nage\n&lt;\n3\nyears\n1,096\n\n\n80\n3\n&lt;int&gt;\nage\n==\n18\nmonths\n548\n\n\n80\n4\n&lt;int&gt;\nage\n==\n24\nmonths\n730\n\n\n82\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n83\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n84\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n85\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n86\n3\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n87\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n88\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n90\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n91\n3\n&lt;int&gt;\nage\n&gt;\n18\nyears\n6,574\n\n\n96\n6\n&lt;int&gt;\nage\n&gt;\n21\nyears\n7,670\n\n\n150\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n171\n1\n&lt;int&gt;\nage\n&lt;\n18\nyears\n6,574\n\n\n172\n1\n&lt;int&gt;\nage\n&lt;\n18\nyears\n6,574\n\n\n173\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n174\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n176\n1\n&lt;int&gt;\nage\n&lt;\n18\nyears\n6,574\n\n\n203\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n212\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n214\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n223\n2\n&lt;int&gt;\nage\n&gt;\n10\nyears\n3,652\n\n\n224\n1\n&lt;int&gt;\nage\n&lt;\n11\nyears\n4,018\n\n\n239\n2\n&lt;int&gt;\nage\n&gt;\n11\nmonths\n335\n\n\n242\n1\n&lt;int&gt;\nage\n&lt;\n8\ndays\n8\n\n\n243\n3\n&lt;int&gt;\nage\n&gt;\n7\ndays\n7\n\n\n243\n4\n&lt;int&gt;\nage\n&lt;\n29\ndays\n29\n\n\n244\n1\n&lt;int&gt;\nage\n&gt;\n28\ndays\n28\n\n\n244\n2\n&lt;int&gt;\nage\n&lt;\n18\nyears\n6,574\n\n\n245\n1\n&lt;int&gt;\nage\n&gt;\n17\nyears\n6,209\n\n\n250\n2\n&lt;int&gt;\nage\n&lt;\n1\nyears\n365\n\n\n250\n3\n&lt;int&gt;\nage\n&gt;\n5\nyears\n1,826\n\n\n255\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n256\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n258\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n259\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n260\n2\n&lt;int&gt;\nage\n&lt;\n5\nyears\n1,826\n\n\n260\n3\n&lt;int&gt;\nage\n&gt;\n11\nyears\n4,018\n\n\n261\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n262\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n264\n2\n&lt;int&gt;\nage\n&lt;\n12\nyears\n4,383\n\n\n264\n3\n&lt;int&gt;\nage\n&gt;\n17\nyears\n6,209\n\n\n265\n2\n&lt;int&gt;\nage\n&lt;\n18\nyears\n6,574\n\n\n265\n3\n&lt;int&gt;\nage\n&gt;\n39\nyears\n14,245\n\n\n266\n2\n&lt;int&gt;\nage\n&lt;\n40\nyears\n14,610\n\n\n266\n3\n&lt;int&gt;\nage\n&gt;\n64\nyears\n23,376\n\n\n267\n2\n&lt;int&gt;\nage\n&lt;\n65\nyears\n23,741\n\n\n335\n2\n&lt;int&gt;\nage\n&gt;\n18\nyears\n6,574\n\n\n335\n3\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n338\n2\n&lt;int&gt;\nage\n&gt;\n20\nyears\n7,305\n\n\n338\n3\n&lt;int&gt;\nage\n&lt;\n2\nyears\n730\n\n\n370\n1\n&lt;int&gt;\nage\n&gt;\n64\nyears\n23,376\n\n\n377\n1\n&lt;int&gt;\nage\n&gt;\n64\nyears\n23,376\n\n\n397\n2\n&lt;int&gt;\nage\n&lt;\n4\nyears\n1,461\n\n\n397\n3\n&lt;int&gt;\nage\n&gt;\n6\nyears\n2,192\n\n\n398\n2\n&lt;int&gt;\nage\n&gt;\n7\nyears\n2,557\n\n\n399\n2\n&lt;int&gt;\nage\n&lt;\n7\nyears\n2,557\n\n\n400\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n401\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n403\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n404\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n405\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n406\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n407\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n408\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n409\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n410\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n411\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n412\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n414\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n418\n2\n&lt;int&gt;\nage\n&gt;\n18\nyears\n6,574\n\n\n434\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n436\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n454\n2\n&lt;int&gt;\nage\n&lt;\n65\nyears\n23,741\n\n\n455\n4\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n456\n2\n&lt;int&gt;\nage\n&lt;\n29\ndays\n29\n\n\n457\n2\n&lt;int&gt;\nage\n&lt;\n29\ndays\n29\n\n\n459\n2\n&lt;int&gt;\nage\n&lt;\n29\ndays\n29\n\n\n521\n2\n&lt;int&gt;\nage\n&gt;\n18\nyears\n6,574\n\n\n571\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n580\n1\n&lt;int&gt;\nage\n&lt;\n20\nyears\n7,305\n\n\n581\n2\n&lt;int&gt;\nage\n&lt;\n2\nyears\n730\n\n\n603\n1\n&lt;int&gt;\nage\n&lt;\n1\nmonths\n30\n\n\n613\n3\n&lt;int&gt;\nage\n&lt;\n12\nyears\n4,383\n\n\n641\n6\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n642\n4\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n645\n3\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n651\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n652\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n653\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n654\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n655\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n656\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n657\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n658\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n659\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n660\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n661\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n662\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n663\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n664\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n665\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n666\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n667\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n668\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n669\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n670\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n671\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n672\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n674\n6\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n685\n2\n&lt;int&gt;\nage\n&lt;\n15\nyears\n5,479\n\n\n686\n2\n&lt;int&gt;\nage\n&gt;\n28\ndays\n28\n\n\n687\n1\n&lt;int&gt;\nage\n&gt;\n17\nyears\n6,209\n\n\n690\n2\n&lt;int&gt;\nage\n&lt;\n2\nyears\n730\n\n\n690\n3\n&lt;int&gt;\nage\n&gt;\n49\nyears\n17,897\n\n\n691\n1\n&lt;int&gt;\nage\n&lt;\n4\nyears\n1,461\n\n\n692\n1\n&lt;int&gt;\nage\n&lt;\n18\nyears\n6,574\n\n\n693\n1\n&lt;int&gt;\nage\n&lt;\n6\nmonths\n183\n\n\n693\n2\n&lt;int&gt;\nage\n&gt;\n35\nmonths\n1,065\n\n\n694\n1\n&lt;int&gt;\nage\n&lt;\n3\nyears\n1,096\n\n\n695\n2\n&lt;int&gt;\nage\n&gt;\n16\nyears\n5,844\n\n\n707\n2\n&lt;int&gt;\nage\n&lt;\n35\nyears\n12,784\n\n\n708\n2\n&lt;int&gt;\nage\n&gt;\n35\nyears\n12,784\n\n\n709\n2\n&lt;int&gt;\nage\n&lt;\n16\nyears\n5,844\n\n\n721\n2\n&lt;int&gt;\nage\n&gt;\n1\nyears\n365\n\n\n726\n2\n&lt;int&gt;\nage\n&gt;\n21\nyears\n7,670\n\n\n727\n2\n&lt;int&gt;\nage\n&lt;\n9\nyears\n3,287\n\n\n727\n3\n&lt;int&gt;\nage\n&gt;\n65\nyears\n23,741\n\n\n729\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n735\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n736\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n738\n1\n&lt;int&gt;\nage\n&gt;\n19\nyears\n6,940\n\n\n739\n1\n&lt;int&gt;\nage\n&gt;\n19\nyears\n6,940\n\n\n740\n1\n&lt;int&gt;\nage\n&gt;\n19\nyears\n6,940\n\n\n751\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n762\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n764\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n768\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n838\n2\n&lt;int&gt;\nage\n&lt;\n71\nyears\n25,933\n\n\n838\n3\n&lt;int&gt;\nage\n&gt;\n364\ndays\n364\n\n\n844\n5\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n854\n2\n&lt;int&gt;\nage\n&gt;\n12\nyears\n4,383\n\n\n893\n2\n&lt;int&gt;\nage\n&lt;\n6\nmonths\n183\n\n\n893\n3\n&lt;int&gt;\nage\n&gt;\n35\nmonths\n1,065\n\n\n936\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n942\n1\n&lt;int&gt;\nage\n&gt;\n11\nmonths\n335\n\n\n946\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n981\n4\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n1051\n3\n&lt;int&gt;\nage\n==\n9\nmonths\n274\n\n\n1051\n4\n&lt;int&gt;\nage\n==\n18\nmonths\n548\n\n\n1051\n5\n&lt;int&gt;\nage\n==\n30\nmonths\n913\n\n\n1071\n2\n&lt;int&gt;\nage\n&gt;\n28\ndays\n28\n\n\n\n\n\n\n\n\ncomponents |&gt; \n  filter(variable == \"unit\") |&gt; \n  mutate(class = \"&lt;int&gt;\", \n         value = as.integer(value),\n         method = if_else(str_detect(action, \"is not\"), \"!=\", \"==\"),\n         .before = variable) |&gt; \n  select(id, step, class, variable, method, value, action) |&gt; \n  gt() |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"bold\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(variable, method, value))) |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"normal\",\n        style = \"italic\",\n        decorate = \"underline\",\n        stretch = \"condensed\",\n        font = google_font(name = \"Fira Code\")),\n      locations = cells_body(columns = c(class))) |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\nid\n      step\n      class\n      variable\n      method\n      value\n      action\n    \n\n\n169\n2\n&lt;int&gt;\nunit\n!=\n2\nis not\n\n\n621\n2\n&lt;int&gt;\nunit\n==\n2\nis\n\n\n730\n3\n&lt;int&gt;\nunit\n==\n2\nis\n\n\n730\n4\n&lt;int&gt;\nunit\n==\n3\nis\n\n\n730\n5\n&lt;int&gt;\nunit\n==\n4\nis\n\n\n730\n6\n&lt;int&gt;\nunit\n==\n5\nis\n\n\n730\n7\n&lt;int&gt;\nunit\n==\n6\nis\n\n\n731\n1\n&lt;int&gt;\nunit\n==\n2\nis\n\n\n731\n2\n&lt;int&gt;\nunit\n==\n3\nis\n\n\n731\n3\n&lt;int&gt;\nunit\n==\n4\nis\n\n\n731\n4\n&lt;int&gt;\nunit\n==\n5\nis\n\n\n731\n5\n&lt;int&gt;\nunit\n==\n6\nis\n\n\n1078\n2\n&lt;int&gt;\nunit\n==\n2\nis\n\n\n\n\n\n\n\nHow can this be represented in relational algebra? Detect presence with regex?\nIf not present, then is NA its’ representation? If so, is.na(x) would equal is not present and !is.na(x) would equal is present\n\ncomponents |&gt; \n  filter(variable == \"ndc\") |&gt; \n  mutate(class = \"&lt;lgl&gt;\", \n         .before = variable, \n         method = if_else(str_detect(action, \"is not\"), \"is.na(x)\", \"!is.na(x)\")) |&gt; \n  select(id, step, class, variable, method, value, action) |&gt; \n  gt() |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"bold\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(variable, method, value))) |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"normal\",\n        style = \"italic\",\n        decorate = \"underline\",\n        stretch = \"condensed\",\n        font = google_font(name = \"Fira Code\")),\n      locations = cells_body(columns = c(class))) |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\nid\n      step\n      class\n      variable\n      method\n      value\n      action\n    \n\n\n2\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n3\n2\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n10\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n15\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n25\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n39\n2\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n40\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n153\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n207\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n211\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n327\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n336\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n353\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nPresent\nis\n\n\n362\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNotPresent\nis\n\n\n522\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n523\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n570\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n585\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n749\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n752\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n766\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n944\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n1002\n2\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n\n\n\n\n\n\nhas all\nis\nis not\nis one of\n\nsome values contain wildcards *\n\ncomponents |&gt; \n  filter(variable == \"icd\") |&gt;\n  mutate(wc = case_when(str_detect(value, \"\\\\*\") ~ 1L, .default = 0L),\n         nchar = if_else(wc == 1, str_count(value, \"[[:alnum:]]\"), 0L),\n         class = \"&lt;chr&gt;\",\n         method = case_when(\n           action == \"is\" & wc == 1 ~ \"%in%\",\n           action == \"is\" & wc == 0 ~ \"==\",\n           .default = NA_character_)\n         ) |&gt; \n  filter(!is.na(method)) |&gt; \n  select(id, step, class, variable, method, value, action, wc, nchar) |&gt; \n  gt() |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"bold\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(variable, method, value))) |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"normal\",\n        style = \"italic\",\n        decorate = \"underline\",\n        stretch = \"condensed\",\n        font = google_font(name = \"Fira Code\")),\n      locations = cells_body(columns = c(class))) |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\nid\n      step\n      class\n      variable\n      method\n      value\n      action\n      wc\n      nchar\n    \n\n\n4\n1\n&lt;chr&gt;\nicd\n%in%\nS*\nis\n1\n1\n\n\n23\n2\n&lt;chr&gt;\nicd\n==\nH01.119\nis\n0\n0\n\n\n24\n2\n&lt;chr&gt;\nicd\n%in%\nS*\nis\n1\n1\n\n\n79\n3\n&lt;chr&gt;\nicd\n==\nZ13.41\nis\n0\n0\n\n\n100\n1\n&lt;chr&gt;\nicd\n%in%\nR06.0*\nis\n1\n4\n\n\n101\n1\n&lt;chr&gt;\nicd\n%in%\nJ41.*\nis\n1\n3\n\n\n104\n1\n&lt;chr&gt;\nicd\n==\nG89.2\nis\n0\n0\n\n\n106\n1\n&lt;chr&gt;\nicd\n%in%\nE08.*\nis\n1\n3\n\n\n107\n1\n&lt;chr&gt;\nicd\n%in%\nG30.*\nis\n1\n3\n\n\n108\n1\n&lt;chr&gt;\nicd\n==\nR63.5\nis\n0\n0\n\n\n109\n1\n&lt;chr&gt;\nicd\n%in%\nR41.*\nis\n1\n3\n\n\n110\n1\n&lt;chr&gt;\nicd\n==\nJ00\nis\n0\n0\n\n\n111\n1\n&lt;chr&gt;\nicd\n==\nR41.3\nis\n0\n0\n\n\n112\n1\n&lt;chr&gt;\nicd\n%in%\nG43.*\nis\n1\n3\n\n\n113\n1\n&lt;chr&gt;\nicd\n%in%\nG43.7*\nis\n1\n4\n\n\n113\n2\n&lt;chr&gt;\nicd\n%in%\nG43.0*\nis\n1\n4\n\n\n114\n1\n&lt;chr&gt;\nicd\n==\nZ72.821\nis\n0\n0\n\n\n115\n1\n&lt;chr&gt;\nicd\n%in%\nM54.1*\nis\n1\n4\n\n\n116\n1\n&lt;chr&gt;\nicd\n%in%\nM54.5*\nis\n1\n4\n\n\n118\n1\n&lt;chr&gt;\nicd\n%in%\nE10.*\nis\n1\n3\n\n\n119\n1\n&lt;chr&gt;\nicd\n%in%\nE11.*\nis\n1\n3\n\n\n120\n1\n&lt;chr&gt;\nicd\n%in%\nE09.*\nis\n1\n3\n\n\n122\n1\n&lt;chr&gt;\nicd\n==\nG31.84\nis\n0\n0\n\n\n123\n1\n&lt;chr&gt;\nicd\n%in%\nJ45*\nis\n1\n3\n\n\n124\n1\n&lt;chr&gt;\nicd\n==\nZ72.0\nis\n0\n0\n\n\n125\n1\n&lt;chr&gt;\nicd\n==\nN39.0\nis\n0\n0\n\n\n126\n1\n&lt;chr&gt;\nicd\n%in%\nR06*\nis\n1\n3\n\n\n128\n1\n&lt;chr&gt;\nicd\n%in%\nF20*\nis\n1\n3\n\n\n129\n1\n&lt;chr&gt;\nicd\n%in%\nF30*\nis\n1\n3\n\n\n130\n1\n&lt;chr&gt;\nicd\n%in%\nF31*\nis\n1\n3\n\n\n131\n1\n&lt;chr&gt;\nicd\n==\nH72.00\nis\n0\n0\n\n\n132\n1\n&lt;chr&gt;\nicd\n%in%\nF32*\nis\n1\n3\n\n\n133\n1\n&lt;chr&gt;\nicd\n%in%\nF33*\nis\n1\n3\n\n\n138\n1\n&lt;chr&gt;\nicd\n%in%\nF10.1*\nis\n1\n4\n\n\n139\n1\n&lt;chr&gt;\nicd\n%in%\nF11.1*\nis\n1\n4\n\n\n140\n1\n&lt;chr&gt;\nicd\n==\nZ31.89\nis\n0\n0\n\n\n141\n1\n&lt;chr&gt;\nicd\n%in%\nM75.12*\nis\n1\n5\n\n\n141\n2\n&lt;chr&gt;\nicd\n%in%\nS46.01*\nis\n1\n5\n\n\n142\n1\n&lt;chr&gt;\nicd\n==\nJ30.9\nis\n0\n0\n\n\n143\n1\n&lt;chr&gt;\nicd\n==\nJ06.9\nis\n0\n0\n\n\n144\n1\n&lt;chr&gt;\nicd\n==\nR07.0\nis\n0\n0\n\n\n145\n1\n&lt;chr&gt;\nicd\n==\nM51.16\nis\n0\n0\n\n\n146\n1\n&lt;chr&gt;\nicd\n%in%\nM54.3*\nis\n1\n4\n\n\n154\n3\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n230\n2\n&lt;chr&gt;\nicd\n==\nM17.0\nis\n0\n0\n\n\n363\n1\n&lt;chr&gt;\nicd\n%in%\nZ68*\nis\n1\n3\n\n\n368\n1\n&lt;chr&gt;\nicd\n==\nH61.23\nis\n0\n0\n\n\n382\n1\n&lt;chr&gt;\nicd\n%in%\nZ01.41*\nis\n1\n5\n\n\n402\n3\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n436\n3\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n448\n1\n&lt;chr&gt;\nicd\n%in%\nZ01.41*\nis\n1\n5\n\n\n457\n1\n&lt;chr&gt;\nicd\n==\nR17\nis\n0\n0\n\n\n469\n1\n&lt;chr&gt;\nicd\n==\nPresent\nis\n0\n0\n\n\n476\n1\n&lt;chr&gt;\nicd\n==\nR50.81\nis\n0\n0\n\n\n521\n1\n&lt;chr&gt;\nicd\n==\nF91.3\nis\n0\n0\n\n\n531\n1\n&lt;chr&gt;\nicd\n%in%\nJ95*\nis\n1\n3\n\n\n536\n1\n&lt;chr&gt;\nicd\n%in%\nR53.8*\nis\n1\n4\n\n\n596\n1\n&lt;chr&gt;\nicd\n==\nH60.393\nis\n0\n0\n\n\n599\n1\n&lt;chr&gt;\nicd\n==\nH66.90\nis\n0\n0\n\n\n602\n1\n&lt;chr&gt;\nicd\n%in%\nM43.0*\nis\n1\n4\n\n\n603\n2\n&lt;chr&gt;\nicd\n%in%\nO*\nis\n1\n1\n\n\n605\n2\n&lt;chr&gt;\nicd\n==\nZ11.59\nis\n0\n0\n\n\n606\n2\n&lt;chr&gt;\nicd\n==\nZ20.828\nis\n0\n0\n\n\n607\n2\n&lt;chr&gt;\nicd\n==\nJ12.82\nis\n0\n0\n\n\n609\n1\n&lt;chr&gt;\nicd\n==\nM35.81\nis\n0\n0\n\n\n622\n1\n&lt;chr&gt;\nicd\n==\nZ11.52\nis\n0\n0\n\n\n628\n1\n&lt;chr&gt;\nicd\n%in%\nR51.*\nis\n1\n3\n\n\n629\n1\n&lt;chr&gt;\nicd\n%in%\nM12.55*\nis\n1\n5\n\n\n634\n1\n&lt;chr&gt;\nicd\n==\nH62.40\nis\n0\n0\n\n\n637\n1\n&lt;chr&gt;\nicd\n==\nZ00.8\nis\n0\n0\n\n\n638\n1\n&lt;chr&gt;\nicd\n%in%\nE66*\nis\n1\n3\n\n\n648\n2\n&lt;chr&gt;\nicd\n%in%\nO*\nis\n1\n1\n\n\n677\n1\n&lt;chr&gt;\nicd\n==\nG25.3\nis\n0\n0\n\n\n678\n1\n&lt;chr&gt;\nicd\n==\nR56.1\nis\n0\n0\n\n\n681\n1\n&lt;chr&gt;\nicd\n%in%\nR22.*\nis\n1\n3\n\n\n682\n1\n&lt;chr&gt;\nicd\n%in%\nG58.*\nis\n1\n3\n\n\n683\n1\n&lt;chr&gt;\nicd\n%in%\nR65.*\nis\n1\n3\n\n\n695\n1\n&lt;chr&gt;\nicd\n%in%\nO09.6*\nis\n1\n4\n\n\n698\n1\n&lt;chr&gt;\nicd\n==\nB97.21\nis\n0\n0\n\n\n705\n1\n&lt;chr&gt;\nicd\n%in%\nZ34*\nis\n1\n3\n\n\n706\n1\n&lt;chr&gt;\nicd\n%in%\nZ3A*\nis\n1\n3\n\n\n707\n1\n&lt;chr&gt;\nicd\n%in%\nO09.5*\nis\n1\n4\n\n\n708\n1\n&lt;chr&gt;\nicd\n%in%\nZ34*\nis\n1\n3\n\n\n709\n1\n&lt;chr&gt;\nicd\n%in%\nZ34*\nis\n1\n3\n\n\n710\n2\n&lt;chr&gt;\nicd\n%in%\nZ34*\nis\n1\n3\n\n\n711\n1\n&lt;chr&gt;\nicd\n%in%\nZ34*\nis\n1\n3\n\n\n712\n1\n&lt;chr&gt;\nicd\n%in%\nZ34*\nis\n1\n3\n\n\n728\n1\n&lt;chr&gt;\nicd\n%in%\nL50*\nis\n1\n3\n\n\n729\n3\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n735\n5\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n736\n3\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n737\n1\n&lt;chr&gt;\nicd\n==\nR19.4\nis\n0\n0\n\n\n753\n3\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n755\n4\n&lt;chr&gt;\nicd\n%in%\nZ30*\nis\n1\n3\n\n\n768\n3\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n782\n1\n&lt;chr&gt;\nicd\n==\nJ91.0\nis\n0\n0\n\n\n783\n1\n&lt;chr&gt;\nicd\n==\nJ91.8\nis\n0\n0\n\n\n803\n1\n&lt;chr&gt;\nicd\n==\nI87.2\nis\n0\n0\n\n\n811\n1\n&lt;chr&gt;\nicd\n%in%\nZ13.39,Z0*\nis\n1\n7\n\n\n813\n2\n&lt;chr&gt;\nicd\n==\nM35.81\nis\n0\n0\n\n\n815\n2\n&lt;chr&gt;\nicd\n==\nU09.9\nis\n0\n0\n\n\n816\n2\n&lt;chr&gt;\nicd\n==\nF32.9\nis\n0\n0\n\n\n817\n2\n&lt;chr&gt;\nicd\n==\nR63.3\nis\n0\n0\n\n\n827\n1\n&lt;chr&gt;\nicd\n==\nR35.8\nis\n0\n0\n\n\n828\n2\n&lt;chr&gt;\nicd\n==\nM54.5\nis\n0\n0\n\n\n829\n2\n&lt;chr&gt;\nicd\n==\nP09\nis\n0\n0\n\n\n830\n2\n&lt;chr&gt;\nicd\n==\nR05\nis\n0\n0\n\n\n831\n1\n&lt;chr&gt;\nicd\n==\nZ20.822\nis\n0\n0\n\n\n831\n2\n&lt;chr&gt;\nicd\n==\nU07.1\nis\n0\n0\n\n\n842\n1\n&lt;chr&gt;\nicd\n%in%\nB97*\nis\n1\n3\n\n\n858\n1\n&lt;chr&gt;\nicd\n%in%\nZ37.*\nis\n1\n3\n\n\n957\n1\n&lt;chr&gt;\nicd\n%in%\nQ03*\nis\n1\n3\n\n\n965\n3\n&lt;chr&gt;\nicd\n==\nZ12.5\nis\n0\n0\n\n\n969\n3\n&lt;chr&gt;\nicd\n%in%\nZ12.*\nis\n1\n3\n\n\n971\n1\n&lt;chr&gt;\nicd\n==\nB37.3\nis\n0\n0\n\n\n1003\n1\n&lt;chr&gt;\nicd\n==\nK30\nis\n0\n0\n\n\n1039\n3\n&lt;chr&gt;\nicd\n==\nZ13.41\nis\n0\n0\n\n\n1057\n1\n&lt;chr&gt;\nicd\n%in%\nR31.*\nis\n1\n3\n\n\n1062\n1\n&lt;chr&gt;\nicd\n==\nJ02.9\nis\n0\n0\n\n\n1064\n3\n&lt;chr&gt;\nicd\n==\nR19.5\nis\n0\n0\n\n\n1071\n1\n&lt;chr&gt;\nicd\n%in%\nH04.53*\nis\n1\n5\n\n\n1072\n1\n&lt;chr&gt;\nicd\n==\nM54.6\nis\n0\n0\n\n\n1077\n2\n&lt;chr&gt;\nicd\n%in%\nF25*\nis\n1\n3\n\n\n1092\n1\n&lt;chr&gt;\nicd\n%in%\nF17.*\nis\n1\n3\n\n\n\n\n\n\n\n\ncategorize_vars |&gt;\n  separate_longer_delim(cols = value, delim = \",\") |&gt;\n  mutate(value = str_squish(value),\n         neg = case_when(str_detect(action, \"not\") ~ 1L, .default = 0L),\n         wc = case_when(str_detect(value, \"\\\\*\") ~ 1L, .default = 0L),\n         .after = value)\n\nhead_tail(rules_new, n = 10, by = c(\"var\", \"action\")) |&gt;\n  gt() |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"bold\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(var, action, value))) |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\nrules_new |&gt;\n  filter(!is.na(var)) |&gt;\n  group_by(var) |&gt;\n  count(action) |&gt;\n  ungroup() |&gt;\n  arrange(var, desc(n), action) |&gt;\n  gt(groupname_col = \"var\", row_group_as_column = TRUE) |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(\n    font = google_font(name = \"Roboto Condensed\"),\n    weight = \"bold\"\n    ) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"normal\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(var, action))) |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\nrules_new |&gt;\n  filter(wc == 1,\n         var == \"hcpcs\") |&gt;\n  mutate(value = str_remove_all(value, \"\\\\*\"),\n         chars = 5 - str_length(value),\n         .after = value) |&gt;\n  mutate(\n    regex = case_when(\n      chars == 0 ~ glue_chr(\"^&lt;&lt;value&gt;&gt;$\", .open = \"&lt;&lt;\", .close = \"&gt;&gt;\"),\n      chars == 1 ~ glue_chr(\"^&lt;&lt;value&gt;&gt;[0-9]$\", .open = \"&lt;&lt;\", .close = \"&gt;&gt;\"),\n      chars &gt; 1 ~ glue_chr(\"^&lt;&lt;value&gt;&gt;[0-9]{&lt;&lt;chars&gt;&gt;}$\", .open = \"&lt;&lt;\", .close = \"&gt;&gt;\")),\n    regex = case_when(neg == 1L ~ glue_chr('!{regex}'), .default = regex),\n    .after = regex\n  ) |&gt;\n  head_tail(n = 10, by = c(\"var\", \"action\")) |&gt;\n  gt() |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"bold\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(regex))) |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\nnorthstar::search_descriptions(hcpcs_desc_type = \"Long\") |&gt; \n  # dplyr::mutate(not_hcpcs = !grepl(\"^99[0-9]{3}$\", hcpcs_code)) |&gt; \n  filter(!grepl(\"^99[0-9]{3,3}$\", hcpcs_code)) |&gt;\n  # dplyr::mutate(has_hcpcs = grepl(\"^J[0-9]{4}$\", hcpcs_code)) |&gt; \n  filter(str_detect(hcpcs_code, regex(\"^J[0-9]{4}$\"))) |&gt; \n  filter(str_detect(hcpcs_code, regex(\"^(?!5405)(?&lt;![0-9]{1})$\"))) |&gt; \n  print(n = 200)\n\n# Match strings that don't start with \"99\" and don't end with 3 digits\npattern &lt;- \"^(?!99).*(?&lt;![0-9]{3})$\"\n\n# Negation pattern\n\"^(?!9938[0-9]{1}$)\"\n\n# Begins with 0, ends with digit\n\"^0.*\\\\d$\"\n\n# Begins with 0, ends with letter\n\"^0.*[A-Z]$\"\n\n# Match strings that don't start with \"a\" and don't end with \"z\"\npattern &lt;- \"^(?!a).*[^z]$\"\ngrep(pattern, c(\"apple\", \"banana\", \"cherry\"), value = TRUE)\n# Output: \"banana\" \"cherry\"\n\nstringr::str_detect(\"99202\", stringr::regex(\"^[992]{3}.*\"))\n\ngrep(\"^[992]{3}.*\", \"99202\", value = TRUE, invert = TRUE)\n\n\npattern = dplyr::case_when(\n  chars == 0 & negation == FALSE ~ glue::glue(\"^&lt;value&gt;$\", .open = \"&lt;\", .close = \"&gt;\"),\n  chars &gt; 0  & negation == FALSE ~ glue::glue(\"^&lt;value&gt;[0-9]{&lt;chars&gt;}$\", .open = \"&lt;\", .close = \"&gt;\"),\n  chars == 0 & negation == TRUE ~ glue::glue(\"^(?!&lt;value&gt;)$\", .open = \"&lt;\", .close = \"&gt;\"),\n  chars &gt; 0  & negation == TRUE ~ glue::glue(\"^(?!&lt;&lt;value&gt;&gt;)(?&lt;![0-9]{&lt;&lt;chars&gt;&gt;})$\", .open = \"&lt;&lt;\", .close = \"&gt;&gt;\")\n  )"
  },
  {
    "objectID": "posts/rules/claims_rules.html#descriptors",
    "href": "posts/rules/claims_rules.html#descriptors",
    "title": "Building Claims Rules",
    "section": "",
    "text": "id\nname: Split letters/numbers, categorize Payer, State, etc.\ncategory:\ndescription:\nrationale: Steps are detailed in the rationale that are missing from the ruleset\nsources: Extract urls from category\n\n\ndescriptors &lt;- rules |&gt; \n  select(id, name, category, description, rationale) |&gt; \n  distinct() |&gt; \n  mutate(sources = str_extract_all(category,\"https?://[^\\\\s]+\"),\n         category = str_remove_all(category,\"https?://[^\\\\s]+\")) |&gt;\n  unnest(sources, keep_empty = TRUE) |&gt;\n  separate_longer_delim(sources, delim = \"https:\") |&gt;\n  mutate(sources = na_if(sources, \"\") |&gt; str_squish(),\n         sources = if_else(!is.na(sources), str_c(\"https:\", sources), sources),\n         category = na_if(category, \"\") |&gt; str_squish(),\n         description = str_squish(description),\n         description = str_remove_all(description, \"►\"),\n         description = gsub(\",(?!\\\\s)\", \", \", description, perl = TRUE) |&gt; str_squish(),\n         rationale = str_squish(rationale),\n         rationale = str_remove_all(rationale, \"►\"),\n         rationale = gsub(\",(?!\\\\s)\", \", \", rationale, perl = TRUE) |&gt; str_squish()\n         ) |&gt; \n  nest(sources = c(sources))\n\ndescriptors\n\n# A tibble: 1,192 × 6\n      id name       category                      description rationale sources \n   &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;                         &lt;chr&gt;       &lt;chr&gt;     &lt;list&gt;  \n 1     1 ExpiredCPT Expired CPT                   CPT Code i… 43760 ex… &lt;tibble&gt;\n 2     2 ALBCBS1    NDC Numbers                   Primary In… Alabama … &lt;tibble&gt;\n 3     3 ALBCBS2    NDC Numbers                   Primary In… Alabama … &lt;tibble&gt;\n 4     4 ALBCBS3    NDC Numbers                   Primary In… Add acci… &lt;tibble&gt;\n 5     5 ALBCBS4    Wellness visits - BMI & BP r… Primary In… When fil… &lt;tibble&gt;\n 6     6 ALMCD1     Independent RHC claims        Primary In… RHC clai… &lt;tibble&gt;\n 7     7 ALMCD2     BMI requirement               Primary In… Beginnin… &lt;tibble&gt;\n 8     8 ALMCD3     Pediatric BMI                 Primary In… Pediatri… &lt;tibble&gt;\n 9     9 ALMCD4     Adult BMI                     Primary In… Adult BM… &lt;tibble&gt;\n10    10 ALMCD5     NDC requirement               Primary In… The NDC … &lt;tibble&gt;\n# ℹ 1,182 more rows\n\n\n\n\ndescriptors |&gt; \n  reframe(\n    id,\n    name,\n    state = if_else(\n      str_sub(name, 1, 2) %in% state.abb, \n      str_sub(name, 1, 2), NA_character_),\n    char = strex::str_extract_non_numerics(str_sub(name, 3, -1)),\n    int = strex::str_extract_numbers(name)\n  ) |&gt; \n  unnest(c(int, char), keep_empty = TRUE) |&gt; \n  mutate(\n    state = if_else(\n      str_sub(char, -2) %in% state.abb, \n      str_sub(char, -2), state)\n  )\n\n# A tibble: 1,372 × 5\n      id name       state char       int\n   &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;\n 1     1 ExpiredCPT &lt;NA&gt;  piredCPT    NA\n 2     2 ALBCBS1    AL    BCBS         1\n 3     3 ALBCBS2    AL    BCBS         2\n 4     4 ALBCBS3    AL    BCBS         3\n 5     5 ALBCBS4    AL    BCBS         4\n 6     6 ALMCD1     AL    MCD          1\n 7     7 ALMCD2     AL    MCD          2\n 8     8 ALMCD3     AL    MCD          3\n 9     9 ALMCD4     AL    MCD          4\n10    10 ALMCD5     AL    MCD          5\n# ℹ 1,362 more rows\n\n\n\n\ndescriptors |&gt;\n  slice_sample(n = 50) |&gt; \n  mutate(category = str_wrap(category, width = 50),\n         description = str_wrap(description, width = 60),\n         rationale = str_wrap(rationale, width = 50)) |&gt;\n  select(-sources) |&gt; \n  gt(rowname_col = \"name\",\n     groupname_col = \"category\",\n     row_group_as_column = TRUE) |&gt;\n  cols_align(align = \"left\", columns = -c(id)) |&gt;\n  cols_align(align = \"center\", columns = c(id)) |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = \"left\",\n        weight = \"bold\",\n        size = px(14),\n        whitespace = \"break-spaces\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(description))) |&gt;\n  tab_style(\n      style = cell_text(\n        color = \"#0B0B35\",\n        align = \"center\",\n        weight = \"bold\",\n        size = px(16),\n        font = google_font(name = \"Roboto Condensed\")),\n      locations = cells_body(columns = c(id))) |&gt;\n  gtExtras::gt_add_divider(\n    columns = \"description\", \n    style = \"solid\",\n    weight = \"3px\",\n    color = \"royalblue\") |&gt;\n  tab_style(\n    style = cell_text(\n      v_align = \"middle\", \n      align = \"right\",\n      weight = \"800\"),\n    locations = cells_row_groups()) |&gt; \n  tab_style(\n    style = cell_text(\n      size = px(16),\n      font = google_font(name = \"JetBrains Mono\"),\n      v_align = \"middle\", \n      align = \"center\"\n      ),\n    locations = cells_stub()) |&gt; \n  opt_stylize(add_row_striping = TRUE) |&gt;\n  tab_options(table.width = pct(85),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\n\n      id\n      description\n      rationale\n    \n\n\nZ34 Encounter for supervision of normal pregnancy\nICD10-89\n705\nDX Code is [Z34*] AND DX Code is one of [O*, Z32.0*]\nEncounter for supervision of normal pregnancy\n(Z34) should not be reported with any complication\nof pregnancy (O00-O9A), encounter for pregnancy\ntest (Z32.0-), or encounter for supervision of\nhigh risk pregnancy (O09.-).\n\n\nNA\nCOVID19-47\n819\nDelete\nModifier GT must be appended to the CPT or HCPCS\ncode to indicate that a service has been provided\nvia interactive audio-visual communication. This\nmodifier is not appropriate for services performed\ntelephonically or through email or patient portal.\n\n\nVACCN65\n947\nCPT Code is [91309] AND Encounter Date of Service after\n09/11/2023\nVaccine is no longer authorized for use in the\nUnited States. See 91322 for 50 mcg Moderna\nvaccine.\n\n\nANEST9\n839\nDX Code is one of Z85.03*, Z85.04*, Z80.0, Z12.11, Z86.010\nAND AND CPT Code is one of 0081*, G0500, 99153 AND CPT Mod1\nis not PT, 33 AND CPT Mod2 is not PT, 33 AND CPT Mod3 is not\nPT, 33\nIf a screening colonoscopy turns diagnostic\n(polypectomy, biopsy, etc), add modifier 33 (PT\nfor Medicare) to 00811 to show screening was\nintended. If only screening performed, see 00812.\n\n\nVFC-ID\n651\nPrimary Insurance Class is not [COMMERCIAL (1), MEDICAID\n(2), MEDICAID CMO (3), MEDICARE (4), MEDICARE REPLACEMENT\n(5), WORKERS COMP (6)] AND Patient Age is younger than [19,\nyears] AND CPT Code is one of [90460, 90461, 90471, 90472,\n90473, 90474, 90619, 90620, 90621, 90633, 90647, 90648,\n90651, 90670, 90671, 90672, 90674, 90677, 90680, 90681,\n90682, 90685, 90686, 90687, 90688, 90696, 90697, 90698,\n90700, 90702, 90707, 90710, 90713, 90714, 90715, 90716,\n90723, 90732, 90734, 90740, 90743, 90744, 90746, 90747,\n90749, 90756, 90759]\nThe maximum fees that providers may charge for the\nadministration of pediatric vaccines to uninsured\nchildren under the Vaccines for Children (VFC)\nprogram is $20.13 per dose. Serum codes should be\nreported as $0.00 if present.\n\n\nMEDSV4\n576\nPrimary Insurance Class is one of [MEDICARE (4), MEDICARE\nADVANTAGE] AND CPT Code is one of [92521, 92522, 92523,\n92524, 92597, 92607] AND CPT Mod1 is not [GN]\nCodes Requiring the “GN” Therapy Modifier are\npresent.\n\n\nCOMCD2\n746\nPrimary Insurance Class is [MEDICAID (4)] AND ( CPT Rev Code\nis not [0521] OR CPT UB04 is [false] )\nRHCs that submit a UB-04 must have at least one\n(1) claim line that identifies revenue code 0521\nfor RHCs. All other lines on the claim should have\nthe revenue code most appropriate for the service.\nThe line item with revenue code 0521 can appear at\nany line on the claim and with any procedure code.\n\n\nDME31\n924\nA capped rental item is present. If item is a rental and not\na purchase, use monthly rental modifiers (KH, KI, KJ, or KR)\nin addition to modifier RR, if applicable. Be sure item is\nlisted in the patients configured encounters.\nA capped rental item is present. If item is a\nrental and not a purchase, use monthly rental\nmodifiers (KH, KI, KJ, or KR) in addition to\nmodifier RR. Be sure item is listed in the\npatients configured encounters.\n\n\nDME8\n901\nCPT Code is one of [A9283; L3000; L3001; L3002; L3003;\nL3010; L3020; L3030; L3031; L3040; L3050; L3060; L3070;\nL3080; L3090; L3100; L3140; L3150; L3160; L3170; L3201;\nL3202; L3203; L3204; L3206; L3207; L3208; L3209; L3211;\nL3212; L3213; L3214; L3215; L3216; L3217; L3219; L3221;\nL3222; L3224; L3225; L3230; L3250; L3251; L3252; L3253;\nL3254; L3255; L3257; L3260; L3265; L3300; L3310; L3320;\nL3330; L3332; L3334; L3340; L3350; L3360; L3370; L3380;\nL3390; L3400; L3410; L3420; L3430; L3440; L3450; L3455;\nL3460; L3465; L3470; L3480; L3485; L3500; L3510; L3520;\nL3530; L3540; L3550; L3560; L3570; L3580; L3590; L3595;\nL3600; L3610; L3620; L3630; L3640; L3649] AND ( CPT Mod1 is\nnot [EY; GY; KX] AND CPT Mod2 is not [EY; GY; KX] AND CPT\nMod3 is not [EY; GY; KX] AND CPT Mod4 is not [EY; GY; KX] )\nOrthopedic Footwear may require the usage of the\nKX modifier to identify that the requirements\nidentified in the medical policy have been met. If\nrequirements were not met, see also modifier EY or\nGY. Review payer guidelines.\n\n\nOBGYN2\n711\nDX Code is [Z34*] AND CPT Code is not [0500F, 0501F, 0502F]\nAND CPT Code is not [9920*, 9921*, 9922*, 9923*, 9924*,\n9925*, 9928*, 9929*, 9930*, 9931*, 9932*, 9933*, 9934*,\n9935*, 9938*, 9939*, 9946*, 9947*, 9948*, 9949*]\nAdd reporting codes for prenatal visits for\ntracking purposes. 0500F: Initial prenatal care\nvisit or 0502F: Subsequent prenatal care visit.\n\n\nIDMCD4\n639\nPrimary Insurance is [Medicaid of Idaho (2)] AND CPT Code is\n[80050]\n80050 is not reimbursed by payer. Unbundle labs\nand bill individually.\n\n\nVACCN64\n934\nCPT Code is [91305, 91307] AND Encounter Date of Service\nafter 09/11/2023\nVaccine no longer approved for use in the United\nStates. See 91318 for 3 mcg Pfizer vaccine.\n\n\nGABCBS2\n944\nPrimary Insurance is one of [BCBS OF GA - B2 (47); BCBS OF\nGA FEDERAL CLAIMS - KSB (48); BCBS OF GA CAP (49); BCBS OF\nGA - B2 (50); BCBS OF GA HAM (51); BCBS PATHWAY - B2 (52);\nBCBS SECONDARY - B2 (53); BCBS XKT (54); MEDICARE BCBS ADV -\nKBB (227); Credence BCBS (572)] AND CPT Code is [J*] AND CPT\nNDC (Presence) is [Not Present]\nBCBS/Anthem requires NDC info on claim\n\n\nVACCN50\n694\nPatient Age is younger than [3, years] AND CPT Code is\n[90688]\nReview CPT versus age of the patient. 90688 is for\npatients aged 3 years and older.\n\n\nVACCN45\n633\nCPT Code is [91303] AND Encounter Date of Service after\n06/01/2023\nCode the Janssen Covid-19 Vaccine Administration\ncode (0031A for the first vaccine, 0034A for the\nBooster). Vaccine is no longer authorized for use\nin the United States.\n\n\nAUDIO6\n1004\nCPT Code is one of [69209; 69210] AND CPT Code is [992*]\n(For RHC/FQHC accounts)\n\n\nE&M61\n991\nEncounter Date of Service after 01/01/2023 AND CPT code is\none of 99339, 99340\n99339/99340 are expired codes. See CPT 99437,\n99491, 99424, 99425.\n\n\nOBGYN2\n711\nDX Code is [Z34*] AND CPT Code is not [0500F, 0501F, 0502F]\nAND CPT Code is not [9920*, 9921*, 9922*, 9923*, 9924*,\n9925*, 9928*, 9929*, 9930*, 9931*, 9932*, 9933*, 9934*,\n9935*, 9938*, 9939*, 9946*, 9947*, 9948*, 9949*]\n**Account specific alert for internal procedure.\nDo not add unless requested.\n\n\nLabs Rev Code\nRHC19\n282\nCPT Code is [8*] AND CPT UB04 is [true] AND CPT Rev Code is\nnot [0300]\nThe revenue code for labs should be 0300. Update\nfee schedule and edit revenue code at the CPT\nline.\n\n\nDrugs\nUNVSL55\n387\nCPT Code is [J*] AND Place of Service is one of\n[INPATIENT HOSPITAL (21) , ON CAMPUS-OUTPATIENT HOSPITAL\n(22) , EMERGENCY ROOM - HOSPITAL (23), ASSISTED LIVING\nFACILITY(13), COMPREHENSIVE INPATIENT REHAB(61),\nCOMPREHENSIVE OUTPATIENT REHAB(62), GROUP HOME(14),\nHOSPICE(34), INPATIENT PSYCH FACILITY(51), INTERMEDIATE\nCARE FACILITY(54), MILITARY TREATMENT FACILITY(26),\nNON-RESIDENTIAL SUBSTANCE ABUSE FACILITY(57), NURSING\nFACILITY(32), OFF CAMPUS-OUTPATIENT HOSPITAL(19),\nPSYCHIATRIC FACILITY-PARTIAL HOSP(52), PSYCHIATRIC\nRESIDENTIAL TREATMENT FACILITY(56)SKILLED NURSING\nFACILITY(31), TELEHEALTH IN PATIENT HOME(10), TELEHEALTH\nOTHER THAN IN PATIENT HOME(02)\nDrugs may not be billable for this POS unless\nprovided by clinic - review documentation.\n\n\n99385, 99395 Age Alert\nPRVNT5\n265\nCPT Code is one of [99385, 99395] AND ( Patient Age is\nyounger than [18, years] OR Patient Age is older than [39,\nyears] )\nCPT used is not appropriate for the age of the\npatient - Patient is either younger than 18 years\nold or older than 39 years old\n\n\nSummit Fax\nUNVSL71\n500\nPrimary Insurance is one of [SUMMIT INSURANCE (72), SUMMITT\nCLAIMS CENTER (135), SUMMIT CLAIM CENTER (158), SUMMIT\nAMERICA (296)]\nFollow Workers Comp billing guidelines for\nelectronic claims attachments.To submit bills via\nfax: 863-667-1871\n\n\nAge - 15-123 years\nICD10-82\n685\nPatient Age is younger than [15, years] AND DX Code is\none of [A18.14, C91.50, C91.51, C91.52, E28.310, E28.319,\nF01.50, F01.51, F03.90, F03.91, F69, G11.2, G12.21, G30.1,\nH02.031, H02.032, H02.033, H02.034, H02.035, H02.036,\nH02.039, H02.131, H02.132, H02.133, H02.134, H02.135,\nH02.136, H02.139, H25.011, H25.012, H25.013, H25.019,\nH25.031, H25.032, H25.033, H25.039, H25.041, H25.042,\nH25.043, H25.049, H25.091, H25.092, H25.093, H25.099,\nH25.10, H25.11, H25.12, H25.13, H25.20, H25.21, H25.22,\nH25.23, H25.811, H25.812, H25.813, H25.819, H25.89, H25.9,\nH31.111, H31.112, H31.113, H31.119, H35.30, H35.311,\nH35.3110, H35.3111, H35.3112, H35.3113, H35.3114, H35.312,\nH35.3120, H35.3121, H35.3122, H35.3123, H35.3124, H35.313,\nH35.3130, H35.3131, H35.3132, H35.3133, H35.3134, H35.319,\nH35.3190, H35.3191, H35.3192, H35.3193, H35.3194, H35.321,\nH35.3210, H35.3211, H35.3212, H35.3213, H35.322, H35.3220,\nH35.3221, H35.3222, H35.3223, H35.323, H35.3230, H35.3231,\nH35.3232, H35.3233, H35.329, H35.3290, H35.3291, H35.3292,\nH35.3293, H35.441, H35.442, H35.443, H35.449, H43.821,\nH43.822, H43.823, H43.829, I23.0, I23.1, I23.2, I23.3,\nI23.6, I23.7, I23.8, I25.10, I25.110, I25.111, I25.118,\nI25.119, I25.700, I25.701, I25.708, I25.709, I25.710,\nI25.711, I25.718, I25.719, I25.720, I25.721, I25.728,\nI25.729, I25.730, I25.731, I25.738, I25.739, I25.760,\nI25.761, I25.768, I25.769, I25.790, I25.791, I25.798,\nI25.799, I25.810, I25.812, I25.83, I51.0, I67.2, I70.0,\nI70.1, I70.201, I70.202, I70.203, I70.208, I70.209, I70.211,\nI70.212, I70.213, I70.218, I70.219, I70.221, I70.222,\nI70.223, I70.228, I70.229, I70.231, I70.232, I70.233,\nI70.234, I70.235, I70.238, I70.239, I70.241, I70.242,\nI70.243, I70.244, I70.245, I70.248, I70.249, I70.25,\nI70.261, I70.262, I70.263, I70.268, I70.269, I70.291,\nI70.292, I70.293, I70.298, I70.299, I70.301, I70.302,\nI70.303, I70.308, I70.309, I70.311, I70.312, I70.313,\nI70.318, I70.319, I70.321, I70.322, I70.323, I70.328,\nI70.329, I70.331, I70.332, I70.333, I70.334, I70.335,\nI70.338, I70.339, I70.341, I70.342, I70.343, I70.344,\nI70.345, I70.348, I70.349, I70.35, I70.361, I70.362,\nI70.363, I70.368, I70.369, I70.391, I70.392, I70.393,\nI70.398, I70.399, I70.401, I70.402, I70.403, I70.408,\nI70.409, I70.411, I70.412, I70.413, I70.418, I70.419,\nI70.421, I70.422, , I70.423, I70.428, I70.429, I70.431,\nI70.432, I70.433, I70.434, I70.435, I70.438, I70.439,\nI70.441, I70.442, I70.443, I70.444, I70.445, I70.448,\nI70.449, I70.45, I70.461, I70.462, I70.463, I70.468,\nI70.469, I70.491, I70.492, I70.493, I70.498, I70.499,\nI70.501, I70.502, I70.503, I70.508, I70.509, I70.511,\nI70.512, I70.513, I70.518, I70.519, I70.521, I70.522,\nI70.523, I70.528, I70.529, I70.531, I70.532, I70.533,\nI70.534, I70.535, I70.538, I70.539, I70.541, I70.542,\nI70.543, I70.544, I70.545, I70.548, I70.549, I70.55,\nI70.561, I70.562, I70.563, I70.568, I70.569, I70.591,\nI70.592, I70.593, I70.598, I70.599, I70.601, I70.602,\nI70.603, I70.608, I70.609, I70.611, I70.612, I70.613,\nI70.618, I70.619, I70.621, I70.622, I70.623, I70.628,\nI70.629, I70.631, I70.632, I70.633, I70.634, I70.635,\nI70.638, I70.639, I70.641, I70.642, I70.643, I70.644,\nI70.645, I70.648, I70.649, I70.65, I70.661, I70.662,\nI70.663, I70.668, I70.669, I70.691, I70.692, I70.693,\nI70.698, I70.699, I70.701, I70.702, I70.703, I70.708,\nI70.709, I70.711, I70.712, I70.713, I70.718, I70.719,\nI70.721, I70.722, I70.723, I70.728, I70.729, I70.731,\nI70.732, I70.733, I70.734, I70.735, I70.738, I70.739,\nI70.741, I70.742, I70.743, I70.744, I70.745, I70.748,\nI70.749, I70.75, I70.761, I70.762, I70.763, I70.768,\nI70.769, I70.791, I70.792, I70.793, I70.798, I70.799,\nI70.8, I70.90, I70.91, I70.92, I83.001, I83.002, I83.003,\nI83.004, I83.005, I83.008, I83.009, I83.011, I83.012,\nI83.013, I83.014, I83.015, I83.018, I83.019, I83.021,\nI83.022, I83.023, I83.024, I83.025, I83.028, I83.029,\nI83.10, I83.11, I83.12, I83.201, I83.202, I83.203, I83.204,\nI83.205, I83.208, I83.209, I83.211, I83.212, I83.213,\nI83.214, I83.215, I83.218, I83.219, I83.221, I83.222,\nI83.223, I83.224, I83.225, I83.228, I83.229, I83.811,\nI83.812, I83.813, I83.819, I83.891, I83.892, I83.893,\nI83.899, I83.90, I83.91, I83.92, I83.93, I86.8, I97.2,\nJ60, J61, J84.82, K31.1, K70.0, K70.10, K70.11, K70.2,\nK70.30, K70.31, K70.40, K70.41, K70.9, M06.1, M42.10,\nM42.11, M42.12, M42.13, M42.14, M42.15, M42.16, M42.17,\nM42.18, M42.19, M72.0, M80.00, M80.00XA, M80.00XD, M80.00XG,\nM80.00XK, M80.00XP, M80.00XS, M80.011, M80.011A, M80.011D,\nM80.011G, M80.011K, M80.011P, M80.011S, M80.012, M80.012A,\nM80.012D, M80.012G, M80.012K, M80.012P, M80.012S, M80.019,\nM80.019A, M80.019D, M80.019G, M80.019K, M80.019P, M80.019S,\nM80.021, M80.021A, M80.021D, M80.021G, M80.021K, M80.021P,\nM80.021S, M80.022, M80.022A, M80.022D, M80.022G, M80.022K,\nM80.022P, M80.022S, M80.029, M80.029A, M80.029D, M80.029G,\nM80.029K, M80.029P, M80.029S, M80.031, M80.031A, M80.031D,\nM80.031G, M80.031K, M80.031P, M80.031S, M80.032, M80.032A,\nM80.032D, M80.032G, M80.032K, M80.032P, M80.032S, M80.039,\nM80.039A, M80.039D, M80.039G, M80.039K, M80.039P, M80.039S,\nM80.041, M80.041A, M80.041D, M80.041G, M80.041K, M80.041P,\nM80.041S, M80.042, M80.042A, M80.042D, M80.042G, M80.042K,\nM80.042P, M80.042S, M80.049, M80.049A, M80.049D, M80.049G,\nM80.049K, M80.049P, M80.049S, M80.051, M80.051A, M80.051D,\nM80.051G, M80.051K, M80.051P, M80.051S, M80.052, M80.052A,\nM80.052D, M80.052G, M80.052K, M80.052P, M80.052S, M80.059,\nM80.059A, M80.059D, M80.059G, M80.059K, M80.059P, M80.059S,\nM80.061, M80.061A, M80.061D, M80.061G, M80.061K, M80.061P,\nM80.061S, M80.062, M80.062A, M80.062D, M80.062G, M80.062K,\nM80.062P, M80.062S, M80.069, M80.069A, M80.069D, M80.069G,\nM80.069K, M80.069P, M80.069S, M80.071, M80.071A, M80.071D,\nM80.071G, M80.071K, M80.071P, M80.071S, M80.072, M80.072A,\nM80.072D, M80.072G, M80.072K, M80.072P, M80.072S, M80.079,\nM80.079A, M80.079D, M80.079G, M80.079K, M80.079P, M80.079S,\nM80.08, M80.08XA, M80.08XD, M80.08XG, M80.08XK, M80.08XP,\nM80.08XS, M80.0A, M80.0AXA, M80.0AXD, M80.0AXG, M80.0AXK,\nM80.0AXP, M80.0AXS, M81.0, M83.1, M83.2, M83.3, M83.5,\nM83.8, M83.9, M93.1, N40.0, N40.1, N40.2, N40.3, N41.0,\nN41.1, N41.2, N41.3, N41.4, N41.8, N41.9, N42.0, N42.1,\nN42.81, N42.82, N42.83, N42.89, N42.9, N46.01, N46.021,\nN46.022, N46.023, N46.024, N46.025, N46.029, N46.11,\nN46.121, N46.122, N46.123, N46.124, N46.125, N46.129,\nN46.8, N46.9, N52.01, N52.02, N52.03, N52.1, N52.2, N52.31,\nN52.32, N52.33, N52.34, N52.35, N52.36, N52.37, N52.39,\nN52.8, N52.9, N60.11, N60.12, N60.19, N64.81, N64.82, N65.0,\nN65.1, R41.81, R54, R62.7, R68.82, R97.20, R97.21, T74.01,\nT74.01XA, T74.01XD, T74.01XS, T74.11, T74.11XA, T74.11XD,\nT74.11XS, T74.21, T74.21XA, T74.21XD, T74.21XS, T74.31,\nT74.31XA, T74.31XD, T74.31XS, T74.51, T74.51XA, T74.51XD,\nT74.51XS, T74.61, T74.61XA, T74.61XD, T74.61XS, T74.91,\nT74.91XA, T74.91XD, T74.91XS, T76.01, T76.01XA, T76.01XD,\nT76.01XS, T76.11, T76.11XA, T76.11XD, T76.11XS, T76.21,\nT76.21XA, T76.21XD, T76.21XS, T76.31, T76.31XA, T76.31XD,\nT76.31XS, T76.51, T76.51XA, T76.51XD, T76.51XS, T76.61,\nT76.61XA, T76.61XD, T76.61XS, T76.91, T76.91XA, T76.91XD,\nT76.91XS, Z00.00, Z00.01, Z04.41, Z04.71, Z31.441, Z31.448,\nZ42.1, Z56.1, Z68.1, Z68.20, Z68.21, Z68.22, Z68.23, Z68.24,\nZ68.25, Z68.26, Z68.27, Z68.28, Z68.29, Z68.30, Z68.31,\nZ68.32, Z68.33, Z68.34, Z68.35, Z68.36, Z68.37, Z68.38,\nZ68.39, Z68.41, Z68.42, Z68.43, Z68.44, Z68.45, Z72.811,\nZ78.0, Z86.51, Z91.410, Z91.411, Z91.412, Z91.419, Z91.82,\nZ98.52]\nThe diagnosis is inconsistent with the patients\nage. One or more ICD-10 codes are only appropriate\nfor ages 15-123 years.\n\n\nBCBS - Injections without J codes\nMEDSV15\n386\n*Select all occurances of BCBS/Blue Cross plans\nAnthem requires that claims for injection services\nperformed in the office setting must include\nthe applicable Healthcare Common Procedure\nCoding System (HCPCS Level II) for the injected\nsubstance. Bill J code with zero fee if patient\nsupplied.\n\n\nVaccines\nALMCD8\n13\nPrimary Insurance Class is [MEDICAID (3)] AND CPT Code is\none of 906*, 9071*, 9072*, 9073*, 9074*, 9075*] AND CPT Code\nis one of [10021, 10040, 10060, 10061, 10080, 10081, 10120,\n10121, 10140, 10160, 11000, 11010, 11011, 11042, 11055,\n11056, 11057, 11100, 11200, 1130*, 1131*, 1140*, 1142*,\n1144*, 1145*, 1160*, 1162*, 1164*, 11719, 1172*, 11730,\n11740, 1175*, 1176*, 1177*, 1190*, 1200*, 1201*, 1202*,\n1203*, 1204*, 1205*, 15271, 16000, 16020, 16025, 16030,\n16035, 1700*, 1710*, 1711*, 17250, 1726*, 1727*, 1728*,\n19000, 205*, 2060*, 2061*, 23500, 23650, 23931, 24640,\n24650, 24670, 25500, 25600, 25622, 26010, 26011, 26115,\n26600, 26605, 26750, 27093, 27520, 27530, 27750, 27760,\n27780, 27786, 27808, 27824, 28080, 28190, 28450, 28470,\n28490, 28515, 29065, 29075, 29085, 29086, 291*, 29240,\n29260, 29280, 29305, 29345, 29355, 294*, 295*, 29700, 29705,\n30300, 3090*, 45300, 46050, 46083, 46320, 46600, 5170*,\n51720, 51725, 51728, 51736, 51741, 51784, 51798, 52000,\n52281, 53601, 53661, 5405*, 5406*, 54150, 55700, 56405,\n56420, 56440, 56441, 56442, 56501, 56515, 56605, 56606,\n56820, 56821, 57061, 57065, 57160, 57420, 57452, 57454,\n57455, 57460, 57461, 57500, 57505, 57510, 57511, 58100,\n59200, 59425, 59426, 59430, 64405, 64450, 64455, 65205,\n65210, 65220, 65222, 69000, 69005, 69200, 69209, 69210,\n7680*, 7681*, 76830, 76856, 76857, 92002, 92004, 92012,\n92014, 92511, 95992, 97597, 97602, 98925, 98926, 98927,\n98928, 98929, 98940, 98941, 98942, 9920*, 9921*, 9930*,\n9931*, 9934*, 99350, 99495, 99496, 99497, G0127, G0168,\nG0245, G0246, G0247, G0490, 99406, 99407, G0101, G0102,\nG0117, G0118, G0296, G0402, G0436, G0437, G0438, G0439,\nG0442, G0443, G0444, G0445, G0446, G0447, Q0091, 90791,\n90792, 90832, 90834, 90837, 90839, 90845\nVFC Vaccines are reimbursable outside of the\nencounter rate utilizing the IRHC National\nProvider Identifier (NPI) and on a separate claim.\n\n\n90474 Add-on\nVACCN13\n396\nCPT Code is [90474] AND CPT Code is not [90460, 90471,\n90473, G0008, G0009, G0010]\nUse 90474 in conjunction with 90460, 90471, 90473\n\n\nAdult BMI\nALMCD4\n9\nPrimary Insurance Class is one of [MEDICAID (3), MEDICAID\nCMO (4)] AND Patient Age is older than [20, years] AND CPT\nCode is one of [9920*, 9921*, 9924*] AND DX Code is not\n[Z68.1, Z68.2*, Z68.3*, Z68.4*]\nAdult BMI diagnosis must be present for patient\nage 20 and older.\n\n\nRHC visit\nOHMCD6\n206\nPrimary Insurance Class is [MEDICAID (3)] AND CPT Code is\none of 10021, 10040, 10060, 10061, 10080, 10081, 10120,\n10121, 10140, 10160, 11000, 11010, 11011, 11042, 11055,\n11056, 11057, 11100, 11200, 1130*, 1131*, 1140*, 1142*,\n1144*, 1145*, 1160*, 1162*, 1164*, 11719, 1172*, 11730,\n11740, 1175*, 1176*, 1177*, 1190*, 1200*, 1201*, 1202*,\n1203*, 1204*, 1205*, 15271, 16000, 16020, 16025, 16030,\n16035, 1700*, 1710*, 1711*, 17250, 1726*, 1727*, 1728*,\n19000, 205*, 2060*, 2061*, 23500, 23650, 23931, 24640,\n24650, 24670, 25500, 25600, 25622, 26010, 26011, 26115,\n26600, 26605, 26750, 27093, 27520, 27530, 27750, 27760,\n27780, 27786, 27808, 27824, 28080, 28190, 28450, 28470,\n28490, 28515, 29065, 29075, 29085, 29086, 291*, 29240,\n29260, 29280, 29305, 29345, 29355, 294*, 295*, 29700, 29705,\n30300, 3090*, 45300, 46050, 46083, 46320, 46600, 5170*,\n51720, 51725, 51728, 51736, 51741, 51784, 51798, 52000,\n52281, 53601, 53661, 5405*, 5406*, 54150, 55700, 56405,\n56420, 56440, 56441, 56442, 56501, 56515, 56605, 56606,\n56820, 56821, 57061, 57065, 57160, 57420, 57452, 57454,\n57455, 57460, 57461, 57500, 57505, 57510, 57511, 58100,\n59200, 59425, 59426, 59430, 64405, 64450, 64455, 65205,\n65210, 65220, 65222, 69000, 69005, 69200, 69209, 69210,\n7680*, 7681*, 76830, 76856, 76857, 92002, 92004, 92012,\n92014, 92511, 95992, 97597, 97602, 98925, 98926, 98927,\n98928, 98929, 98940, 98941, 98942, 9920*, 9921*, 9930*,\n9931*, 9934*, 99350, 99495, 99496, 99497, G0127, G0168,\nG0245, G0246, G0247, G0490, 99406, 99407, G0101, G0102,\nG0117, G0118, G0296, G0402, G0436, G0437, G0438, G0439,\nG0442, G0443, G0444, G0445, G0446, G0447, Q0091, 90791,\n90792, 90832, 90834, 90837, 90839, 90845 AND ( CPT Code is\nnot [T1015] AND CPT Mod1 is not [U1] )\nRHC medical services visits are reported with\nT1015 and modifier U1.\n\n\nMedicare DME\nUNVSL27\n356\nPrimary Insurance is not [DMERC , DMERC JURISDICTION A ,\nDMERC JURISDICTION A, DMERC B, DMERC JURISDICTION D ] AND\nPrimary Insurance Class is [MEDICARE] AND CPT Code is one\nof A422*, A423*, A424*, A425*, A4265, A4280*, A4290, A43*,\nA44*, A45*, A460*, A461*, A462*, A463*, A4640, A4913, A5*,\nA6*, A7*, A8*, A927*, A9283, A9285, B*, E*, K*, L*, Q04*,\nQ050*, Q400*, Q401*, Q402*, Q403*, Q404*, V2*\nDurable medical equipment (DME) must be billed to\nDMERC - Review insurance setting for DME\n\n\nZ34.* with O*\nICD10-114\n843\nCPT Code has all [95115, 95117]\nZ34.* should not be billed with O* dx codes per\nexcludes 1 note.\n\n\nGA Medicaid\nGAMCD38\n956\nCPT Code is one of [9938*; 9939*] AND Primary Insurance\nClass is [MEDICAID (5)]\nOnly assign the routine visit Z-code to the\npreventative E/M. Medicaid will deny if any other\ndx codes are assigned.\n\n\nE09 Excludes1\nICD10-29\n120\nDX Code is [E09.*] AND DX Code is one of [E08.*, O24.4*,\nR73*, P70.2, E13.*, E11.*, E10.*]\nDrug or chemical induced diabetes mellitus\n(E09) with diabetes mellitus due to underlying\ncondition (E08.-), gestational diabetes (O24.4-),\nelevated blood glucose (R73.-), neonatal diabetes\nmellitus (P70.2), postpancreatectomy diabetes\nmellitus (E13.-), postprocedural diabetes mellitus\n(E13.-), secondary diabetes mellitus NEC (E13.-),\ntype 1 diabetes mellitus (E10.-), and/or type\n2 diabetes mellitus (E11.-) identify conditions\nthat cannot be reported together except when the\ntwo conditions are unrelated per the ICD-10-CM\nExcludes1 note guideline.\n\n\nHighmark BCBS\nMEDSV29\n955\nCPT Code is one of [99214;99215] AND CPT Code is one of\n[9716*;9717*] AND Primary Insurance is Highmark BCBS\nModerate to High Complexity E/M codes 99214/99215\nare not allowed on same day as 97161-97172 when\nperformed by the same provider.\n\n\nMissing administration code\nUNVSL9\n810\nCPT Code is one of [11900, 11901, 15860, 19030, 20500,\n20501, 20526, 20527, 20550, 20551, 20552, 20553, 20600,\n20604, 20605, 20606, 20610, 20611, 20612, 20612, 20615,\n20615, 21116, 23350, 24220, 25246, 26035, 27093, 27095,\n27096, 27369, 27648, 30200, 31513, 31570, 31571, 31573,\n31574, 31612, 36002, 36005, 36299, 36468, 36470, 36471,\n38200, 38790, 38792, 42550, 42660, 43192, 43201, 43204,\n43236, 43243, 44404, 45335, 45381, 45520, 46500, 47015,\n48400, 50390, 50684, 50690, 51600, 51605, 51610, 51715,\n52283, 52287, 54200, 54205, 54230, 54231, 54235, 55000,\n60300, 61050, 61055, 61070, 62273, 62284, 62290, 62291,\n62292, 62294, 62302, 62303, 62304, 64400, 64405, 64408,\n64415, 64416, 64417, 64418, 64420, 64425, 64430, 64435,\n64445, 64446, 64447, 64448, 64449, 64450, 64463, 64505,\n64510, 64517, 64520, 64530, 66030, 67025, 67028, 67500,\n67505, 67515, 68200, 68850, 74190, 75746, 93458, 93459,\n93460, 93461, 93893, 94461, 94462, 96372, 96373, 96377,\n96379, 96542, 0465T, 0627T, 0628T, 0629T, 0630T] AND CPT\nCode is not [J*] AND Place of Service is one of [SCHOOL\n(03) (2), HOMELESS SHELTER (04) (3), INDIAN HEALTH\nSERVICE - FREE-STANDING (05) (4), INDIAN HEALTH SERVICE -\nPROVIDER-BASED (06) (5), TRIBAL 638 FREE-STANDING FACILITY\n(07) (6), TRIBAL 638 PROVIDER-BASED (08) (7), OFFICE (11)\n(9), HOME (12) (10), MOBILE UNIT (15) (13), TEMPORARY\nLODGING (16) (14), FEDERALLY QUALIFIED HEALTH CENTER (50)\n(29), RURAL HEALTH CLINIC (72) (42), INDEPENDENT LABORATORY\n(81) (43), OTHER PLACE OF SERVICE (99) (44), Place of\nservice is one of TELEHEALTH PROVIDED OTHER THAN PT HOME\n(02) , TELEHEALTH PROVIDED IN PATIENT HOME(10), WALK-IN\nRETAIL HEALTH CLINIC (17) (46), PLACE OF EMPLOYMENT-WORKSITE\n(18) (47)]\nInjection code is present without a drug. Review\nchart for drug used. Add drug if clinic supplied.\n\n\n99383, 99393 Age Alert\nPRVNT3\n260\nCPT Code is one of [99383, 99393] AND ( Patient Age is\nyounger than [5, years] OR Patient Age is older than [11,\nyears] )\nCPT used is not appropriate for the age of the\npatient - Patient is either younger than 5 years\nold or older than 11 years old\n\n\n87502,87631 -\nVACCN36\n593\nDelete\nMedicare replacement added to VACCN5\n\n\nTricare South\nUNVSL35\n364\nDelete\nTricare South has changed to a new region. See\nregion map for Tricare East or Tricare West and\nsend claim to appropriate region.\n\n\n90710 Component billing\nVACCN25\n408\nPatient Age is younger than [19, years] AND CPT Code is\n[90710] AND CPT Code is not [90461]\n90710 (MMRV) has 4 components. Code each component\nof a combination vaccine individually.\n\n\nIndependent RHC claims\nALMCD1\n6\nPrimary Insurance Class is one of [MEDICAID (3), MEDICAID\nCMO (4)] AND Place of Service is one of [OFFICE (11) (9),\nINPATIENT HOSPITAL (21) (16), ON CAMPUS-OUTPATIENT HOSPITAL\n(22) (17), EMERGENCY ROOM - HOSPITAL (23) (18), SKILLED\nNURSING FACILITY (31) (22), NURSING FACILITY (32) (23)] AND\nCPT UB04 is [true]\nRHC claims are billed on 1500 for place of service\ncodes 11, 21, 22, 23, 31, 32.\n\n\nRHC Well visit with sick\nGAMCD44\n1048\nPrimary Insurance Class is [MEDICAID (5)] AND CPT Code is\none of [9939*; 9938*] AND CPT Code is [9921*] AND ( CPT Mod1\nis not [EP] OR CPT Mod2 is not [25] OR Place of Service is\nnot 72) AND Patient Age is younger than [21, years]\nOffice visit billed with CPT 99202 - 99205 and\n99211 - 99215 should be billed with Modifiers\nEP and 25 and place of service 72 (RHC) when\nperformed during the same encounter as a\nPreventive Health check visit.\n\n\nBill Type\nASC1\n450\nCPT UB04 is [true] AND UB04 Bill Type is not [0831] AND UB04\nBill Type is not [0837]\nThe bill type for ambulatory surgical center for\na primary claim is 0831 and 0837 for a corrected\nclaim.\n\n\n90 day global - Digestive System\nE&M14\n551\nCPT Code is one of [9920*, 9921*, 9922*, 9923*, 9924*,\n9925*, 9928*, 9929*, 9930*, 9931*, 9932*, 9933*, 9934*,\n9935*, 9938*, 9939*, 9946*, 9947*, 9948*, 9949*] AND CPT\nMod1 is not [57] AND CPT Code is one of [0, 40500, 40510,\n40520, 40525, 40527, 40530, 40650, 40652, 40654, 40700,\n40701, 40702, 40720, 40761, 40814, 40816, 40818, 40819,\n40840, 40842, 40843, 40844, 40845, 41006, 41007, 41008,\n41009, 41015, 41016, 41017, 41018, 41112, 41113, 41114,\n41116, 41120, 41130, 41135, 41140, 41145, 41150, 41153,\n41155, 41510, 41512, 41520, 41823, 41827, 41872, 41874,\n42107, 42120, 42140, 42145, 42200, 42205, 42210, 42215,\n42220, 42225, 42226, 42227, 42235, 42260, 42305, 42335,\n42340, 42408, 42409, 42410, 42415, 42420, 42425, 42426,\n42440, 42450, 42500, 42505, 42507, 42509, 42510, 42600,\n42665, 42725, 42810, 42815, 42820, 42821, 42825, 42826,\n42830, 42831, 42835, 42836, 42842, 42844, 42845, 42860,\n42870, 42890, 42892, 42894, 42950, 42953, 42955, 42961,\n42962, 42970, 42971, 42972, 43020, 43030, 43045, 43100,\n43101, 43107, 43108, 43112, 43113, 43116, 43117, 43118,\n43121, 43122, 43123, 43124, 43130, 43135, 43180, 43279,\n43280, 43281, 43282, 43284, 43285, 43286, 43287, 43288,\n43300, 43305, 43310, 43312, 43313, 43314, 43320, 43325,\n43327, 43328, 43330, 43331, 43332, 43333, 43334, 43335,\n43336, 43337, 43340, 43341, 43351, 43352, 43360, 43361,\n43400, 43405, 43410, 43415, 43420, 43425, 43496, 43497,\n43500, 43501, 43502, 43510, 43520, 43605, 43610, 43611,\n43620, 43621, 43622, 43631, 43632, 43633, 43634, 43640,\n43641, 43644, 43645, 43651, 43652, 43653, 43770, 43771,\n43772, 43773, 43774, 43775, 43800, 43810, 43820, 43825,\n43830, 43831, 43832, 43840, 43843, 43845, 43846, 43847,\n43848, 43860, 43865, 43870, 43880, 43886, 43887, 43888,\n44005, 44010, 44020, 44021, 44025, 44050, 44055, 44110,\n44111, 44120, 44125, 44126, 44127, 44130, 44140, 44141,\n44143, 44144, 44145, 44146, 44147, 44150, 44151, 44155,\n44156, 44157, 44158, 44160, 44180, 44186, 44187, 44188,\n44202, 44204, 44205, 44206, 44207, 44208, 44210, 44211,\n44212, 44227, 44300, 44310, 44312, 44314, 44316, 44320,\n44322, 44340, 44345, 44346, 44602, 44603, 44604, 44605,\n44615, 44620, 44625, 44626, 44640, 44650, 44660, 44661,\n44680, 44700, 44800, 44820, 44850, 44900, 44950, 44960,\n44970, 45000, 45020, 45100, 45108, 45110, 45111, 45112,\n45113, 45114, 45116, 45119, 45120, 45121, 45123, 45126,\n45130, 45135, 45136, 45150, 45160, 45171, 45172, 45190,\n45395, 45397, 45400, 45402, 45500, 45505, 45540, 45541,\n45550, 45560, 45562, 45563, 45800, 45805, 45820, 45825,\n46040, 46045, 46060, 46070, 46200, 46250, 46255, 46257,\n46258, 46260, 46261, 46262, 46270, 46275, 46280, 46285,\n46288, 46700, 46705, 46707, 46710, 46712, 46715, 46716,\n46730, 46735, 46740, 46742, 46744, 46746, 46748, 46750,\n46751, 46753, 46760, 46761, 46930, 46945, 46946, 46947,\n46948, 47010, 47015, 47100, 47120, 47122, 47125, 47130,\n47135, 47140, 47141, 47142, 47300, 47350, 47360, 47361,\n47362, 47370, 47371, 47380, 47381, 47400, 47420, 47425,\n47460, 47480, 47562, 47563, 47564, 47570, 47600, 47605,\n47610, 47612, 47620, 47700, 47701, 47711, 47712, 47715,\n47720, 47721, 47740, 47741, 47760, 47765, 47780, 47785,\n47800, 47801, 47802, 47900, 48000, 48001, 48020, 48100,\n48105, 48120, 48140, 48145, 48146, 48148, 48150, 48152,\n48153, 48154, 48155, 48500, 48510, 48520, 48540, 48545,\n48547, 48548, 48554, 48556, 49000, 49002, 49010, 49020,\n49040, 49060, 49062, 49203, 49204, 49205, 49215, 49250,\n49255, 49323, 49402, 49419, 49425, 49426, 49491, 49492,\n49495, 49496, 49500, 49501, 49505, 49507, 49520, 49521,\n49525, 49540, 49550, 49553, 49555, 49557, 49560, 49561,\n49565, 49566, 49570, 49572, 49580, 49582, 49585, 49587,\n49590, 49600, 49605, 49606, 49610, 49611, 49650, 49651,\n49652, 49653, 49654, 49655, 49656, 49657, 49900, 49904] AND\nCPT UB04 is [false]\nIf an E&M is performed on the same date of\nservice as a major surgical procedure for the\npurpose of deciding whether to perform this\nsurgical procedure, the E&M service is separately\nreportable with modifier 57. Other preoperative\nE&M services on the same date of service as a\nmajor surgical procedure are included in the\nglobal payment for the procedure, and are not\nseparately reportable. Review documentation and\npayer guidelines to determine if modifier 57 if\nappropriate.\n\n\n95873, 95874 Add-On Code\nNEURO5\n196\nCPT Code is one of [95873, 95874] AND CPT Code is not\n[64612, 64615, 64616, 64642, 64643, 64644, 64645, 64646,\n64647]\n95873 and/or 95874 is missing the primary\nprocedure code. Use 95873, 95874 in conjunction\nwith 64612, 64615, 64616, 64642, 64643, 64644,\n64645, 64646, 64647.\n\n\nFL Medicaid -\nCOVID19-13\n492\nPrimary Insurance Class is [MEDICAID (12)] AND CPT Code is\n[9944*] AND CPT Mod1 is [CG]\nTelephone Communications for New Patients require\nmodifier CG in the first modifier position.\n\n\nMissing J code\nMEDSV8\n345\nDelete\n**Included in UNVSL9 - do not add if UNVSL9 has\nalready been added\n\n\n95907-95913 with 95860-95864\nNEURO19\n1065\nCPT Code is one of [95860; 95861; 95862; 95863; 95864]\nAND CPT Code is one of [95907; 95908; 95909; 95910; 95911;\n95912; 95913]\nWhen a EMG is performed with nerve conduction\nstudies (95907-95913), see 95885-95887 instead of\n95860-95864.\n\n\nMedicare 99401-99404\nPRVNT22\n253\nPrimary Insurance Class is [MEDICARE (6)] AND Encounter Date\nof Service after [06/30/2019] AND CPT Code is one of [99401,\n99402, 99403, 99404]\nPreventive medicine counseling and/or risk factor\nreduction intervention(s) is not covered by\nMedicare.\n\n\nDebridement of Mycotic Nails\nFOOT2\n47\nDelete\nIn the absence of a systemic condition, claims\nfor DEBRIDEMENT OF MYCOTIC NAILS must report the\nprimary diagnosis of dermatophytosis, and also\nreport one of the diagnosis codes which indicates\nsecondary infection or pain. A diagnosis of\nmycotic nails alone is insufficient for payment.\n\n\nBCBS Kansas referring provider\nBCBSKS1\n18\nPrimary Insurance is [BLUE CROSS -KS (1)] AND Referring\nProvider (Presence) is [Not Present] AND ( CPT Code is not\n[99*] OR CPT Code is one of [0*, 1*, 2*, 3*, 4*, 5*, 6*, 7*,\n8*, 90*, 91*, 92*, 93*, 94*, 95*, 96*, 97*, 98*, A*, B*, C*,\nE*, G*, H*, J*, K*, L*, M*, P*, Q*, R*] )\nBCBS Kansas may require the ordering/referring\nprovider information. Add referring provider.\n\n\nR31-R31.9 Excludes 1\nICD10-128\n1057\nDX Code is [R31.*] AND DX Code is one of [N30.01; N02*]\nRemove R31.* - Excludes 1 note with N30.01/N02*.\nCodes should not be billed together."
  },
  {
    "objectID": "posts/rules/claims_rules.html#components",
    "href": "posts/rules/claims_rules.html#components",
    "title": "Building Claims Rules",
    "section": "",
    "text": "step:\nvariable: Recode to standardize\nclass: Variable Data Class\ngroup: Variable Grouping\naction: Remove\nmethod: Operation Performed to Test for Expected State\nexpression: Actual Code to Run\nvalue: Coerce to correct data type, deal with wildcards\n\n\ncomponents &lt;- rules |&gt; \n  select(id, step, variable, action, value) |&gt; \n  distinct()\n\ncomponents\n\n# A tibble: 3,131 × 5\n      id  step variable                  action    value                        \n   &lt;int&gt; &lt;int&gt; &lt;chr&gt;                     &lt;chr&gt;     &lt;chr&gt;                        \n 1     1     1 CPT Code                  is        43760                        \n 2     1     2 Encounter Date of Service after     01/01/2019                   \n 3     2     1 Primary Insurance         is        BCBS                         \n 4     2     2 CPT Code                  is        J*                           \n 5     2     3 CPT NDC (Presence)        is not    Present                      \n 6     3     1 Primary Insurance         is        BCBS                         \n 7     3     2 CPT NDC (Presence)        is not    Present                      \n 8     3     3 CPT Code                  is one of 90476,90477,905*,906*,9071*,…\n 9     4     1 DX Code                   is        S*                           \n10     5     1 Primary Insurance         is        BCBS (125),BCBS AL BLUE ADVA…\n# ℹ 3,121 more rows\n\n\n\n\n\nhcpcs:\n\nmod_1:\n\nmod_2:\n\nmod_3:\n\nmod_4:\n\nunit:\n\nicd:\n\ndos:\n\npos:\n\nub04:\n\nndc:\n\nrev_code:\n\ncci:\n\nlcd:\n\nncd:\n\ndob:\n\nsex:\n\nrendering:\n\nreferring:\n\nprimary_class:\n\nprimary_name:\n\nprimary_auth:\n\nsecondary_class:\n\nsecondary_name:\n\n\ncomponents &lt;- components |&gt;\n  mutate(variable = case_match(variable,\n      c(\"CPT CODE\", \n        \"CPT Code\", \n        \"CPT code\", \n        \"CPT\", \n        \"Code Check Expired CPT Alert (Presence)\", \n        \"CPT is one of\") ~ \"hcpcs\",\n      c(\"Mod1\", \n        \"CPT Mod1\", \n        \"CPT Mod 1\", \n        \"CPTMod1\", \n        \"Code Check CPT Mod Alert (Presence)\", \n        \"CPT MOD1\", \n        \"CPT Mod1 (Presence)\") ~ \"mod_1\",\n      c(\"Mod2\", \n        \"CPT MOD2\", \n        \"CPT Mod 2\", \n        \"CPT Mod2 (Presence)\", \n        \"CPTMod2\", \n        \"CPT Mod2\") ~ \"mod_2\",\n      \"CPT Mod3\" ~ \"mod_3\",\n      \"CPT Mod4\" ~ \"mod_4\",\n      \"CPT Units\" ~ \"unit\",\n      c(\"Dx code\", \n        \"DX Code\", \n        \"Dx Code\", \n        \"Code Check Expired DX Alert (Presence)\") ~ \"icd\",\n      c(\"Encounter Date of Service\", \n        \"Date of Service\") ~ \"dos\",\n      c(\"Location\", \n        \"Place of Service\") ~ \"pos\",\n      c(\"CPT UB04\", \n        \"UB04 Bill Type\") ~ \"ub04\",\n      \"CPT NDC (Presence)\" ~ \"ndc\",\n      \"CPT Rev Code\" ~ \"rev_code\",\n      \"Code Check CCI Alert (Presence)\" ~ \"cci\",\n      \"Code Check LCD Alert (Presence)\" ~ \"lcd\",\n      \"Code Check NCD Alert (Presence)\" ~ \"ncd\",\n      c(\"Patient Age\", \n        \"Code Check Age Alert (Presence)\") ~ \"dob\",\n      c(\"Patient Sex\", \n        \"Code Check Gender Alert (Presence)\") ~ \"sex\",\n      \"NA\" ~ NA_character_,\n      \"Rendering Provider\" ~ \"rendering\",\n      \"Referring Provider (Presence)\" ~ \"referring\",\n      c(\"Primary Insurance Class\", \n        \"Primary Insurance class\", \n        \"Primary insurance class\") ~ \"primary_class\",\n      \"Primary Insurance\" ~ \"primary_name\",\n      \"Secondary Insurance Class\" ~ \"secondary_class\",\n      \"Secondary Insurance\" ~ \"secondary_name\",\n      c(\"Primary Insurance Authorization (Presence)\", \n        \"Primary Insurance Authorization (Presence) is not [Present]\") ~ \"primary_auth\",\n      .default = variable) |&gt; \n      as_factor())\n\ncomponents\n\n# A tibble: 3,131 × 5\n      id  step variable     action    value                                     \n   &lt;int&gt; &lt;int&gt; &lt;fct&gt;        &lt;chr&gt;     &lt;chr&gt;                                     \n 1     1     1 hcpcs        is        43760                                     \n 2     1     2 dos          after     01/01/2019                                \n 3     2     1 primary_name is        BCBS                                      \n 4     2     2 hcpcs        is        J*                                        \n 5     2     3 ndc          is not    Present                                   \n 6     3     1 primary_name is        BCBS                                      \n 7     3     2 ndc          is not    Present                                   \n 8     3     3 hcpcs        is one of 90476,90477,905*,906*,9071*,9072*,9073*,9…\n 9     4     1 icd          is        S*                                        \n10     5     1 primary_name is        BCBS (125),BCBS AL BLUE ADVANTAGE MEDICAR…\n# ℹ 3,121 more rows\n\n\n\n\ncomponents &lt;- components |&gt; \n  mutate(\n    class = case_match(variable,\n      c(\"sex\", \"rendering\", \"referring\", \n        \"primary_auth\", \"primary_class\", \n        \"primary_name\", \"secondary_class\", \n        \"secondary_name\", \"ncd\", \"lcd\", \n        \"cci\", \"ndc\", \"ub04\", \"pos\", \n        \"icd\", \"hcpcs\", \"mod_1\", \"mod_2\", \n        \"mod_3\", \"mod_4\") ~ \"&lt;chr&gt;\",\n      c(\"rev_code\", \"unit\") ~ \"&lt;int&gt;\",\n      c(\"dos\", \"dob\") ~ \"&lt;date&gt;\"\n    ) |&gt; as_factor(),\n    group = case_match(as.character(variable),\n      c(\"sex\", \"dos\", \"dob\") ~ \"patient\",\n      c(\"rendering\", \"referring\") ~ \"provider\",\n      c(\"hcpcs\", \"mod_1\", \"mod_2\", \"mod_3\", \"mod_4\", \n        \"rev_code\", \"unit\", \"ndc\", \"pos\") ~ \"procedure\",\n      c(\"icd\") ~ \"diagnosis\",\n      c(\"ub04\", \"1500\") ~ \"claim\",\n      c(\"ncd\", \"lcd\", \"cci\") ~ \"ncci\",\n      c(\"primary_auth\", \"primary_class\", \n        \"primary_name\", \"secondary_class\", \n        \"secondary_name\") ~ \"payer\"\n    ) |&gt; as_factor())\n\ncomponents # |&gt; \n\n# A tibble: 3,131 × 7\n      id  step variable     action    value                          class group\n   &lt;int&gt; &lt;int&gt; &lt;fct&gt;        &lt;chr&gt;     &lt;chr&gt;                          &lt;fct&gt; &lt;fct&gt;\n 1     1     1 hcpcs        is        43760                          &lt;chr&gt; proc…\n 2     1     2 dos          after     01/01/2019                     &lt;dat… pati…\n 3     2     1 primary_name is        BCBS                           &lt;chr&gt; payer\n 4     2     2 hcpcs        is        J*                             &lt;chr&gt; proc…\n 5     2     3 ndc          is not    Present                        &lt;chr&gt; proc…\n 6     3     1 primary_name is        BCBS                           &lt;chr&gt; payer\n 7     3     2 ndc          is not    Present                        &lt;chr&gt; proc…\n 8     3     3 hcpcs        is one of 90476,90477,905*,906*,9071*,9… &lt;chr&gt; proc…\n 9     4     1 icd          is        S*                             &lt;chr&gt; diag…\n10     5     1 primary_name is        BCBS (125),BCBS AL BLUE ADVAN… &lt;chr&gt; payer\n# ℹ 3,121 more rows\n\n  # select(class, group, variable, action) |&gt; \n  # arrange(class, group, variable) |&gt;\n  # gt() |&gt;\n  # cols_align(align = \"left\") |&gt;\n  # opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  # opt_all_caps() |&gt;\n  # tab_style(\n  #     style = cell_text(\n  #       align = 'left',\n  #       weight = \"bold\",\n  #       font = google_font(name = \"Roboto Mono\")),\n  #     locations = cells_body(columns = c(action))) |&gt;\n  # tab_style(\n  #     style = cell_text(\n  #       align = 'left',\n  #       weight = \"normal\",\n  #       style = \"italic\",\n  #       decorate = \"underline\",\n  #       stretch = \"condensed\",\n  #       font = google_font(name = \"Fira Code\")),\n  #     locations = cells_body(columns = c(class))) |&gt;\n  # tab_options(table.width = pct(100),\n  #             quarto.disable_processing = TRUE)\n\n\n\ncomponents |&gt; \n  filter(variable == \"dos\") |&gt; \n  mutate(class = \"&lt;date&gt;\",\n         value = anytime::anydate(value),\n         method = if_else(str_detect(action, \"after\"), \"&gt;\", \"&lt;\")) |&gt; \n  select(id, step, class, variable, method, value) |&gt; \n  gt() |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"bold\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(variable, method, value))) |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"normal\",\n        style = \"italic\",\n        decorate = \"underline\",\n        stretch = \"condensed\",\n        font = google_font(name = \"Fira Code\")),\n      locations = cells_body(columns = c(class))) |&gt;\n  opt_stylize() |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\nid\n      step\n      class\n      variable\n      method\n      value\n    \n\n\n1\n2\n&lt;date&gt;\ndos\n&gt;\n2019-01-01\n\n\n160\n3\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n305\n3\n&lt;date&gt;\ndos\n&lt;\n2022-12-31\n\n\n317\n4\n&lt;date&gt;\ndos\n&gt;\n2019-01-01\n\n\n349\n3\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n351\n3\n&lt;date&gt;\ndos\n&lt;\n2022-12-31\n\n\n371\n3\n&lt;date&gt;\ndos\n&lt;\n2022-12-31\n\n\n416\n1\n&lt;date&gt;\ndos\n&gt;\n2019-07-31\n\n\n416\n2\n&lt;date&gt;\ndos\n&lt;\n2020-08-01\n\n\n475\n1\n&lt;date&gt;\ndos\n&gt;\n2020-03-09\n\n\n475\n6\n&lt;date&gt;\ndos\n&lt;\n2023-05-11\n\n\n479\n3\n&lt;date&gt;\ndos\n&gt;\n2020-03-05\n\n\n491\n5\n&lt;date&gt;\ndos\n&lt;\n2023-05-12\n\n\n493\n4\n&lt;date&gt;\ndos\n&lt;\n2024-12-31\n\n\n504\n5\n&lt;date&gt;\ndos\n&lt;\n2023-05-12\n\n\n505\n5\n&lt;date&gt;\ndos\n&lt;\n2023-05-11\n\n\n605\n1\n&lt;date&gt;\ndos\n&gt;\n2020-12-31\n\n\n606\n1\n&lt;date&gt;\ndos\n&gt;\n2020-12-31\n\n\n607\n1\n&lt;date&gt;\ndos\n&gt;\n2020-12-31\n\n\n608\n1\n&lt;date&gt;\ndos\n&gt;\n2020-12-31\n\n\n610\n5\n&lt;date&gt;\ndos\n&lt;\n2023-05-11\n\n\n612\n3\n&lt;date&gt;\ndos\n&gt;\n2023-04-18\n\n\n615\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n616\n3\n&lt;date&gt;\ndos\n&lt;\n2022-01-01\n\n\n622\n5\n&lt;date&gt;\ndos\n&lt;\n2023-05-11\n\n\n630\n5\n&lt;date&gt;\ndos\n&lt;\n2023-05-11\n\n\n633\n2\n&lt;date&gt;\ndos\n&gt;\n2023-06-01\n\n\n635\n1\n&lt;date&gt;\ndos\n&gt;\n2021-04-30\n\n\n640\n3\n&lt;date&gt;\ndos\n&lt;\n2022-12-31\n\n\n699\n9\n&lt;date&gt;\ndos\n&lt;\n2024-12-31\n\n\n700\n3\n&lt;date&gt;\ndos\n&lt;\n2023-05-12\n\n\n732\n1\n&lt;date&gt;\ndos\n&gt;\n2021-03-31\n\n\n765\n3\n&lt;date&gt;\ndos\n&lt;\n2023-09-11\n\n\n788\n3\n&lt;date&gt;\ndos\n&lt;\n2022-12-31\n\n\n813\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n814\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n815\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n816\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n817\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n828\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n829\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n830\n1\n&lt;date&gt;\ndos\n&gt;\n2021-10-01\n\n\n850\n3\n&lt;date&gt;\ndos\n&lt;\n2023-09-11\n\n\n851\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n852\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n853\n2\n&lt;date&gt;\ndos\n&gt;\n2023-04-18\n\n\n854\n3\n&lt;date&gt;\ndos\n&lt;\n2023-09-11\n\n\n879\n4\n&lt;date&gt;\ndos\n&lt;\n2023-05-12\n\n\n881\n4\n&lt;date&gt;\ndos\n&lt;\n2023-05-12\n\n\n885\n1\n&lt;date&gt;\ndos\n&gt;\n2021-12-31\n\n\n889\n1\n&lt;date&gt;\ndos\n&gt;\n2022-01-23\n\n\n890\n1\n&lt;date&gt;\ndos\n&lt;\n2022-01-01\n\n\n933\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n934\n3\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n947\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n971\n2\n&lt;date&gt;\ndos\n&gt;\n2022-10-01\n\n\n972\n2\n&lt;date&gt;\ndos\n&lt;\n2023-09-11\n\n\n973\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n974\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n975\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n976\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n977\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n981\n1\n&lt;date&gt;\ndos\n&gt;\n2022-09-01\n\n\n982\n1\n&lt;date&gt;\ndos\n&gt;\n2022-11-01\n\n\n984\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n985\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n986\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n987\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n988\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n989\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n990\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n991\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n992\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n993\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n994\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n999\n2\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n1000\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n1001\n1\n&lt;date&gt;\ndos\n&gt;\n2023-01-01\n\n\n1015\n3\n&lt;date&gt;\ndos\n&lt;\n2023-09-11\n\n\n1041\n2\n&lt;date&gt;\ndos\n&gt;\n2023-05-25\n\n\n1044\n4\n&lt;date&gt;\ndos\n&gt;\n2023-05-11\n\n\n1067\n2\n&lt;date&gt;\ndos\n&gt;\n2023-04-16\n\n\n1074\n3\n&lt;date&gt;\ndos\n&gt;\n2023-08-01\n\n\n1076\n2\n&lt;date&gt;\ndos\n&gt;\n2023-04-01\n\n\n1079\n2\n&lt;date&gt;\ndos\n&gt;\n2023-04-18\n\n\n1080\n2\n&lt;date&gt;\ndos\n&gt;\n2023-05-07\n\n\n1083\n2\n&lt;date&gt;\ndos\n&gt;\n2023-11-01\n\n\n1084\n2\n&lt;date&gt;\ndos\n&gt;\n2023-09-11\n\n\n\n\n\n\n\nAll ages should be in the same unit of time, in this case, days.\nShould be calculated from the encounter’s Date of Service (dos) and the patient’s Date of Birth (dob).\n\ncomponents |&gt; \n  filter(variable == \"dob\") |&gt; \n  mutate(variable = \"age\",\n         class = \"&lt;int&gt;\", \n         age = strex::str_extract_numbers(value),\n         period = strex::str_extract_non_numerics(value),\n         .before = variable) |&gt; \n  unnest(c(age, period)) |&gt; \n  mutate(\n    age = as.integer(age),\n    period = str_remove_all(period, \"\\\\s|,\"),\n    value = NULL,\n    method = case_match(\n      action,\n      c(\"is younger than\", \"younger than\") ~ \"&lt;\",\n      \"is older than\" ~ \"&gt;\",\n      \"is\" ~ \"==\",\n      .default = NA_character_),\n    days = case_when(\n      period == \"years\" ~ as.duration(years(age)) / ddays(1),\n      period == \"months\" ~ as.duration(months(age)) / ddays(1),\n      period == \"days\" ~ as.duration(days(age)) / ddays(1),\n      .default = NA_real_),\n    dos = lubridate::today(),\n  ) |&gt; \n  select(id, step, class, variable, method, age, period, days) |&gt; \n  gt() |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  fmt_integer(columns = c(\"age\", \"days\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"bold\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(variable, method))) |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"normal\",\n        style = \"italic\",\n        decorate = \"underline\",\n        stretch = \"condensed\",\n        font = google_font(name = \"Fira Code\")),\n      locations = cells_body(columns = c(class))) |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\nid\n      step\n      class\n      variable\n      method\n      age\n      period\n      days\n    \n\n\n8\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n8\n3\n&lt;int&gt;\nage\n&gt;\n3\nyears\n1,096\n\n\n9\n3\n&lt;int&gt;\nage\n&gt;\n20\nyears\n7,305\n\n\n13\n4\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n27\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n37\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n70\n1\n&lt;int&gt;\nage\n&gt;\n18\nyears\n6,574\n\n\n72\n6\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n75\n6\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n76\n4\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n77\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n78\n2\n&lt;int&gt;\nage\n&lt;\n3\nyears\n1,096\n\n\n80\n3\n&lt;int&gt;\nage\n==\n18\nmonths\n548\n\n\n80\n4\n&lt;int&gt;\nage\n==\n24\nmonths\n730\n\n\n82\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n83\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n84\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n85\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n86\n3\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n87\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n88\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n90\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n91\n3\n&lt;int&gt;\nage\n&gt;\n18\nyears\n6,574\n\n\n96\n6\n&lt;int&gt;\nage\n&gt;\n21\nyears\n7,670\n\n\n150\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n171\n1\n&lt;int&gt;\nage\n&lt;\n18\nyears\n6,574\n\n\n172\n1\n&lt;int&gt;\nage\n&lt;\n18\nyears\n6,574\n\n\n173\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n174\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n176\n1\n&lt;int&gt;\nage\n&lt;\n18\nyears\n6,574\n\n\n203\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n212\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n214\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n223\n2\n&lt;int&gt;\nage\n&gt;\n10\nyears\n3,652\n\n\n224\n1\n&lt;int&gt;\nage\n&lt;\n11\nyears\n4,018\n\n\n239\n2\n&lt;int&gt;\nage\n&gt;\n11\nmonths\n335\n\n\n242\n1\n&lt;int&gt;\nage\n&lt;\n8\ndays\n8\n\n\n243\n3\n&lt;int&gt;\nage\n&gt;\n7\ndays\n7\n\n\n243\n4\n&lt;int&gt;\nage\n&lt;\n29\ndays\n29\n\n\n244\n1\n&lt;int&gt;\nage\n&gt;\n28\ndays\n28\n\n\n244\n2\n&lt;int&gt;\nage\n&lt;\n18\nyears\n6,574\n\n\n245\n1\n&lt;int&gt;\nage\n&gt;\n17\nyears\n6,209\n\n\n250\n2\n&lt;int&gt;\nage\n&lt;\n1\nyears\n365\n\n\n250\n3\n&lt;int&gt;\nage\n&gt;\n5\nyears\n1,826\n\n\n255\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n256\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n258\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n259\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n260\n2\n&lt;int&gt;\nage\n&lt;\n5\nyears\n1,826\n\n\n260\n3\n&lt;int&gt;\nage\n&gt;\n11\nyears\n4,018\n\n\n261\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n262\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n264\n2\n&lt;int&gt;\nage\n&lt;\n12\nyears\n4,383\n\n\n264\n3\n&lt;int&gt;\nage\n&gt;\n17\nyears\n6,209\n\n\n265\n2\n&lt;int&gt;\nage\n&lt;\n18\nyears\n6,574\n\n\n265\n3\n&lt;int&gt;\nage\n&gt;\n39\nyears\n14,245\n\n\n266\n2\n&lt;int&gt;\nage\n&lt;\n40\nyears\n14,610\n\n\n266\n3\n&lt;int&gt;\nage\n&gt;\n64\nyears\n23,376\n\n\n267\n2\n&lt;int&gt;\nage\n&lt;\n65\nyears\n23,741\n\n\n335\n2\n&lt;int&gt;\nage\n&gt;\n18\nyears\n6,574\n\n\n335\n3\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n338\n2\n&lt;int&gt;\nage\n&gt;\n20\nyears\n7,305\n\n\n338\n3\n&lt;int&gt;\nage\n&lt;\n2\nyears\n730\n\n\n370\n1\n&lt;int&gt;\nage\n&gt;\n64\nyears\n23,376\n\n\n377\n1\n&lt;int&gt;\nage\n&gt;\n64\nyears\n23,376\n\n\n397\n2\n&lt;int&gt;\nage\n&lt;\n4\nyears\n1,461\n\n\n397\n3\n&lt;int&gt;\nage\n&gt;\n6\nyears\n2,192\n\n\n398\n2\n&lt;int&gt;\nage\n&gt;\n7\nyears\n2,557\n\n\n399\n2\n&lt;int&gt;\nage\n&lt;\n7\nyears\n2,557\n\n\n400\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n401\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n403\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n404\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n405\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n406\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n407\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n408\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n409\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n410\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n411\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n412\n3\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n414\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n418\n2\n&lt;int&gt;\nage\n&gt;\n18\nyears\n6,574\n\n\n434\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n436\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n454\n2\n&lt;int&gt;\nage\n&lt;\n65\nyears\n23,741\n\n\n455\n4\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n456\n2\n&lt;int&gt;\nage\n&lt;\n29\ndays\n29\n\n\n457\n2\n&lt;int&gt;\nage\n&lt;\n29\ndays\n29\n\n\n459\n2\n&lt;int&gt;\nage\n&lt;\n29\ndays\n29\n\n\n521\n2\n&lt;int&gt;\nage\n&gt;\n18\nyears\n6,574\n\n\n571\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n580\n1\n&lt;int&gt;\nage\n&lt;\n20\nyears\n7,305\n\n\n581\n2\n&lt;int&gt;\nage\n&lt;\n2\nyears\n730\n\n\n603\n1\n&lt;int&gt;\nage\n&lt;\n1\nmonths\n30\n\n\n613\n3\n&lt;int&gt;\nage\n&lt;\n12\nyears\n4,383\n\n\n641\n6\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n642\n4\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n645\n3\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n651\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n652\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n653\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n654\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n655\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n656\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n657\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n658\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n659\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n660\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n661\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n662\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n663\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n664\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n665\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n666\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n667\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n668\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n669\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n670\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n671\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n672\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n674\n6\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n685\n2\n&lt;int&gt;\nage\n&lt;\n15\nyears\n5,479\n\n\n686\n2\n&lt;int&gt;\nage\n&gt;\n28\ndays\n28\n\n\n687\n1\n&lt;int&gt;\nage\n&gt;\n17\nyears\n6,209\n\n\n690\n2\n&lt;int&gt;\nage\n&lt;\n2\nyears\n730\n\n\n690\n3\n&lt;int&gt;\nage\n&gt;\n49\nyears\n17,897\n\n\n691\n1\n&lt;int&gt;\nage\n&lt;\n4\nyears\n1,461\n\n\n692\n1\n&lt;int&gt;\nage\n&lt;\n18\nyears\n6,574\n\n\n693\n1\n&lt;int&gt;\nage\n&lt;\n6\nmonths\n183\n\n\n693\n2\n&lt;int&gt;\nage\n&gt;\n35\nmonths\n1,065\n\n\n694\n1\n&lt;int&gt;\nage\n&lt;\n3\nyears\n1,096\n\n\n695\n2\n&lt;int&gt;\nage\n&gt;\n16\nyears\n5,844\n\n\n707\n2\n&lt;int&gt;\nage\n&lt;\n35\nyears\n12,784\n\n\n708\n2\n&lt;int&gt;\nage\n&gt;\n35\nyears\n12,784\n\n\n709\n2\n&lt;int&gt;\nage\n&lt;\n16\nyears\n5,844\n\n\n721\n2\n&lt;int&gt;\nage\n&gt;\n1\nyears\n365\n\n\n726\n2\n&lt;int&gt;\nage\n&gt;\n21\nyears\n7,670\n\n\n727\n2\n&lt;int&gt;\nage\n&lt;\n9\nyears\n3,287\n\n\n727\n3\n&lt;int&gt;\nage\n&gt;\n65\nyears\n23,741\n\n\n729\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n735\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n736\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n738\n1\n&lt;int&gt;\nage\n&gt;\n19\nyears\n6,940\n\n\n739\n1\n&lt;int&gt;\nage\n&gt;\n19\nyears\n6,940\n\n\n740\n1\n&lt;int&gt;\nage\n&gt;\n19\nyears\n6,940\n\n\n751\n2\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n762\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n764\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n768\n1\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n838\n2\n&lt;int&gt;\nage\n&lt;\n71\nyears\n25,933\n\n\n838\n3\n&lt;int&gt;\nage\n&gt;\n364\ndays\n364\n\n\n844\n5\n&lt;int&gt;\nage\n&lt;\n21\nyears\n7,670\n\n\n854\n2\n&lt;int&gt;\nage\n&gt;\n12\nyears\n4,383\n\n\n893\n2\n&lt;int&gt;\nage\n&lt;\n6\nmonths\n183\n\n\n893\n3\n&lt;int&gt;\nage\n&gt;\n35\nmonths\n1,065\n\n\n936\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n942\n1\n&lt;int&gt;\nage\n&gt;\n11\nmonths\n335\n\n\n946\n2\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n981\n4\n&lt;int&gt;\nage\n&lt;\n19\nyears\n6,940\n\n\n1051\n3\n&lt;int&gt;\nage\n==\n9\nmonths\n274\n\n\n1051\n4\n&lt;int&gt;\nage\n==\n18\nmonths\n548\n\n\n1051\n5\n&lt;int&gt;\nage\n==\n30\nmonths\n913\n\n\n1071\n2\n&lt;int&gt;\nage\n&gt;\n28\ndays\n28\n\n\n\n\n\n\n\n\ncomponents |&gt; \n  filter(variable == \"unit\") |&gt; \n  mutate(class = \"&lt;int&gt;\", \n         value = as.integer(value),\n         method = if_else(str_detect(action, \"is not\"), \"!=\", \"==\"),\n         .before = variable) |&gt; \n  select(id, step, class, variable, method, value, action) |&gt; \n  gt() |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"bold\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(variable, method, value))) |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"normal\",\n        style = \"italic\",\n        decorate = \"underline\",\n        stretch = \"condensed\",\n        font = google_font(name = \"Fira Code\")),\n      locations = cells_body(columns = c(class))) |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\nid\n      step\n      class\n      variable\n      method\n      value\n      action\n    \n\n\n169\n2\n&lt;int&gt;\nunit\n!=\n2\nis not\n\n\n621\n2\n&lt;int&gt;\nunit\n==\n2\nis\n\n\n730\n3\n&lt;int&gt;\nunit\n==\n2\nis\n\n\n730\n4\n&lt;int&gt;\nunit\n==\n3\nis\n\n\n730\n5\n&lt;int&gt;\nunit\n==\n4\nis\n\n\n730\n6\n&lt;int&gt;\nunit\n==\n5\nis\n\n\n730\n7\n&lt;int&gt;\nunit\n==\n6\nis\n\n\n731\n1\n&lt;int&gt;\nunit\n==\n2\nis\n\n\n731\n2\n&lt;int&gt;\nunit\n==\n3\nis\n\n\n731\n3\n&lt;int&gt;\nunit\n==\n4\nis\n\n\n731\n4\n&lt;int&gt;\nunit\n==\n5\nis\n\n\n731\n5\n&lt;int&gt;\nunit\n==\n6\nis\n\n\n1078\n2\n&lt;int&gt;\nunit\n==\n2\nis\n\n\n\n\n\n\n\nHow can this be represented in relational algebra? Detect presence with regex?\nIf not present, then is NA its’ representation? If so, is.na(x) would equal is not present and !is.na(x) would equal is present\n\ncomponents |&gt; \n  filter(variable == \"ndc\") |&gt; \n  mutate(class = \"&lt;lgl&gt;\", \n         .before = variable, \n         method = if_else(str_detect(action, \"is not\"), \"is.na(x)\", \"!is.na(x)\")) |&gt; \n  select(id, step, class, variable, method, value, action) |&gt; \n  gt() |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"bold\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(variable, method, value))) |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"normal\",\n        style = \"italic\",\n        decorate = \"underline\",\n        stretch = \"condensed\",\n        font = google_font(name = \"Fira Code\")),\n      locations = cells_body(columns = c(class))) |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\nid\n      step\n      class\n      variable\n      method\n      value\n      action\n    \n\n\n2\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n3\n2\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n10\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n15\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n25\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n39\n2\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n40\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n153\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n207\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n211\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n327\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n336\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n353\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nPresent\nis\n\n\n362\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNotPresent\nis\n\n\n522\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n523\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n570\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n585\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n749\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n752\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n766\n3\n&lt;lgl&gt;\nndc\nis.na(x)\nPresent\nis not\n\n\n944\n3\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n1002\n2\n&lt;lgl&gt;\nndc\n!is.na(x)\nNot Present\nis\n\n\n\n\n\n\n\n\nhas all\nis\nis not\nis one of\n\nsome values contain wildcards *\n\ncomponents |&gt; \n  filter(variable == \"icd\") |&gt;\n  mutate(wc = case_when(str_detect(value, \"\\\\*\") ~ 1L, .default = 0L),\n         nchar = if_else(wc == 1, str_count(value, \"[[:alnum:]]\"), 0L),\n         class = \"&lt;chr&gt;\",\n         method = case_when(\n           action == \"is\" & wc == 1 ~ \"%in%\",\n           action == \"is\" & wc == 0 ~ \"==\",\n           .default = NA_character_)\n         ) |&gt; \n  filter(!is.na(method)) |&gt; \n  select(id, step, class, variable, method, value, action, wc, nchar) |&gt; \n  gt() |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"bold\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(variable, method, value))) |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"normal\",\n        style = \"italic\",\n        decorate = \"underline\",\n        stretch = \"condensed\",\n        font = google_font(name = \"Fira Code\")),\n      locations = cells_body(columns = c(class))) |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\n\n\n\nid\n      step\n      class\n      variable\n      method\n      value\n      action\n      wc\n      nchar\n    \n\n\n4\n1\n&lt;chr&gt;\nicd\n%in%\nS*\nis\n1\n1\n\n\n23\n2\n&lt;chr&gt;\nicd\n==\nH01.119\nis\n0\n0\n\n\n24\n2\n&lt;chr&gt;\nicd\n%in%\nS*\nis\n1\n1\n\n\n79\n3\n&lt;chr&gt;\nicd\n==\nZ13.41\nis\n0\n0\n\n\n100\n1\n&lt;chr&gt;\nicd\n%in%\nR06.0*\nis\n1\n4\n\n\n101\n1\n&lt;chr&gt;\nicd\n%in%\nJ41.*\nis\n1\n3\n\n\n104\n1\n&lt;chr&gt;\nicd\n==\nG89.2\nis\n0\n0\n\n\n106\n1\n&lt;chr&gt;\nicd\n%in%\nE08.*\nis\n1\n3\n\n\n107\n1\n&lt;chr&gt;\nicd\n%in%\nG30.*\nis\n1\n3\n\n\n108\n1\n&lt;chr&gt;\nicd\n==\nR63.5\nis\n0\n0\n\n\n109\n1\n&lt;chr&gt;\nicd\n%in%\nR41.*\nis\n1\n3\n\n\n110\n1\n&lt;chr&gt;\nicd\n==\nJ00\nis\n0\n0\n\n\n111\n1\n&lt;chr&gt;\nicd\n==\nR41.3\nis\n0\n0\n\n\n112\n1\n&lt;chr&gt;\nicd\n%in%\nG43.*\nis\n1\n3\n\n\n113\n1\n&lt;chr&gt;\nicd\n%in%\nG43.7*\nis\n1\n4\n\n\n113\n2\n&lt;chr&gt;\nicd\n%in%\nG43.0*\nis\n1\n4\n\n\n114\n1\n&lt;chr&gt;\nicd\n==\nZ72.821\nis\n0\n0\n\n\n115\n1\n&lt;chr&gt;\nicd\n%in%\nM54.1*\nis\n1\n4\n\n\n116\n1\n&lt;chr&gt;\nicd\n%in%\nM54.5*\nis\n1\n4\n\n\n118\n1\n&lt;chr&gt;\nicd\n%in%\nE10.*\nis\n1\n3\n\n\n119\n1\n&lt;chr&gt;\nicd\n%in%\nE11.*\nis\n1\n3\n\n\n120\n1\n&lt;chr&gt;\nicd\n%in%\nE09.*\nis\n1\n3\n\n\n122\n1\n&lt;chr&gt;\nicd\n==\nG31.84\nis\n0\n0\n\n\n123\n1\n&lt;chr&gt;\nicd\n%in%\nJ45*\nis\n1\n3\n\n\n124\n1\n&lt;chr&gt;\nicd\n==\nZ72.0\nis\n0\n0\n\n\n125\n1\n&lt;chr&gt;\nicd\n==\nN39.0\nis\n0\n0\n\n\n126\n1\n&lt;chr&gt;\nicd\n%in%\nR06*\nis\n1\n3\n\n\n128\n1\n&lt;chr&gt;\nicd\n%in%\nF20*\nis\n1\n3\n\n\n129\n1\n&lt;chr&gt;\nicd\n%in%\nF30*\nis\n1\n3\n\n\n130\n1\n&lt;chr&gt;\nicd\n%in%\nF31*\nis\n1\n3\n\n\n131\n1\n&lt;chr&gt;\nicd\n==\nH72.00\nis\n0\n0\n\n\n132\n1\n&lt;chr&gt;\nicd\n%in%\nF32*\nis\n1\n3\n\n\n133\n1\n&lt;chr&gt;\nicd\n%in%\nF33*\nis\n1\n3\n\n\n138\n1\n&lt;chr&gt;\nicd\n%in%\nF10.1*\nis\n1\n4\n\n\n139\n1\n&lt;chr&gt;\nicd\n%in%\nF11.1*\nis\n1\n4\n\n\n140\n1\n&lt;chr&gt;\nicd\n==\nZ31.89\nis\n0\n0\n\n\n141\n1\n&lt;chr&gt;\nicd\n%in%\nM75.12*\nis\n1\n5\n\n\n141\n2\n&lt;chr&gt;\nicd\n%in%\nS46.01*\nis\n1\n5\n\n\n142\n1\n&lt;chr&gt;\nicd\n==\nJ30.9\nis\n0\n0\n\n\n143\n1\n&lt;chr&gt;\nicd\n==\nJ06.9\nis\n0\n0\n\n\n144\n1\n&lt;chr&gt;\nicd\n==\nR07.0\nis\n0\n0\n\n\n145\n1\n&lt;chr&gt;\nicd\n==\nM51.16\nis\n0\n0\n\n\n146\n1\n&lt;chr&gt;\nicd\n%in%\nM54.3*\nis\n1\n4\n\n\n154\n3\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n230\n2\n&lt;chr&gt;\nicd\n==\nM17.0\nis\n0\n0\n\n\n363\n1\n&lt;chr&gt;\nicd\n%in%\nZ68*\nis\n1\n3\n\n\n368\n1\n&lt;chr&gt;\nicd\n==\nH61.23\nis\n0\n0\n\n\n382\n1\n&lt;chr&gt;\nicd\n%in%\nZ01.41*\nis\n1\n5\n\n\n402\n3\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n436\n3\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n448\n1\n&lt;chr&gt;\nicd\n%in%\nZ01.41*\nis\n1\n5\n\n\n457\n1\n&lt;chr&gt;\nicd\n==\nR17\nis\n0\n0\n\n\n469\n1\n&lt;chr&gt;\nicd\n==\nPresent\nis\n0\n0\n\n\n476\n1\n&lt;chr&gt;\nicd\n==\nR50.81\nis\n0\n0\n\n\n521\n1\n&lt;chr&gt;\nicd\n==\nF91.3\nis\n0\n0\n\n\n531\n1\n&lt;chr&gt;\nicd\n%in%\nJ95*\nis\n1\n3\n\n\n536\n1\n&lt;chr&gt;\nicd\n%in%\nR53.8*\nis\n1\n4\n\n\n596\n1\n&lt;chr&gt;\nicd\n==\nH60.393\nis\n0\n0\n\n\n599\n1\n&lt;chr&gt;\nicd\n==\nH66.90\nis\n0\n0\n\n\n602\n1\n&lt;chr&gt;\nicd\n%in%\nM43.0*\nis\n1\n4\n\n\n603\n2\n&lt;chr&gt;\nicd\n%in%\nO*\nis\n1\n1\n\n\n605\n2\n&lt;chr&gt;\nicd\n==\nZ11.59\nis\n0\n0\n\n\n606\n2\n&lt;chr&gt;\nicd\n==\nZ20.828\nis\n0\n0\n\n\n607\n2\n&lt;chr&gt;\nicd\n==\nJ12.82\nis\n0\n0\n\n\n609\n1\n&lt;chr&gt;\nicd\n==\nM35.81\nis\n0\n0\n\n\n622\n1\n&lt;chr&gt;\nicd\n==\nZ11.52\nis\n0\n0\n\n\n628\n1\n&lt;chr&gt;\nicd\n%in%\nR51.*\nis\n1\n3\n\n\n629\n1\n&lt;chr&gt;\nicd\n%in%\nM12.55*\nis\n1\n5\n\n\n634\n1\n&lt;chr&gt;\nicd\n==\nH62.40\nis\n0\n0\n\n\n637\n1\n&lt;chr&gt;\nicd\n==\nZ00.8\nis\n0\n0\n\n\n638\n1\n&lt;chr&gt;\nicd\n%in%\nE66*\nis\n1\n3\n\n\n648\n2\n&lt;chr&gt;\nicd\n%in%\nO*\nis\n1\n1\n\n\n677\n1\n&lt;chr&gt;\nicd\n==\nG25.3\nis\n0\n0\n\n\n678\n1\n&lt;chr&gt;\nicd\n==\nR56.1\nis\n0\n0\n\n\n681\n1\n&lt;chr&gt;\nicd\n%in%\nR22.*\nis\n1\n3\n\n\n682\n1\n&lt;chr&gt;\nicd\n%in%\nG58.*\nis\n1\n3\n\n\n683\n1\n&lt;chr&gt;\nicd\n%in%\nR65.*\nis\n1\n3\n\n\n695\n1\n&lt;chr&gt;\nicd\n%in%\nO09.6*\nis\n1\n4\n\n\n698\n1\n&lt;chr&gt;\nicd\n==\nB97.21\nis\n0\n0\n\n\n705\n1\n&lt;chr&gt;\nicd\n%in%\nZ34*\nis\n1\n3\n\n\n706\n1\n&lt;chr&gt;\nicd\n%in%\nZ3A*\nis\n1\n3\n\n\n707\n1\n&lt;chr&gt;\nicd\n%in%\nO09.5*\nis\n1\n4\n\n\n708\n1\n&lt;chr&gt;\nicd\n%in%\nZ34*\nis\n1\n3\n\n\n709\n1\n&lt;chr&gt;\nicd\n%in%\nZ34*\nis\n1\n3\n\n\n710\n2\n&lt;chr&gt;\nicd\n%in%\nZ34*\nis\n1\n3\n\n\n711\n1\n&lt;chr&gt;\nicd\n%in%\nZ34*\nis\n1\n3\n\n\n712\n1\n&lt;chr&gt;\nicd\n%in%\nZ34*\nis\n1\n3\n\n\n728\n1\n&lt;chr&gt;\nicd\n%in%\nL50*\nis\n1\n3\n\n\n729\n3\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n735\n5\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n736\n3\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n737\n1\n&lt;chr&gt;\nicd\n==\nR19.4\nis\n0\n0\n\n\n753\n3\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n755\n4\n&lt;chr&gt;\nicd\n%in%\nZ30*\nis\n1\n3\n\n\n768\n3\n&lt;chr&gt;\nicd\n==\nZ23\nis\n0\n0\n\n\n782\n1\n&lt;chr&gt;\nicd\n==\nJ91.0\nis\n0\n0\n\n\n783\n1\n&lt;chr&gt;\nicd\n==\nJ91.8\nis\n0\n0\n\n\n803\n1\n&lt;chr&gt;\nicd\n==\nI87.2\nis\n0\n0\n\n\n811\n1\n&lt;chr&gt;\nicd\n%in%\nZ13.39,Z0*\nis\n1\n7\n\n\n813\n2\n&lt;chr&gt;\nicd\n==\nM35.81\nis\n0\n0\n\n\n815\n2\n&lt;chr&gt;\nicd\n==\nU09.9\nis\n0\n0\n\n\n816\n2\n&lt;chr&gt;\nicd\n==\nF32.9\nis\n0\n0\n\n\n817\n2\n&lt;chr&gt;\nicd\n==\nR63.3\nis\n0\n0\n\n\n827\n1\n&lt;chr&gt;\nicd\n==\nR35.8\nis\n0\n0\n\n\n828\n2\n&lt;chr&gt;\nicd\n==\nM54.5\nis\n0\n0\n\n\n829\n2\n&lt;chr&gt;\nicd\n==\nP09\nis\n0\n0\n\n\n830\n2\n&lt;chr&gt;\nicd\n==\nR05\nis\n0\n0\n\n\n831\n1\n&lt;chr&gt;\nicd\n==\nZ20.822\nis\n0\n0\n\n\n831\n2\n&lt;chr&gt;\nicd\n==\nU07.1\nis\n0\n0\n\n\n842\n1\n&lt;chr&gt;\nicd\n%in%\nB97*\nis\n1\n3\n\n\n858\n1\n&lt;chr&gt;\nicd\n%in%\nZ37.*\nis\n1\n3\n\n\n957\n1\n&lt;chr&gt;\nicd\n%in%\nQ03*\nis\n1\n3\n\n\n965\n3\n&lt;chr&gt;\nicd\n==\nZ12.5\nis\n0\n0\n\n\n969\n3\n&lt;chr&gt;\nicd\n%in%\nZ12.*\nis\n1\n3\n\n\n971\n1\n&lt;chr&gt;\nicd\n==\nB37.3\nis\n0\n0\n\n\n1003\n1\n&lt;chr&gt;\nicd\n==\nK30\nis\n0\n0\n\n\n1039\n3\n&lt;chr&gt;\nicd\n==\nZ13.41\nis\n0\n0\n\n\n1057\n1\n&lt;chr&gt;\nicd\n%in%\nR31.*\nis\n1\n3\n\n\n1062\n1\n&lt;chr&gt;\nicd\n==\nJ02.9\nis\n0\n0\n\n\n1064\n3\n&lt;chr&gt;\nicd\n==\nR19.5\nis\n0\n0\n\n\n1071\n1\n&lt;chr&gt;\nicd\n%in%\nH04.53*\nis\n1\n5\n\n\n1072\n1\n&lt;chr&gt;\nicd\n==\nM54.6\nis\n0\n0\n\n\n1077\n2\n&lt;chr&gt;\nicd\n%in%\nF25*\nis\n1\n3\n\n\n1092\n1\n&lt;chr&gt;\nicd\n%in%\nF17.*\nis\n1\n3"
  },
  {
    "objectID": "posts/rules/claims_rules.html#unevaluated-code",
    "href": "posts/rules/claims_rules.html#unevaluated-code",
    "title": "Building Claims Rules",
    "section": "",
    "text": "categorize_vars |&gt;\n  separate_longer_delim(cols = value, delim = \",\") |&gt;\n  mutate(value = str_squish(value),\n         neg = case_when(str_detect(action, \"not\") ~ 1L, .default = 0L),\n         wc = case_when(str_detect(value, \"\\\\*\") ~ 1L, .default = 0L),\n         .after = value)\n\nhead_tail(rules_new, n = 10, by = c(\"var\", \"action\")) |&gt;\n  gt() |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"bold\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(var, action, value))) |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\nrules_new |&gt;\n  filter(!is.na(var)) |&gt;\n  group_by(var) |&gt;\n  count(action) |&gt;\n  ungroup() |&gt;\n  arrange(var, desc(n), action) |&gt;\n  gt(groupname_col = \"var\", row_group_as_column = TRUE) |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(\n    font = google_font(name = \"Roboto Condensed\"),\n    weight = \"bold\"\n    ) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"normal\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(var, action))) |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)"
  },
  {
    "objectID": "posts/rules/claims_rules.html#regexes",
    "href": "posts/rules/claims_rules.html#regexes",
    "title": "Building Claims Rules",
    "section": "",
    "text": "rules_new |&gt;\n  filter(wc == 1,\n         var == \"hcpcs\") |&gt;\n  mutate(value = str_remove_all(value, \"\\\\*\"),\n         chars = 5 - str_length(value),\n         .after = value) |&gt;\n  mutate(\n    regex = case_when(\n      chars == 0 ~ glue_chr(\"^&lt;&lt;value&gt;&gt;$\", .open = \"&lt;&lt;\", .close = \"&gt;&gt;\"),\n      chars == 1 ~ glue_chr(\"^&lt;&lt;value&gt;&gt;[0-9]$\", .open = \"&lt;&lt;\", .close = \"&gt;&gt;\"),\n      chars &gt; 1 ~ glue_chr(\"^&lt;&lt;value&gt;&gt;[0-9]{&lt;&lt;chars&gt;&gt;}$\", .open = \"&lt;&lt;\", .close = \"&gt;&gt;\")),\n    regex = case_when(neg == 1L ~ glue_chr('!{regex}'), .default = regex),\n    .after = regex\n  ) |&gt;\n  head_tail(n = 10, by = c(\"var\", \"action\")) |&gt;\n  gt() |&gt;\n  cols_align(align = \"left\") |&gt;\n  opt_table_font(font = google_font(name = \"Roboto Condensed\")) |&gt;\n  opt_all_caps() |&gt;\n  tab_style(\n      style = cell_text(\n        align = 'left',\n        weight = \"bold\",\n        font = google_font(name = \"Roboto Mono\")),\n      locations = cells_body(columns = c(regex))) |&gt;\n  tab_options(table.width = pct(100),\n              quarto.disable_processing = TRUE)\n\n\nnorthstar::search_descriptions(hcpcs_desc_type = \"Long\") |&gt; \n  # dplyr::mutate(not_hcpcs = !grepl(\"^99[0-9]{3}$\", hcpcs_code)) |&gt; \n  filter(!grepl(\"^99[0-9]{3,3}$\", hcpcs_code)) |&gt;\n  # dplyr::mutate(has_hcpcs = grepl(\"^J[0-9]{4}$\", hcpcs_code)) |&gt; \n  filter(str_detect(hcpcs_code, regex(\"^J[0-9]{4}$\"))) |&gt; \n  filter(str_detect(hcpcs_code, regex(\"^(?!5405)(?&lt;![0-9]{1})$\"))) |&gt; \n  print(n = 200)\n\n# Match strings that don't start with \"99\" and don't end with 3 digits\npattern &lt;- \"^(?!99).*(?&lt;![0-9]{3})$\"\n\n# Negation pattern\n\"^(?!9938[0-9]{1}$)\"\n\n# Begins with 0, ends with digit\n\"^0.*\\\\d$\"\n\n# Begins with 0, ends with letter\n\"^0.*[A-Z]$\"\n\n# Match strings that don't start with \"a\" and don't end with \"z\"\npattern &lt;- \"^(?!a).*[^z]$\"\ngrep(pattern, c(\"apple\", \"banana\", \"cherry\"), value = TRUE)\n# Output: \"banana\" \"cherry\"\n\nstringr::str_detect(\"99202\", stringr::regex(\"^[992]{3}.*\"))\n\ngrep(\"^[992]{3}.*\", \"99202\", value = TRUE, invert = TRUE)\n\n\npattern = dplyr::case_when(\n  chars == 0 & negation == FALSE ~ glue::glue(\"^&lt;value&gt;$\", .open = \"&lt;\", .close = \"&gt;\"),\n  chars &gt; 0  & negation == FALSE ~ glue::glue(\"^&lt;value&gt;[0-9]{&lt;chars&gt;}$\", .open = \"&lt;\", .close = \"&gt;\"),\n  chars == 0 & negation == TRUE ~ glue::glue(\"^(?!&lt;value&gt;)$\", .open = \"&lt;\", .close = \"&gt;\"),\n  chars &gt; 0  & negation == TRUE ~ glue::glue(\"^(?!&lt;&lt;value&gt;&gt;)(?&lt;![0-9]{&lt;&lt;chars&gt;&gt;})$\", .open = \"&lt;&lt;\", .close = \"&gt;&gt;\")\n  )"
  }
]