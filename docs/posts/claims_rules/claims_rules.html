<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Andrew Allen Bruce">
<meta name="dcterms.date" content="2024-08-20">
<title>Building Claims Rules – acéphale</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<meta property="og:title" content="Building Claims Rules – acéphale">
<meta property="og:site_name" content="acéphale">
<meta property="og:locale" content="en_US">
<meta name="twitter:title" content="Building Claims Rules – acéphale">
<meta name="twitter:creator" content="@andrewallbruce">
<meta name="twitter:card" content="summary">
</head>
<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">acéphale</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item compact">
    <a class="nav-link" href="https://github.com/andrewallenbruce"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/andrewallbruce"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/andrewallenbruce/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <div class="quarto-title-block"><div><h1 class="title">Building Claims Rules</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p><a href="https://andrewallenbruce.github.io">Andrew Allen Bruce, B.F.A., A.A.S., RHIT (AHIMA), CPC (AAPC), CPPM (AAPC)</a> <a href="mailto:andrewallenbruce@gmail.com" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Last updated</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 20, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="2"><h2 id="toc-title">Contents</h2>
   
  <ul>
<li>
<a href="#load-data" id="toc-load-data" class="nav-link active" data-scroll-target="#load-data">Load Data</a>
  <ul class="collapse">
<li><a href="#todo-problem-rows" id="toc-todo-problem-rows" class="nav-link" data-scroll-target="#todo-problem-rows">TODO: Problem Rows</a></li>
  </ul>
</li>
  <li>
<a href="#rules" id="toc-rules" class="nav-link" data-scroll-target="#rules">Rules</a>
  <ul class="collapse">
<li><a href="#distinct-rules" id="toc-distinct-rules" class="nav-link" data-scroll-target="#distinct-rules">Distinct Rules</a></li>
  </ul>
</li>
  <li><a href="#variables" id="toc-variables" class="nav-link" data-scroll-target="#variables">Variables</a></li>
  <li><a href="#actions" id="toc-actions" class="nav-link" data-scroll-target="#actions">Actions</a></li>
  <li><a href="#generating-regexes" id="toc-generating-regexes" class="nav-link" data-scroll-target="#generating-regexes">Generating Regexes</a></li>
  </ul></nav>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content"><section id="load-data" class="level2"><h2 class="anchored" data-anchor-id="load-data">Load Data</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">rules_raw</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span></span>
<span>  <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"posts/claims_rules/data/rules_raw.csv"</span><span class="op">)</span>,</span>
<span>  col_types <span class="op">=</span> <span class="fu">cols</span><span class="op">(</span></span>
<span>  row <span class="op">=</span> <span class="fu">col_integer</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  id_rule <span class="op">=</span> <span class="fu">col_integer</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  id_name <span class="op">=</span> <span class="fu">col_character</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  id_order <span class="op">=</span> <span class="fu">col_integer</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  category <span class="op">=</span> <span class="fu">col_factor</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  alert <span class="op">=</span> <span class="fu">col_character</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  var <span class="op">=</span> <span class="fu">col_character</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  action <span class="op">=</span> <span class="fu">col_character</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  value <span class="op">=</span> <span class="fu">col_character</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  rule <span class="op">=</span> <span class="fu">col_character</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  x9 <span class="op">=</span> <span class="fu">col_character</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  x10 <span class="op">=</span> <span class="fu">col_character</span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">rules_raw</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">gt_preview</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">opt_table_font</span><span class="op">(</span>font <span class="op">=</span> <span class="fu">google_font</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Fira Code"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">tab_options</span><span class="op">(</span>table.width <span class="op">=</span> <span class="fu">pct</span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>,</span>
<span>              quarto.disable_processing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="ivrrkbfndu" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Fira+Code:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#ivrrkbfndu table {
  font-family: 'Fira Code', system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ivrrkbfndu thead, #ivrrkbfndu tbody, #ivrrkbfndu tfoot, #ivrrkbfndu tr, #ivrrkbfndu td, #ivrrkbfndu th {
  border-style: none;
}

#ivrrkbfndu p {
  margin: 0;
  padding: 0;
}

#ivrrkbfndu .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ivrrkbfndu .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ivrrkbfndu .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ivrrkbfndu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ivrrkbfndu .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ivrrkbfndu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ivrrkbfndu .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ivrrkbfndu .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ivrrkbfndu .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ivrrkbfndu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ivrrkbfndu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ivrrkbfndu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ivrrkbfndu .gt_spanner_row {
  border-bottom-style: hidden;
}

#ivrrkbfndu .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ivrrkbfndu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ivrrkbfndu .gt_from_md > :first-child {
  margin-top: 0;
}

#ivrrkbfndu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ivrrkbfndu .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ivrrkbfndu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ivrrkbfndu .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ivrrkbfndu .gt_row_group_first td {
  border-top-width: 2px;
}

#ivrrkbfndu .gt_row_group_first th {
  border-top-width: 2px;
}

#ivrrkbfndu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ivrrkbfndu .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ivrrkbfndu .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ivrrkbfndu .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ivrrkbfndu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ivrrkbfndu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ivrrkbfndu .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ivrrkbfndu .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ivrrkbfndu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ivrrkbfndu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ivrrkbfndu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ivrrkbfndu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ivrrkbfndu .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ivrrkbfndu .gt_left {
  text-align: left;
}

#ivrrkbfndu .gt_center {
  text-align: center;
}

#ivrrkbfndu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ivrrkbfndu .gt_font_normal {
  font-weight: normal;
}

#ivrrkbfndu .gt_font_bold {
  font-weight: bold;
}

#ivrrkbfndu .gt_font_italic {
  font-style: italic;
}

#ivrrkbfndu .gt_super {
  font-size: 65%;
}

#ivrrkbfndu .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ivrrkbfndu .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ivrrkbfndu .gt_indent_1 {
  text-indent: 5px;
}

#ivrrkbfndu .gt_indent_2 {
  text-indent: 10px;
}

#ivrrkbfndu .gt_indent_3 {
  text-indent: 15px;
}

#ivrrkbfndu .gt_indent_4 {
  text-indent: 20px;
}

#ivrrkbfndu .gt_indent_5 {
  text-indent: 25px;
}

#ivrrkbfndu .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#ivrrkbfndu div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="true" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="row">row</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="id_rule">id_rule</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="id_name">id_name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="id_order">id_order</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="category">category</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="alert">alert</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="var">var</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="action">action</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="value">value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="rule">rule</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="x9">x9</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="x10">x10</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<th id="stub_1_1" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">1</th>
<td headers="stub_1_1 row" class="gt_row gt_right">1</td>
<td headers="stub_1_1 id_rule" class="gt_row gt_right">1</td>
<td headers="stub_1_1 id_name" class="gt_row gt_left">ExpiredCPT</td>
<td headers="stub_1_1 id_order" class="gt_row gt_right">1</td>
<td headers="stub_1_1 category" class="gt_row gt_left">Expired CPT</td>
<td headers="stub_1_1 alert" class="gt_row gt_left">43760 expired effective 1/1/19 - to report, please see (43762 - 43763)</td>
<td headers="stub_1_1 var" class="gt_row gt_left">CPT Code</td>
<td headers="stub_1_1 action" class="gt_row gt_left">is</td>
<td headers="stub_1_1 value" class="gt_row gt_left">43760</td>
<td headers="stub_1_1 rule" class="gt_row gt_left">CPT Code is [*****] AND Encounter Date of Service after [01/01/2019]</td>
<td headers="stub_1_1 x9" class="gt_row gt_left">NA</td>
<td headers="stub_1_1 x10" class="gt_row gt_left">NA</td>
</tr>
<tr>
<th id="stub_1_2" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">2</th>
<td headers="stub_1_2 row" class="gt_row gt_right">2</td>
<td headers="stub_1_2 id_rule" class="gt_row gt_right">1</td>
<td headers="stub_1_2 id_name" class="gt_row gt_left">ExpiredCPT</td>
<td headers="stub_1_2 id_order" class="gt_row gt_right">2</td>
<td headers="stub_1_2 category" class="gt_row gt_left">Expired CPT</td>
<td headers="stub_1_2 alert" class="gt_row gt_left">43760 expired effective 1/1/19 - to report, please see (43762 - 43763)</td>
<td headers="stub_1_2 var" class="gt_row gt_left">Encounter Date of Service</td>
<td headers="stub_1_2 action" class="gt_row gt_left">after</td>
<td headers="stub_1_2 value" class="gt_row gt_left">01/01/2019</td>
<td headers="stub_1_2 rule" class="gt_row gt_left">NA</td>
<td headers="stub_1_2 x9" class="gt_row gt_left">NA</td>
<td headers="stub_1_2 x10" class="gt_row gt_left">NA</td>
</tr>
<tr>
<th id="stub_1_3" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">3</th>
<td headers="stub_1_3 row" class="gt_row gt_right">3</td>
<td headers="stub_1_3 id_rule" class="gt_row gt_right">2</td>
<td headers="stub_1_3 id_name" class="gt_row gt_left">ALBCBS1</td>
<td headers="stub_1_3 id_order" class="gt_row gt_right">1</td>
<td headers="stub_1_3 category" class="gt_row gt_left">NDC Numbers</td>
<td headers="stub_1_3 alert" class="gt_row gt_left">Alabama BCBS requires NDC numbers.</td>
<td headers="stub_1_3 var" class="gt_row gt_left">Primary Insurance</td>
<td headers="stub_1_3 action" class="gt_row gt_left">is</td>
<td headers="stub_1_3 value" class="gt_row gt_left">BCBS</td>
<td headers="stub_1_3 rule" class="gt_row gt_left">Primary Insurance is [BCBS] AND CPT Code is [J*] AND CPT NDC (Presence) is not [Present]</td>
<td headers="stub_1_3 x9" class="gt_row gt_left">NA</td>
<td headers="stub_1_3 x10" class="gt_row gt_left">NA</td>
</tr>
<tr>
<th id="stub_1_4" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">4</th>
<td headers="stub_1_4 row" class="gt_row gt_right">4</td>
<td headers="stub_1_4 id_rule" class="gt_row gt_right">2</td>
<td headers="stub_1_4 id_name" class="gt_row gt_left">ALBCBS1</td>
<td headers="stub_1_4 id_order" class="gt_row gt_right">2</td>
<td headers="stub_1_4 category" class="gt_row gt_left">NDC Numbers</td>
<td headers="stub_1_4 alert" class="gt_row gt_left">Alabama BCBS requires NDC numbers.</td>
<td headers="stub_1_4 var" class="gt_row gt_left">CPT Code</td>
<td headers="stub_1_4 action" class="gt_row gt_left">is</td>
<td headers="stub_1_4 value" class="gt_row gt_left">J*</td>
<td headers="stub_1_4 rule" class="gt_row gt_left">NA</td>
<td headers="stub_1_4 x9" class="gt_row gt_left">NA</td>
<td headers="stub_1_4 x10" class="gt_row gt_left">NA</td>
</tr>
<tr>
<th id="stub_1_5" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">5</th>
<td headers="stub_1_5 row" class="gt_row gt_right">5</td>
<td headers="stub_1_5 id_rule" class="gt_row gt_right">2</td>
<td headers="stub_1_5 id_name" class="gt_row gt_left">ALBCBS1</td>
<td headers="stub_1_5 id_order" class="gt_row gt_right">3</td>
<td headers="stub_1_5 category" class="gt_row gt_left">NDC Numbers</td>
<td headers="stub_1_5 alert" class="gt_row gt_left">Alabama BCBS requires NDC numbers.</td>
<td headers="stub_1_5 var" class="gt_row gt_left">CPT NDC (Presence)</td>
<td headers="stub_1_5 action" class="gt_row gt_left">is not</td>
<td headers="stub_1_5 value" class="gt_row gt_left">Present</td>
<td headers="stub_1_5 rule" class="gt_row gt_left">NA</td>
<td headers="stub_1_5 x9" class="gt_row gt_left">NA</td>
<td headers="stub_1_5 x10" class="gt_row gt_left">NA</td>
</tr>
<tr>
<th id="stub_1_6" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier; font-size: x-small; background-color: #E4E4E4;">6..3132</th>
<td headers="stub_1_6 row" class="gt_row gt_right" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 id_rule" class="gt_row gt_right" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 id_name" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 id_order" class="gt_row gt_right" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 category" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 alert" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 var" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 action" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 value" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 rule" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 x9" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 x10" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
</tr>
<tr>
<th id="stub_1_7" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">3133</th>
<td headers="stub_1_7 row" class="gt_row gt_right">3133</td>
<td headers="stub_1_7 id_rule" class="gt_row gt_right">1092</td>
<td headers="stub_1_7 id_name" class="gt_row gt_left">ICD10-132</td>
<td headers="stub_1_7 id_order" class="gt_row gt_right">2</td>
<td headers="stub_1_7 category" class="gt_row gt_left">Excludes 1 note for F17</td>
<td headers="stub_1_7 alert" class="gt_row gt_left">F17.* cannot be billed with Z87.891/ Z72.0. Remove Z87.891/Z72.0</td>
<td headers="stub_1_7 var" class="gt_row gt_left">DX Code</td>
<td headers="stub_1_7 action" class="gt_row gt_left">is one of</td>
<td headers="stub_1_7 value" class="gt_row gt_left">Z87.891,Z72.0</td>
<td headers="stub_1_7 rule" class="gt_row gt_left">NA</td>
<td headers="stub_1_7 x9" class="gt_row gt_left">NA</td>
<td headers="stub_1_7 x10" class="gt_row gt_left">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<section id="todo-problem-rows" class="level3"><h3 class="anchored" data-anchor-id="todo-problem-rows">TODO: Problem Rows</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">rules_raw</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">x10</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 12
    row id_rule id_name id_order category   alert var   action value rule  x9   
  &lt;int&gt;   &lt;int&gt; &lt;chr&gt;      &lt;int&gt; &lt;fct&gt;      &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
1  2696     937 AUDIO5         1 https://w… Assi… CPT … is on… 6920… CPT … &lt;NA&gt; 
2  2819     984 E&amp;M54          1 https://w… 9921… Enco… after  01/0… Enco… after
# ℹ 1 more variable: x10 &lt;chr&gt;</code></pre>
</div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">rules_raw</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">var</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 12
    row id_rule id_name id_order category   alert var   action value rule  x9   
  &lt;int&gt;   &lt;int&gt; &lt;chr&gt;      &lt;int&gt; &lt;fct&gt;      &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;
1   588     205 OHMCD5        NA CLIA Waiv… CLIA… &lt;NA&gt;  &lt;NA&gt;   &lt;NA&gt;  &lt;NA&gt;  &lt;NA&gt; 
2  1489     528 UNVSL75       NA Medcost -… Grou… &lt;NA&gt;  &lt;NA&gt;   *sel… &lt;NA&gt;  &lt;NA&gt; 
# ℹ 1 more variable: x10 &lt;chr&gt;</code></pre>
</div>
</div>
</section></section><section id="rules" class="level2"><h2 class="anchored" data-anchor-id="rules">Rules</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">rules_new</span> <span class="op">&lt;-</span> <span class="va">rules_raw</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">select</span><span class="op">(</span></span>
<span>    <span class="va">row</span>, </span>
<span>    <span class="va">id_rule</span>, </span>
<span>    <span class="va">id_name</span>,</span>
<span>    <span class="va">id_order</span>, </span>
<span>    <span class="va">var</span>, </span>
<span>    <span class="va">action</span>, </span>
<span>    <span class="va">value</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>var <span class="op">=</span> <span class="fu">case_match</span><span class="op">(</span></span>
<span>    <span class="va">var</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CPT CODE"</span>, </span>
<span>        <span class="st">"CPT Code"</span>, </span>
<span>        <span class="st">"CPT code"</span>, </span>
<span>        <span class="st">"CPT"</span>, </span>
<span>        <span class="st">"Code Check Expired CPT Alert (Presence)"</span>, </span>
<span>        <span class="st">"CPT is one of"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"hcpcs"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Mod1"</span>, </span>
<span>        <span class="st">"CPT Mod1"</span>, </span>
<span>        <span class="st">"CPT Mod 1"</span>, </span>
<span>        <span class="st">"CPTMod1"</span>, </span>
<span>        <span class="st">"Code Check CPT Mod Alert (Presence)"</span>, </span>
<span>        <span class="st">"CPT MOD1"</span>, </span>
<span>        <span class="st">"CPT Mod1 (Presence)"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"mod_1"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Mod2"</span>, </span>
<span>        <span class="st">"CPT MOD2"</span>, </span>
<span>        <span class="st">"CPT Mod 2"</span>, </span>
<span>        <span class="st">"CPT Mod2 (Presence)"</span>, </span>
<span>        <span class="st">"CPTMod2"</span>, </span>
<span>        <span class="st">"CPT Mod2"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"mod_2"</span>,</span>
<span>      <span class="st">"CPT Mod3"</span> <span class="op">~</span> <span class="st">"mod_3"</span>,</span>
<span>      <span class="st">"CPT Mod4"</span> <span class="op">~</span> <span class="st">"mod_4"</span>,</span>
<span>      <span class="st">"CPT Units"</span> <span class="op">~</span> <span class="st">"unit"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Dx code"</span>, </span>
<span>        <span class="st">"DX Code"</span>, </span>
<span>        <span class="st">"Dx Code"</span>, </span>
<span>        <span class="st">"Code Check Expired DX Alert (Presence)"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"icd"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Encounter Date of Service"</span>, </span>
<span>        <span class="st">"Date of Service"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"dos"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Location"</span>, </span>
<span>        <span class="st">"Place of Service"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"pos"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"CPT UB04"</span>, </span>
<span>        <span class="st">"UB04 Bill Type"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"ub04"</span>,</span>
<span>      <span class="st">"CPT NDC (Presence)"</span> <span class="op">~</span> <span class="st">"ndc"</span>,</span>
<span>      <span class="st">"CPT Rev Code"</span> <span class="op">~</span> <span class="st">"rev_code"</span>,</span>
<span>      <span class="st">"Code Check CCI Alert (Presence)"</span> <span class="op">~</span> <span class="st">"cci"</span>,</span>
<span>      <span class="st">"Code Check LCD Alert (Presence)"</span> <span class="op">~</span> <span class="st">"lcd"</span>,</span>
<span>      <span class="st">"Code Check NCD Alert (Presence)"</span> <span class="op">~</span> <span class="st">"ncd"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Patient Age"</span>, </span>
<span>        <span class="st">"Code Check Age Alert (Presence)"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"age"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Patient Sex"</span>, </span>
<span>        <span class="st">"Code Check Gender Alert (Presence)"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"sex"</span>,</span>
<span>      <span class="st">"NA"</span> <span class="op">~</span> <span class="cn">NA_character_</span>,</span>
<span>      <span class="st">"Rendering Provider"</span> <span class="op">~</span> <span class="st">"render"</span>,</span>
<span>      <span class="st">"Referring Provider (Presence)"</span> <span class="op">~</span> <span class="st">"refer"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Primary Insurance Class"</span>, </span>
<span>        <span class="st">"Primary Insurance class"</span>, </span>
<span>        <span class="st">"Primary insurance class"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"iclass_prim"</span>,</span>
<span>      <span class="st">"Primary Insurance"</span> <span class="op">~</span> <span class="st">"iname_prim"</span>,</span>
<span>      <span class="st">"Secondary Insurance Class"</span> <span class="op">~</span> <span class="st">"iclass_sec"</span>,</span>
<span>      <span class="st">"Secondary Insurance"</span> <span class="op">~</span> <span class="st">"iname_sec"</span>,</span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Primary Insurance Authorization (Presence)"</span>, </span>
<span>        <span class="st">"Primary Insurance Authorization (Presence) is not [Present]"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"iauth_prim"</span>,</span>
<span>      .default <span class="op">=</span> <span class="va">var</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">as_factor</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">separate_longer_delim</span><span class="op">(</span>cols <span class="op">=</span> <span class="va">value</span>, delim <span class="op">=</span> <span class="st">","</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>value <span class="op">=</span> <span class="fu">str_squish</span><span class="op">(</span><span class="va">value</span><span class="op">)</span>,</span>
<span>         neg <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="fu">str_detect</span><span class="op">(</span><span class="va">action</span>, <span class="st">"not"</span><span class="op">)</span> <span class="op">~</span> <span class="fl">1L</span>, .default <span class="op">=</span> <span class="fl">0L</span><span class="op">)</span>,</span>
<span>         wc <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="fu">str_detect</span><span class="op">(</span><span class="va">value</span>, <span class="st">"\\*"</span><span class="op">)</span> <span class="op">~</span> <span class="fl">1L</span>, .default <span class="op">=</span> <span class="fl">0L</span><span class="op">)</span>,</span>
<span>         .after <span class="op">=</span> <span class="va">value</span><span class="op">)</span></span>
<span></span>
<span><span class="va">rules_new</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">gt_preview</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">opt_table_font</span><span class="op">(</span>font <span class="op">=</span> <span class="fu">google_font</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Fira Code"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">tab_options</span><span class="op">(</span>table.width <span class="op">=</span> <span class="fu">pct</span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>,</span>
<span>              quarto.disable_processing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="gcgqhdvpyh" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Fira+Code:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#gcgqhdvpyh table {
  font-family: 'Fira Code', system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#gcgqhdvpyh thead, #gcgqhdvpyh tbody, #gcgqhdvpyh tfoot, #gcgqhdvpyh tr, #gcgqhdvpyh td, #gcgqhdvpyh th {
  border-style: none;
}

#gcgqhdvpyh p {
  margin: 0;
  padding: 0;
}

#gcgqhdvpyh .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#gcgqhdvpyh .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#gcgqhdvpyh .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#gcgqhdvpyh .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#gcgqhdvpyh .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gcgqhdvpyh .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gcgqhdvpyh .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#gcgqhdvpyh .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#gcgqhdvpyh .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#gcgqhdvpyh .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#gcgqhdvpyh .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#gcgqhdvpyh .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#gcgqhdvpyh .gt_spanner_row {
  border-bottom-style: hidden;
}

#gcgqhdvpyh .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#gcgqhdvpyh .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#gcgqhdvpyh .gt_from_md > :first-child {
  margin-top: 0;
}

#gcgqhdvpyh .gt_from_md > :last-child {
  margin-bottom: 0;
}

#gcgqhdvpyh .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#gcgqhdvpyh .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#gcgqhdvpyh .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#gcgqhdvpyh .gt_row_group_first td {
  border-top-width: 2px;
}

#gcgqhdvpyh .gt_row_group_first th {
  border-top-width: 2px;
}

#gcgqhdvpyh .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gcgqhdvpyh .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#gcgqhdvpyh .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#gcgqhdvpyh .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gcgqhdvpyh .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#gcgqhdvpyh .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#gcgqhdvpyh .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#gcgqhdvpyh .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#gcgqhdvpyh .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#gcgqhdvpyh .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gcgqhdvpyh .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gcgqhdvpyh .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#gcgqhdvpyh .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#gcgqhdvpyh .gt_left {
  text-align: left;
}

#gcgqhdvpyh .gt_center {
  text-align: center;
}

#gcgqhdvpyh .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#gcgqhdvpyh .gt_font_normal {
  font-weight: normal;
}

#gcgqhdvpyh .gt_font_bold {
  font-weight: bold;
}

#gcgqhdvpyh .gt_font_italic {
  font-style: italic;
}

#gcgqhdvpyh .gt_super {
  font-size: 65%;
}

#gcgqhdvpyh .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#gcgqhdvpyh .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#gcgqhdvpyh .gt_indent_1 {
  text-indent: 5px;
}

#gcgqhdvpyh .gt_indent_2 {
  text-indent: 10px;
}

#gcgqhdvpyh .gt_indent_3 {
  text-indent: 15px;
}

#gcgqhdvpyh .gt_indent_4 {
  text-indent: 20px;
}

#gcgqhdvpyh .gt_indent_5 {
  text-indent: 25px;
}

#gcgqhdvpyh .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#gcgqhdvpyh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="true" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="row">row</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="id_rule">id_rule</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="id_name">id_name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="id_order">id_order</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="var">var</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="action">action</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="value">value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="neg">neg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wc">wc</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<th id="stub_1_1" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">1</th>
<td headers="stub_1_1 row" class="gt_row gt_right">1</td>
<td headers="stub_1_1 id_rule" class="gt_row gt_right">1</td>
<td headers="stub_1_1 id_name" class="gt_row gt_left">ExpiredCPT</td>
<td headers="stub_1_1 id_order" class="gt_row gt_right">1</td>
<td headers="stub_1_1 var" class="gt_row gt_left">hcpcs</td>
<td headers="stub_1_1 action" class="gt_row gt_left">is</td>
<td headers="stub_1_1 value" class="gt_row gt_left">43760</td>
<td headers="stub_1_1 neg" class="gt_row gt_right">0</td>
<td headers="stub_1_1 wc" class="gt_row gt_right">0</td>
</tr>
<tr>
<th id="stub_1_2" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">2</th>
<td headers="stub_1_2 row" class="gt_row gt_right">2</td>
<td headers="stub_1_2 id_rule" class="gt_row gt_right">1</td>
<td headers="stub_1_2 id_name" class="gt_row gt_left">ExpiredCPT</td>
<td headers="stub_1_2 id_order" class="gt_row gt_right">2</td>
<td headers="stub_1_2 var" class="gt_row gt_left">dos</td>
<td headers="stub_1_2 action" class="gt_row gt_left">after</td>
<td headers="stub_1_2 value" class="gt_row gt_left">01/01/2019</td>
<td headers="stub_1_2 neg" class="gt_row gt_right">0</td>
<td headers="stub_1_2 wc" class="gt_row gt_right">0</td>
</tr>
<tr>
<th id="stub_1_3" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">3</th>
<td headers="stub_1_3 row" class="gt_row gt_right">3</td>
<td headers="stub_1_3 id_rule" class="gt_row gt_right">2</td>
<td headers="stub_1_3 id_name" class="gt_row gt_left">ALBCBS1</td>
<td headers="stub_1_3 id_order" class="gt_row gt_right">1</td>
<td headers="stub_1_3 var" class="gt_row gt_left">iname_prim</td>
<td headers="stub_1_3 action" class="gt_row gt_left">is</td>
<td headers="stub_1_3 value" class="gt_row gt_left">BCBS</td>
<td headers="stub_1_3 neg" class="gt_row gt_right">0</td>
<td headers="stub_1_3 wc" class="gt_row gt_right">0</td>
</tr>
<tr>
<th id="stub_1_4" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">4</th>
<td headers="stub_1_4 row" class="gt_row gt_right">4</td>
<td headers="stub_1_4 id_rule" class="gt_row gt_right">2</td>
<td headers="stub_1_4 id_name" class="gt_row gt_left">ALBCBS1</td>
<td headers="stub_1_4 id_order" class="gt_row gt_right">2</td>
<td headers="stub_1_4 var" class="gt_row gt_left">hcpcs</td>
<td headers="stub_1_4 action" class="gt_row gt_left">is</td>
<td headers="stub_1_4 value" class="gt_row gt_left">J*</td>
<td headers="stub_1_4 neg" class="gt_row gt_right">0</td>
<td headers="stub_1_4 wc" class="gt_row gt_right">1</td>
</tr>
<tr>
<th id="stub_1_5" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">5</th>
<td headers="stub_1_5 row" class="gt_row gt_right">5</td>
<td headers="stub_1_5 id_rule" class="gt_row gt_right">2</td>
<td headers="stub_1_5 id_name" class="gt_row gt_left">ALBCBS1</td>
<td headers="stub_1_5 id_order" class="gt_row gt_right">3</td>
<td headers="stub_1_5 var" class="gt_row gt_left">ndc</td>
<td headers="stub_1_5 action" class="gt_row gt_left">is not</td>
<td headers="stub_1_5 value" class="gt_row gt_left">Present</td>
<td headers="stub_1_5 neg" class="gt_row gt_right">1</td>
<td headers="stub_1_5 wc" class="gt_row gt_right">0</td>
</tr>
<tr>
<th id="stub_1_6" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier; font-size: x-small; background-color: #E4E4E4;">6..53699</th>
<td headers="stub_1_6 row" class="gt_row gt_right" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 id_rule" class="gt_row gt_right" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 id_name" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 id_order" class="gt_row gt_right" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 var" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 action" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 value" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 neg" class="gt_row gt_right" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 wc" class="gt_row gt_right" style="background-color: #E4E4E4;"></td>
</tr>
<tr>
<th id="stub_1_7" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">53700</th>
<td headers="stub_1_7 row" class="gt_row gt_right">3133</td>
<td headers="stub_1_7 id_rule" class="gt_row gt_right">1092</td>
<td headers="stub_1_7 id_name" class="gt_row gt_left">ICD10-132</td>
<td headers="stub_1_7 id_order" class="gt_row gt_right">2</td>
<td headers="stub_1_7 var" class="gt_row gt_left">icd</td>
<td headers="stub_1_7 action" class="gt_row gt_left">is one of</td>
<td headers="stub_1_7 value" class="gt_row gt_left">Z72.0</td>
<td headers="stub_1_7 neg" class="gt_row gt_right">0</td>
<td headers="stub_1_7 wc" class="gt_row gt_right">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<section id="distinct-rules" class="level3"><h3 class="anchored" data-anchor-id="distinct-rules">Distinct Rules</h3>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span><span class="fu">n_distinct</span><span class="op">(</span><span class="va">rules_new</span><span class="op">$</span><span class="va">id_rule</span><span class="op">)</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1092</code></pre>
</div>
</div>
</section></section><section id="variables" class="level2"><h2 class="anchored" data-anchor-id="variables">Variables</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">rules_raw</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">var</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">var</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">pull</span><span class="op">(</span><span class="va">var</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span>sep <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>CPT
CPT CODE
CPT Code
CPT MOD1
CPT MOD2
CPT Mod 1
CPT Mod 2
CPT Mod1
CPT Mod1 (Presence)
CPT Mod2
CPT Mod2 (Presence)
CPT Mod3
CPT Mod4
CPT NDC (Presence)
CPT Rev Code
CPT UB04
CPT Units
CPT code
CPT is one of
CPTMod1
CPTMod2
Code Check Age Alert (Presence)
Code Check CCI Alert (Presence)
Code Check CPT Mod Alert (Presence)
Code Check Expired CPT Alert (Presence)
Code Check Expired DX Alert (Presence)
Code Check Gender Alert (Presence)
Code Check LCD Alert (Presence)
Code Check NCD Alert (Presence)
DX Code
Date of Service
Dx Code
Dx code
Encounter Date of Service
Location
Mod1
Mod2
Patient Age
Patient Sex
Place of Service
Primary Insurance
Primary Insurance Authorization (Presence)
Primary Insurance Authorization (Presence) is not [Present]
Primary Insurance Class
Primary Insurance class
Primary insurance class
Referring Provider (Presence)
Rendering Provider
Secondary Insurance
Secondary Insurance Class
UB04 Bill Type</code></pre>
</div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">rules_new</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">var</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">count</span><span class="op">(</span>var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">var</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">pull</span><span class="op">(</span><span class="va">var</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span>sep <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>age
cci
dos
hcpcs
iauth_prim
icd
iclass_prim
iclass_sec
iname_prim
iname_sec
lcd
mod_1
mod_2
mod_3
mod_4
ncd
ndc
pos
refer
render
rev_code
sex
ub04
unit</code></pre>
</div>
</div>
</section><section id="actions" class="level2"><h2 class="anchored" data-anchor-id="actions">Actions</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">rules_raw</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">action</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">action</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">pull</span><span class="op">(</span><span class="va">action</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html">cat</a></span><span class="op">(</span>sep <span class="op">=</span> <span class="st">"\n"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>after
before
has all
is
is after
is before
is not
is older than
is on of
is one of
is younger than
under
younger than</code></pre>
</div>
</div>
</section><section id="generating-regexes" class="level2"><h2 class="anchored" data-anchor-id="generating-regexes">Generating Regexes</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">rules_new</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span></span>
<span>    <span class="va">wc</span> <span class="op">==</span> <span class="fl">1</span>,</span>
<span>    <span class="co"># action == "has all",</span></span>
<span>    <span class="va">var</span> <span class="op">==</span> <span class="st">"hcpcs"</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    value <span class="op">=</span> <span class="fu">str_remove_all</span><span class="op">(</span><span class="va">value</span>, <span class="st">"\\*"</span><span class="op">)</span>,</span>
<span>    chars <span class="op">=</span> <span class="fl">5</span> <span class="op">-</span> <span class="fu">str_length</span><span class="op">(</span><span class="va">value</span><span class="op">)</span>,</span>
<span>    .after <span class="op">=</span> <span class="va">value</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    pattern <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>      <span class="va">chars</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"^&lt;&lt;value&gt;&gt;$"</span>, .open <span class="op">=</span> <span class="st">"&lt;&lt;"</span>, .close <span class="op">=</span> <span class="st">"&gt;&gt;"</span><span class="op">)</span>,</span>
<span>      <span class="va">chars</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"^&lt;&lt;value&gt;&gt;[0-9]$"</span>, .open <span class="op">=</span> <span class="st">"&lt;&lt;"</span>, .close <span class="op">=</span> <span class="st">"&gt;&gt;"</span><span class="op">)</span>,</span>
<span>      <span class="va">chars</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="op">~</span> <span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"^&lt;&lt;value&gt;&gt;[0-9]{&lt;&lt;chars&gt;&gt;}$"</span>, .open <span class="op">=</span> <span class="st">"&lt;&lt;"</span>, .close <span class="op">=</span> <span class="st">"&gt;&gt;"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    pattern <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="va">neg</span> <span class="op">==</span> <span class="fl">1L</span> <span class="op">~</span> <span class="fu">glue</span><span class="fu">::</span><span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">'!{pattern}'</span><span class="op">)</span>, .default <span class="op">=</span> <span class="va">pattern</span><span class="op">)</span>,</span>
<span>    .after <span class="op">=</span> <span class="va">pattern</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">gt_preview</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">opt_table_font</span><span class="op">(</span>font <span class="op">=</span> <span class="fu">google_font</span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Fira Code"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">tab_options</span><span class="op">(</span>table.width <span class="op">=</span> <span class="fu">gt</span><span class="fu">::</span><span class="fu"><a href="https://gt.rstudio.com/reference/pct.html">pct</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>,</span>
<span>              quarto.disable_processing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="jahoswuaoj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Fira+Code:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#jahoswuaoj table {
  font-family: 'Fira Code', system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jahoswuaoj thead, #jahoswuaoj tbody, #jahoswuaoj tfoot, #jahoswuaoj tr, #jahoswuaoj td, #jahoswuaoj th {
  border-style: none;
}

#jahoswuaoj p {
  margin: 0;
  padding: 0;
}

#jahoswuaoj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jahoswuaoj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jahoswuaoj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jahoswuaoj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jahoswuaoj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jahoswuaoj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jahoswuaoj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jahoswuaoj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jahoswuaoj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jahoswuaoj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jahoswuaoj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jahoswuaoj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jahoswuaoj .gt_spanner_row {
  border-bottom-style: hidden;
}

#jahoswuaoj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jahoswuaoj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jahoswuaoj .gt_from_md > :first-child {
  margin-top: 0;
}

#jahoswuaoj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jahoswuaoj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jahoswuaoj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jahoswuaoj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jahoswuaoj .gt_row_group_first td {
  border-top-width: 2px;
}

#jahoswuaoj .gt_row_group_first th {
  border-top-width: 2px;
}

#jahoswuaoj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jahoswuaoj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jahoswuaoj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jahoswuaoj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jahoswuaoj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jahoswuaoj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jahoswuaoj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jahoswuaoj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jahoswuaoj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jahoswuaoj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jahoswuaoj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jahoswuaoj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jahoswuaoj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jahoswuaoj .gt_left {
  text-align: left;
}

#jahoswuaoj .gt_center {
  text-align: center;
}

#jahoswuaoj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jahoswuaoj .gt_font_normal {
  font-weight: normal;
}

#jahoswuaoj .gt_font_bold {
  font-weight: bold;
}

#jahoswuaoj .gt_font_italic {
  font-style: italic;
}

#jahoswuaoj .gt_super {
  font-size: 65%;
}

#jahoswuaoj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jahoswuaoj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jahoswuaoj .gt_indent_1 {
  text-indent: 5px;
}

#jahoswuaoj .gt_indent_2 {
  text-indent: 10px;
}

#jahoswuaoj .gt_indent_3 {
  text-indent: 15px;
}

#jahoswuaoj .gt_indent_4 {
  text-indent: 20px;
}

#jahoswuaoj .gt_indent_5 {
  text-indent: 25px;
}

#jahoswuaoj .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#jahoswuaoj div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="true" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="row">row</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="id_rule">id_rule</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="id_name">id_name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="id_order">id_order</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="var">var</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="action">action</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="value">value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="chars">chars</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="neg">neg</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wc">wc</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="pattern">pattern</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<th id="stub_1_1" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">1</th>
<td headers="stub_1_1 row" class="gt_row gt_right">4</td>
<td headers="stub_1_1 id_rule" class="gt_row gt_right">2</td>
<td headers="stub_1_1 id_name" class="gt_row gt_left">ALBCBS1</td>
<td headers="stub_1_1 id_order" class="gt_row gt_right">2</td>
<td headers="stub_1_1 var" class="gt_row gt_left">hcpcs</td>
<td headers="stub_1_1 action" class="gt_row gt_left">is</td>
<td headers="stub_1_1 value" class="gt_row gt_left">J</td>
<td headers="stub_1_1 chars" class="gt_row gt_right">4</td>
<td headers="stub_1_1 neg" class="gt_row gt_right">0</td>
<td headers="stub_1_1 wc" class="gt_row gt_right">1</td>
<td headers="stub_1_1 pattern" class="gt_row gt_center">^J[0-9]{4}$</td>
</tr>
<tr>
<th id="stub_1_2" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">2</th>
<td headers="stub_1_2 row" class="gt_row gt_right">8</td>
<td headers="stub_1_2 id_rule" class="gt_row gt_right">3</td>
<td headers="stub_1_2 id_name" class="gt_row gt_left">ALBCBS2</td>
<td headers="stub_1_2 id_order" class="gt_row gt_right">3</td>
<td headers="stub_1_2 var" class="gt_row gt_left">hcpcs</td>
<td headers="stub_1_2 action" class="gt_row gt_left">is one of</td>
<td headers="stub_1_2 value" class="gt_row gt_left">905</td>
<td headers="stub_1_2 chars" class="gt_row gt_right">2</td>
<td headers="stub_1_2 neg" class="gt_row gt_right">0</td>
<td headers="stub_1_2 wc" class="gt_row gt_right">1</td>
<td headers="stub_1_2 pattern" class="gt_row gt_center">^905[0-9]{2}$</td>
</tr>
<tr>
<th id="stub_1_3" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">3</th>
<td headers="stub_1_3 row" class="gt_row gt_right">8</td>
<td headers="stub_1_3 id_rule" class="gt_row gt_right">3</td>
<td headers="stub_1_3 id_name" class="gt_row gt_left">ALBCBS2</td>
<td headers="stub_1_3 id_order" class="gt_row gt_right">3</td>
<td headers="stub_1_3 var" class="gt_row gt_left">hcpcs</td>
<td headers="stub_1_3 action" class="gt_row gt_left">is one of</td>
<td headers="stub_1_3 value" class="gt_row gt_left">906</td>
<td headers="stub_1_3 chars" class="gt_row gt_right">2</td>
<td headers="stub_1_3 neg" class="gt_row gt_right">0</td>
<td headers="stub_1_3 wc" class="gt_row gt_right">1</td>
<td headers="stub_1_3 pattern" class="gt_row gt_center">^906[0-9]{2}$</td>
</tr>
<tr>
<th id="stub_1_4" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">4</th>
<td headers="stub_1_4 row" class="gt_row gt_right">8</td>
<td headers="stub_1_4 id_rule" class="gt_row gt_right">3</td>
<td headers="stub_1_4 id_name" class="gt_row gt_left">ALBCBS2</td>
<td headers="stub_1_4 id_order" class="gt_row gt_right">3</td>
<td headers="stub_1_4 var" class="gt_row gt_left">hcpcs</td>
<td headers="stub_1_4 action" class="gt_row gt_left">is one of</td>
<td headers="stub_1_4 value" class="gt_row gt_left">9071</td>
<td headers="stub_1_4 chars" class="gt_row gt_right">1</td>
<td headers="stub_1_4 neg" class="gt_row gt_right">0</td>
<td headers="stub_1_4 wc" class="gt_row gt_right">1</td>
<td headers="stub_1_4 pattern" class="gt_row gt_center">^9071[0-9]$</td>
</tr>
<tr>
<th id="stub_1_5" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">5</th>
<td headers="stub_1_5 row" class="gt_row gt_right">8</td>
<td headers="stub_1_5 id_rule" class="gt_row gt_right">3</td>
<td headers="stub_1_5 id_name" class="gt_row gt_left">ALBCBS2</td>
<td headers="stub_1_5 id_order" class="gt_row gt_right">3</td>
<td headers="stub_1_5 var" class="gt_row gt_left">hcpcs</td>
<td headers="stub_1_5 action" class="gt_row gt_left">is one of</td>
<td headers="stub_1_5 value" class="gt_row gt_left">9072</td>
<td headers="stub_1_5 chars" class="gt_row gt_right">1</td>
<td headers="stub_1_5 neg" class="gt_row gt_right">0</td>
<td headers="stub_1_5 wc" class="gt_row gt_right">1</td>
<td headers="stub_1_5 pattern" class="gt_row gt_center">^9072[0-9]$</td>
</tr>
<tr>
<th id="stub_1_6" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier; font-size: x-small; background-color: #E4E4E4;">6..2921</th>
<td headers="stub_1_6 row" class="gt_row gt_right" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 id_rule" class="gt_row gt_right" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 id_name" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 id_order" class="gt_row gt_right" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 var" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 action" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 value" class="gt_row gt_left" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 chars" class="gt_row gt_right" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 neg" class="gt_row gt_right" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 wc" class="gt_row gt_right" style="background-color: #E4E4E4;"></td>
<td headers="stub_1_6 pattern" class="gt_row gt_center" style="background-color: #E4E4E4;"></td>
</tr>
<tr>
<th id="stub_1_7" scope="row" class="gt_row gt_right gt_stub" style="font-family: Courier;">2922</th>
<td headers="stub_1_7 row" class="gt_row gt_right">3131</td>
<td headers="stub_1_7 id_rule" class="gt_row gt_right">1091</td>
<td headers="stub_1_7 id_name" class="gt_row gt_left">COMCD16</td>
<td headers="stub_1_7 id_order" class="gt_row gt_right">2</td>
<td headers="stub_1_7 var" class="gt_row gt_left">hcpcs</td>
<td headers="stub_1_7 action" class="gt_row gt_left">is one of</td>
<td headers="stub_1_7 value" class="gt_row gt_left">596</td>
<td headers="stub_1_7 chars" class="gt_row gt_right">2</td>
<td headers="stub_1_7 neg" class="gt_row gt_right">0</td>
<td headers="stub_1_7 wc" class="gt_row gt_right">1</td>
<td headers="stub_1_7 pattern" class="gt_row gt_center">^596[0-9]{2}$</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">northstar</span><span class="fu">::</span><span class="fu"><a href="https://andrewallenbruce.github.io/northstar/reference/search_descriptions.html">search_descriptions</a></span><span class="op">(</span>hcpcs_desc_type <span class="op">=</span> <span class="st">"Long"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="co"># dplyr::mutate(not_hcpcs = !grepl("^99[0-9]{3}$", hcpcs_code)) |&gt; </span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="st">"^99[0-9]{3,3}$"</span>, <span class="va">hcpcs_code</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="co"># dplyr::mutate(has_hcpcs = grepl("^J[0-9]{4}$", hcpcs_code)) |&gt; </span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="fu">str_detect</span><span class="op">(</span><span class="va">hcpcs_code</span>, <span class="fu">regex</span><span class="op">(</span><span class="st">"^J[0-9]{4}$"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="fu">str_detect</span><span class="op">(</span><span class="va">hcpcs_code</span>, <span class="fu">regex</span><span class="op">(</span><span class="st">"^(?!5405)(?&lt;![0-9]{1})$"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">200</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Match strings that don't start with "99" and don't end with 3 digits</span></span>
<span><span class="va">pattern</span> <span class="op">&lt;-</span> <span class="st">"^(?!99).*(?&lt;![0-9]{3})$"</span></span>
<span></span>
<span><span class="co"># Negation pattern</span></span>
<span><span class="st">"^(?!9938[0-9]{1}$)"</span></span>
<span></span>
<span><span class="co"># Begins with 0, ends with digit</span></span>
<span><span class="st">"^0.*\\d$"</span></span>
<span></span>
<span><span class="co"># Begins with 0, ends with letter</span></span>
<span><span class="st">"^0.*[A-Z]$"</span></span>
<span></span>
<span><span class="co"># Match strings that don't start with "a" and don't end with "z"</span></span>
<span><span class="va">pattern</span> <span class="op">&lt;-</span> <span class="st">"^(?!a).*[^z]$"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="va">pattern</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span><span class="op">)</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># Output: "banana" "cherry"</span></span>
<span></span>
<span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html">str_detect</a></span><span class="op">(</span><span class="st">"99202"</span>, <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/modifiers.html">regex</a></span><span class="op">(</span><span class="st">"^[992]{3}.*"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grep</a></span><span class="op">(</span><span class="st">"^[992]{3}.*"</span>, <span class="st">"99202"</span>, value <span class="op">=</span> <span class="cn">TRUE</span>, invert <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># pattern = dplyr::case_when(</span></span>
<span><span class="co">#   chars == 0 &amp; negation == FALSE ~ glue::glue("^&lt;value&gt;$", .open = "&lt;", .close = "&gt;"),</span></span>
<span><span class="co">#   chars &gt; 0  &amp; negation == FALSE ~ glue::glue("^&lt;value&gt;[0-9]{&lt;chars&gt;}$", .open = "&lt;", .close = "&gt;"),</span></span>
<span><span class="co">#   chars == 0 &amp; negation == TRUE ~ glue::glue("^(?!&lt;value&gt;)$", .open = "&lt;", .close = "&gt;"),</span></span>
<span><span class="co">#   chars &gt; 0  &amp; negation == TRUE ~ glue::glue("^(?!&lt;&lt;value&gt;&gt;)(?&lt;![0-9]{&lt;&lt;chars&gt;&gt;})$", .open = "&lt;&lt;", .close = "&gt;&gt;")</span></span>
<span><span class="co">#   ),</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


<!-- -->

</section><a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/andrewallenbruce\.github\.io\/acephale\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb17" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Building Claims Rules"</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co">    reference-location: block</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="an">editor_options:</span><span class="co"> </span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co">  chunk_output_type: console</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: setup</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">dev =</span> <span class="st">"ragg_png"</span>,</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">dpi =</span> <span class="dv">300</span>,</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">out.width =</span> <span class="st">"100%"</span>,</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">fig.width =</span> <span class="dv">8</span>,</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">fig.asp =</span> <span class="fl">0.618</span>,</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">fig.retina =</span> <span class="dv">2</span>,</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">fig.align =</span> <span class="st">"center"</span>,</span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">fig.show =</span> <span class="st">"hold"</span>)</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a><span class="fu">## Load Data</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: load_data</span></span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>rules_raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(</span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>  here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"posts/claims_rules/data/rules_raw.csv"</span>),</span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>  <span class="at">col_types =</span> <span class="fu">cols</span>(</span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a>  <span class="at">row =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>  <span class="at">id_rule =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a>  <span class="at">id_name =</span> <span class="fu">col_character</span>(),</span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a>  <span class="at">id_order =</span> <span class="fu">col_integer</span>(),</span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a>  <span class="at">category =</span> <span class="fu">col_factor</span>(),</span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a>  <span class="at">alert =</span> <span class="fu">col_character</span>(),</span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a>  <span class="at">var =</span> <span class="fu">col_character</span>(),</span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a>  <span class="at">action =</span> <span class="fu">col_character</span>(),</span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">col_character</span>(),</span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a>  <span class="at">rule =</span> <span class="fu">col_character</span>(),</span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a>  <span class="at">x9 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a>  <span class="at">x10 =</span> <span class="fu">col_character</span>()))</span>
<span id="cb17-58"><a href="#cb17-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-59"><a href="#cb17-59" aria-hidden="true" tabindex="-1"></a>rules_raw <span class="sc">|&gt;</span> </span>
<span id="cb17-60"><a href="#cb17-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt_preview</span>() <span class="sc">|&gt;</span> </span>
<span id="cb17-61"><a href="#cb17-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_table_font</span>(<span class="at">font =</span> <span class="fu">google_font</span>(<span class="at">name =</span> <span class="st">"Fira Code"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb17-62"><a href="#cb17-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(<span class="at">table.width =</span> <span class="fu">pct</span>(<span class="dv">100</span>),</span>
<span id="cb17-63"><a href="#cb17-63" aria-hidden="true" tabindex="-1"></a>              <span class="at">quarto.disable_processing =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-64"><a href="#cb17-64" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-65"><a href="#cb17-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-66"><a href="#cb17-66" aria-hidden="true" tabindex="-1"></a><span class="fu">### TODO: Problem Rows</span></span>
<span id="cb17-67"><a href="#cb17-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-70"><a href="#cb17-70" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-71"><a href="#cb17-71" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: rows_wrong</span></span>
<span id="cb17-72"><a href="#cb17-72" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb17-73"><a href="#cb17-73" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb17-74"><a href="#cb17-74" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb17-75"><a href="#cb17-75" aria-hidden="true" tabindex="-1"></a>rules_raw <span class="sc">|&gt;</span> </span>
<span id="cb17-76"><a href="#cb17-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(x10))</span>
<span id="cb17-77"><a href="#cb17-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-78"><a href="#cb17-78" aria-hidden="true" tabindex="-1"></a>rules_raw <span class="sc">|&gt;</span></span>
<span id="cb17-79"><a href="#cb17-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(var))</span>
<span id="cb17-80"><a href="#cb17-80" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-81"><a href="#cb17-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-82"><a href="#cb17-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-83"><a href="#cb17-83" aria-hidden="true" tabindex="-1"></a><span class="fu">## Rules</span></span>
<span id="cb17-84"><a href="#cb17-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-87"><a href="#cb17-87" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-88"><a href="#cb17-88" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: rules_new</span></span>
<span id="cb17-89"><a href="#cb17-89" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb17-90"><a href="#cb17-90" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb17-91"><a href="#cb17-91" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb17-92"><a href="#cb17-92" aria-hidden="true" tabindex="-1"></a>rules_new <span class="ot">&lt;-</span> rules_raw <span class="sc">|&gt;</span></span>
<span id="cb17-93"><a href="#cb17-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb17-94"><a href="#cb17-94" aria-hidden="true" tabindex="-1"></a>    row, </span>
<span id="cb17-95"><a href="#cb17-95" aria-hidden="true" tabindex="-1"></a>    id_rule, </span>
<span id="cb17-96"><a href="#cb17-96" aria-hidden="true" tabindex="-1"></a>    id_name,</span>
<span id="cb17-97"><a href="#cb17-97" aria-hidden="true" tabindex="-1"></a>    id_order, </span>
<span id="cb17-98"><a href="#cb17-98" aria-hidden="true" tabindex="-1"></a>    var, </span>
<span id="cb17-99"><a href="#cb17-99" aria-hidden="true" tabindex="-1"></a>    action, </span>
<span id="cb17-100"><a href="#cb17-100" aria-hidden="true" tabindex="-1"></a>    value) <span class="sc">|&gt;</span></span>
<span id="cb17-101"><a href="#cb17-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">var =</span> <span class="fu">case_match</span>(</span>
<span id="cb17-102"><a href="#cb17-102" aria-hidden="true" tabindex="-1"></a>    var,</span>
<span id="cb17-103"><a href="#cb17-103" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">"CPT CODE"</span>, </span>
<span id="cb17-104"><a href="#cb17-104" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CPT Code"</span>, </span>
<span id="cb17-105"><a href="#cb17-105" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CPT code"</span>, </span>
<span id="cb17-106"><a href="#cb17-106" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CPT"</span>, </span>
<span id="cb17-107"><a href="#cb17-107" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Code Check Expired CPT Alert (Presence)"</span>, </span>
<span id="cb17-108"><a href="#cb17-108" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CPT is one of"</span>) <span class="sc">~</span> <span class="st">"hcpcs"</span>,</span>
<span id="cb17-109"><a href="#cb17-109" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">"Mod1"</span>, </span>
<span id="cb17-110"><a href="#cb17-110" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CPT Mod1"</span>, </span>
<span id="cb17-111"><a href="#cb17-111" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CPT Mod 1"</span>, </span>
<span id="cb17-112"><a href="#cb17-112" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CPTMod1"</span>, </span>
<span id="cb17-113"><a href="#cb17-113" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Code Check CPT Mod Alert (Presence)"</span>, </span>
<span id="cb17-114"><a href="#cb17-114" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CPT MOD1"</span>, </span>
<span id="cb17-115"><a href="#cb17-115" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CPT Mod1 (Presence)"</span>) <span class="sc">~</span> <span class="st">"mod_1"</span>,</span>
<span id="cb17-116"><a href="#cb17-116" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">"Mod2"</span>, </span>
<span id="cb17-117"><a href="#cb17-117" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CPT MOD2"</span>, </span>
<span id="cb17-118"><a href="#cb17-118" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CPT Mod 2"</span>, </span>
<span id="cb17-119"><a href="#cb17-119" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CPT Mod2 (Presence)"</span>, </span>
<span id="cb17-120"><a href="#cb17-120" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CPTMod2"</span>, </span>
<span id="cb17-121"><a href="#cb17-121" aria-hidden="true" tabindex="-1"></a>        <span class="st">"CPT Mod2"</span>) <span class="sc">~</span> <span class="st">"mod_2"</span>,</span>
<span id="cb17-122"><a href="#cb17-122" aria-hidden="true" tabindex="-1"></a>      <span class="st">"CPT Mod3"</span> <span class="sc">~</span> <span class="st">"mod_3"</span>,</span>
<span id="cb17-123"><a href="#cb17-123" aria-hidden="true" tabindex="-1"></a>      <span class="st">"CPT Mod4"</span> <span class="sc">~</span> <span class="st">"mod_4"</span>,</span>
<span id="cb17-124"><a href="#cb17-124" aria-hidden="true" tabindex="-1"></a>      <span class="st">"CPT Units"</span> <span class="sc">~</span> <span class="st">"unit"</span>,</span>
<span id="cb17-125"><a href="#cb17-125" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">"Dx code"</span>, </span>
<span id="cb17-126"><a href="#cb17-126" aria-hidden="true" tabindex="-1"></a>        <span class="st">"DX Code"</span>, </span>
<span id="cb17-127"><a href="#cb17-127" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Dx Code"</span>, </span>
<span id="cb17-128"><a href="#cb17-128" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Code Check Expired DX Alert (Presence)"</span>) <span class="sc">~</span> <span class="st">"icd"</span>,</span>
<span id="cb17-129"><a href="#cb17-129" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">"Encounter Date of Service"</span>, </span>
<span id="cb17-130"><a href="#cb17-130" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Date of Service"</span>) <span class="sc">~</span> <span class="st">"dos"</span>,</span>
<span id="cb17-131"><a href="#cb17-131" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">"Location"</span>, </span>
<span id="cb17-132"><a href="#cb17-132" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Place of Service"</span>) <span class="sc">~</span> <span class="st">"pos"</span>,</span>
<span id="cb17-133"><a href="#cb17-133" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">"CPT UB04"</span>, </span>
<span id="cb17-134"><a href="#cb17-134" aria-hidden="true" tabindex="-1"></a>        <span class="st">"UB04 Bill Type"</span>) <span class="sc">~</span> <span class="st">"ub04"</span>,</span>
<span id="cb17-135"><a href="#cb17-135" aria-hidden="true" tabindex="-1"></a>      <span class="st">"CPT NDC (Presence)"</span> <span class="sc">~</span> <span class="st">"ndc"</span>,</span>
<span id="cb17-136"><a href="#cb17-136" aria-hidden="true" tabindex="-1"></a>      <span class="st">"CPT Rev Code"</span> <span class="sc">~</span> <span class="st">"rev_code"</span>,</span>
<span id="cb17-137"><a href="#cb17-137" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Code Check CCI Alert (Presence)"</span> <span class="sc">~</span> <span class="st">"cci"</span>,</span>
<span id="cb17-138"><a href="#cb17-138" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Code Check LCD Alert (Presence)"</span> <span class="sc">~</span> <span class="st">"lcd"</span>,</span>
<span id="cb17-139"><a href="#cb17-139" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Code Check NCD Alert (Presence)"</span> <span class="sc">~</span> <span class="st">"ncd"</span>,</span>
<span id="cb17-140"><a href="#cb17-140" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">"Patient Age"</span>, </span>
<span id="cb17-141"><a href="#cb17-141" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Code Check Age Alert (Presence)"</span>) <span class="sc">~</span> <span class="st">"age"</span>,</span>
<span id="cb17-142"><a href="#cb17-142" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">"Patient Sex"</span>, </span>
<span id="cb17-143"><a href="#cb17-143" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Code Check Gender Alert (Presence)"</span>) <span class="sc">~</span> <span class="st">"sex"</span>,</span>
<span id="cb17-144"><a href="#cb17-144" aria-hidden="true" tabindex="-1"></a>      <span class="st">"NA"</span> <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="cb17-145"><a href="#cb17-145" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Rendering Provider"</span> <span class="sc">~</span> <span class="st">"render"</span>,</span>
<span id="cb17-146"><a href="#cb17-146" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Referring Provider (Presence)"</span> <span class="sc">~</span> <span class="st">"refer"</span>,</span>
<span id="cb17-147"><a href="#cb17-147" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">"Primary Insurance Class"</span>, </span>
<span id="cb17-148"><a href="#cb17-148" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Primary Insurance class"</span>, </span>
<span id="cb17-149"><a href="#cb17-149" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Primary insurance class"</span>) <span class="sc">~</span> <span class="st">"iclass_prim"</span>,</span>
<span id="cb17-150"><a href="#cb17-150" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Primary Insurance"</span> <span class="sc">~</span> <span class="st">"iname_prim"</span>,</span>
<span id="cb17-151"><a href="#cb17-151" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Secondary Insurance Class"</span> <span class="sc">~</span> <span class="st">"iclass_sec"</span>,</span>
<span id="cb17-152"><a href="#cb17-152" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Secondary Insurance"</span> <span class="sc">~</span> <span class="st">"iname_sec"</span>,</span>
<span id="cb17-153"><a href="#cb17-153" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="st">"Primary Insurance Authorization (Presence)"</span>, </span>
<span id="cb17-154"><a href="#cb17-154" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Primary Insurance Authorization (Presence) is not [Present]"</span>) <span class="sc">~</span> <span class="st">"iauth_prim"</span>,</span>
<span id="cb17-155"><a href="#cb17-155" aria-hidden="true" tabindex="-1"></a>      <span class="at">.default =</span> var) <span class="sc">|&gt;</span> <span class="fu">as_factor</span>()) <span class="sc">|&gt;</span></span>
<span id="cb17-156"><a href="#cb17-156" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate_longer_delim</span>(<span class="at">cols =</span> value, <span class="at">delim =</span> <span class="st">","</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-157"><a href="#cb17-157" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">str_squish</span>(value),</span>
<span id="cb17-158"><a href="#cb17-158" aria-hidden="true" tabindex="-1"></a>         <span class="at">neg =</span> <span class="fu">case_when</span>(<span class="fu">str_detect</span>(action, <span class="st">"not"</span>) <span class="sc">~</span> <span class="dv">1</span>L, <span class="at">.default =</span> <span class="dv">0</span>L),</span>
<span id="cb17-159"><a href="#cb17-159" aria-hidden="true" tabindex="-1"></a>         <span class="at">wc =</span> <span class="fu">case_when</span>(<span class="fu">str_detect</span>(value, <span class="st">"</span><span class="sc">\\</span><span class="st">*"</span>) <span class="sc">~</span> <span class="dv">1</span>L, <span class="at">.default =</span> <span class="dv">0</span>L),</span>
<span id="cb17-160"><a href="#cb17-160" aria-hidden="true" tabindex="-1"></a>         <span class="at">.after =</span> value)</span>
<span id="cb17-161"><a href="#cb17-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-162"><a href="#cb17-162" aria-hidden="true" tabindex="-1"></a>rules_new <span class="sc">|&gt;</span> </span>
<span id="cb17-163"><a href="#cb17-163" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt_preview</span>() <span class="sc">|&gt;</span> </span>
<span id="cb17-164"><a href="#cb17-164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_table_font</span>(<span class="at">font =</span> <span class="fu">google_font</span>(<span class="at">name =</span> <span class="st">"Fira Code"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb17-165"><a href="#cb17-165" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(<span class="at">table.width =</span> <span class="fu">pct</span>(<span class="dv">100</span>),</span>
<span id="cb17-166"><a href="#cb17-166" aria-hidden="true" tabindex="-1"></a>              <span class="at">quarto.disable_processing =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-167"><a href="#cb17-167" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-168"><a href="#cb17-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-169"><a href="#cb17-169" aria-hidden="true" tabindex="-1"></a><span class="fu">### Distinct Rules</span></span>
<span id="cb17-170"><a href="#cb17-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-173"><a href="#cb17-173" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-174"><a href="#cb17-174" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: distinct</span></span>
<span id="cb17-175"><a href="#cb17-175" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb17-176"><a href="#cb17-176" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb17-177"><a href="#cb17-177" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb17-178"><a href="#cb17-178" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">n_distinct</span>(rules_new<span class="sc">$</span>id_rule))</span>
<span id="cb17-179"><a href="#cb17-179" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-180"><a href="#cb17-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-181"><a href="#cb17-181" aria-hidden="true" tabindex="-1"></a><span class="fu">## Variables</span></span>
<span id="cb17-182"><a href="#cb17-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-185"><a href="#cb17-185" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-186"><a href="#cb17-186" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: vars</span></span>
<span id="cb17-187"><a href="#cb17-187" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb17-188"><a href="#cb17-188" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb17-189"><a href="#cb17-189" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb17-190"><a href="#cb17-190" aria-hidden="true" tabindex="-1"></a>rules_raw <span class="sc">|&gt;</span></span>
<span id="cb17-191"><a href="#cb17-191" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(var)) <span class="sc">|&gt;</span> </span>
<span id="cb17-192"><a href="#cb17-192" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(var) <span class="sc">|&gt;</span></span>
<span id="cb17-193"><a href="#cb17-193" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(var) <span class="sc">|&gt;</span> </span>
<span id="cb17-194"><a href="#cb17-194" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb17-195"><a href="#cb17-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-196"><a href="#cb17-196" aria-hidden="true" tabindex="-1"></a>rules_new <span class="sc">|&gt;</span></span>
<span id="cb17-197"><a href="#cb17-197" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(var)) <span class="sc">|&gt;</span> </span>
<span id="cb17-198"><a href="#cb17-198" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="at">var =</span> <span class="fu">as.character</span>(var)) <span class="sc">|&gt;</span></span>
<span id="cb17-199"><a href="#cb17-199" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(var) <span class="sc">|&gt;</span> </span>
<span id="cb17-200"><a href="#cb17-200" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb17-201"><a href="#cb17-201" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-202"><a href="#cb17-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-203"><a href="#cb17-203" aria-hidden="true" tabindex="-1"></a><span class="fu">## Actions</span></span>
<span id="cb17-204"><a href="#cb17-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-207"><a href="#cb17-207" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-208"><a href="#cb17-208" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: actions</span></span>
<span id="cb17-209"><a href="#cb17-209" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb17-210"><a href="#cb17-210" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb17-211"><a href="#cb17-211" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb17-212"><a href="#cb17-212" aria-hidden="true" tabindex="-1"></a>rules_raw <span class="sc">|&gt;</span></span>
<span id="cb17-213"><a href="#cb17-213" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(action)) <span class="sc">|&gt;</span></span>
<span id="cb17-214"><a href="#cb17-214" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(action) <span class="sc">|&gt;</span></span>
<span id="cb17-215"><a href="#cb17-215" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(action) <span class="sc">|&gt;</span> </span>
<span id="cb17-216"><a href="#cb17-216" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="at">sep =</span> <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb17-217"><a href="#cb17-217" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-218"><a href="#cb17-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-219"><a href="#cb17-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-220"><a href="#cb17-220" aria-hidden="true" tabindex="-1"></a><span class="fu">## Generating Regexes</span></span>
<span id="cb17-221"><a href="#cb17-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-224"><a href="#cb17-224" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-225"><a href="#cb17-225" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: regex</span></span>
<span id="cb17-226"><a href="#cb17-226" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb17-227"><a href="#cb17-227" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb17-228"><a href="#cb17-228" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb17-229"><a href="#cb17-229" aria-hidden="true" tabindex="-1"></a>rules_new <span class="sc">|&gt;</span> </span>
<span id="cb17-230"><a href="#cb17-230" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb17-231"><a href="#cb17-231" aria-hidden="true" tabindex="-1"></a>    wc <span class="sc">==</span> <span class="dv">1</span>,</span>
<span id="cb17-232"><a href="#cb17-232" aria-hidden="true" tabindex="-1"></a>    <span class="co"># action == "has all",</span></span>
<span id="cb17-233"><a href="#cb17-233" aria-hidden="true" tabindex="-1"></a>    var <span class="sc">==</span> <span class="st">"hcpcs"</span></span>
<span id="cb17-234"><a href="#cb17-234" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb17-235"><a href="#cb17-235" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb17-236"><a href="#cb17-236" aria-hidden="true" tabindex="-1"></a>    <span class="at">value =</span> <span class="fu">str_remove_all</span>(value, <span class="st">"</span><span class="sc">\\</span><span class="st">*"</span>),</span>
<span id="cb17-237"><a href="#cb17-237" aria-hidden="true" tabindex="-1"></a>    <span class="at">chars =</span> <span class="dv">5</span> <span class="sc">-</span> <span class="fu">str_length</span>(value),</span>
<span id="cb17-238"><a href="#cb17-238" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> value</span>
<span id="cb17-239"><a href="#cb17-239" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb17-240"><a href="#cb17-240" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb17-241"><a href="#cb17-241" aria-hidden="true" tabindex="-1"></a>    <span class="at">pattern =</span> <span class="fu">case_when</span>(</span>
<span id="cb17-242"><a href="#cb17-242" aria-hidden="true" tabindex="-1"></a>      chars <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"^&lt;&lt;value&gt;&gt;$"</span>, <span class="at">.open =</span> <span class="st">"&lt;&lt;"</span>, <span class="at">.close =</span> <span class="st">"&gt;&gt;"</span>),</span>
<span id="cb17-243"><a href="#cb17-243" aria-hidden="true" tabindex="-1"></a>      chars <span class="sc">==</span> <span class="dv">1</span> <span class="sc">~</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"^&lt;&lt;value&gt;&gt;[0-9]$"</span>, <span class="at">.open =</span> <span class="st">"&lt;&lt;"</span>, <span class="at">.close =</span> <span class="st">"&gt;&gt;"</span>),</span>
<span id="cb17-244"><a href="#cb17-244" aria-hidden="true" tabindex="-1"></a>      chars <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">~</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"^&lt;&lt;value&gt;&gt;[0-9]{&lt;&lt;chars&gt;&gt;}$"</span>, <span class="at">.open =</span> <span class="st">"&lt;&lt;"</span>, <span class="at">.close =</span> <span class="st">"&gt;&gt;"</span>)),</span>
<span id="cb17-245"><a href="#cb17-245" aria-hidden="true" tabindex="-1"></a>    <span class="at">pattern =</span> <span class="fu">case_when</span>(neg <span class="sc">==</span> <span class="dv">1</span>L <span class="sc">~</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">'!{pattern}'</span>), <span class="at">.default =</span> pattern),</span>
<span id="cb17-246"><a href="#cb17-246" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> pattern</span>
<span id="cb17-247"><a href="#cb17-247" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb17-248"><a href="#cb17-248" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt_preview</span>() <span class="sc">|&gt;</span> </span>
<span id="cb17-249"><a href="#cb17-249" aria-hidden="true" tabindex="-1"></a>  <span class="fu">opt_table_font</span>(<span class="at">font =</span> <span class="fu">google_font</span>(<span class="at">name =</span> <span class="st">"Fira Code"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb17-250"><a href="#cb17-250" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(<span class="at">table.width =</span> gt<span class="sc">::</span><span class="fu">pct</span>(<span class="dv">100</span>),</span>
<span id="cb17-251"><a href="#cb17-251" aria-hidden="true" tabindex="-1"></a>              <span class="at">quarto.disable_processing =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-252"><a href="#cb17-252" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-253"><a href="#cb17-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-254"><a href="#cb17-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-257"><a href="#cb17-257" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-258"><a href="#cb17-258" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: misc</span></span>
<span id="cb17-259"><a href="#cb17-259" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb17-260"><a href="#cb17-260" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb17-261"><a href="#cb17-261" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb17-262"><a href="#cb17-262" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb17-263"><a href="#cb17-263" aria-hidden="true" tabindex="-1"></a>northstar<span class="sc">::</span><span class="fu">search_descriptions</span>(<span class="at">hcpcs_desc_type =</span> <span class="st">"Long"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-264"><a href="#cb17-264" aria-hidden="true" tabindex="-1"></a>  <span class="co"># dplyr::mutate(not_hcpcs = !grepl("^99[0-9]{3}$", hcpcs_code)) |&gt; </span></span>
<span id="cb17-265"><a href="#cb17-265" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">"^99[0-9]{3,3}$"</span>, hcpcs_code)) <span class="sc">|&gt;</span></span>
<span id="cb17-266"><a href="#cb17-266" aria-hidden="true" tabindex="-1"></a>  <span class="co"># dplyr::mutate(has_hcpcs = grepl("^J[0-9]{4}$", hcpcs_code)) |&gt; </span></span>
<span id="cb17-267"><a href="#cb17-267" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(hcpcs_code, <span class="fu">regex</span>(<span class="st">"^J[0-9]{4}$"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb17-268"><a href="#cb17-268" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(hcpcs_code, <span class="fu">regex</span>(<span class="st">"^(?!5405)(?&lt;![0-9]{1})$"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb17-269"><a href="#cb17-269" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="dv">200</span>)</span>
<span id="cb17-270"><a href="#cb17-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-271"><a href="#cb17-271" aria-hidden="true" tabindex="-1"></a><span class="co"># Match strings that don't start with "99" and don't end with 3 digits</span></span>
<span id="cb17-272"><a href="#cb17-272" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="st">"^(?!99).*(?&lt;![0-9]{3})$"</span></span>
<span id="cb17-273"><a href="#cb17-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-274"><a href="#cb17-274" aria-hidden="true" tabindex="-1"></a><span class="co"># Negation pattern</span></span>
<span id="cb17-275"><a href="#cb17-275" aria-hidden="true" tabindex="-1"></a><span class="st">"^(?!9938[0-9]{1}$)"</span></span>
<span id="cb17-276"><a href="#cb17-276" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-277"><a href="#cb17-277" aria-hidden="true" tabindex="-1"></a><span class="co"># Begins with 0, ends with digit</span></span>
<span id="cb17-278"><a href="#cb17-278" aria-hidden="true" tabindex="-1"></a><span class="st">"^0.*</span><span class="sc">\\</span><span class="st">d$"</span></span>
<span id="cb17-279"><a href="#cb17-279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-280"><a href="#cb17-280" aria-hidden="true" tabindex="-1"></a><span class="co"># Begins with 0, ends with letter</span></span>
<span id="cb17-281"><a href="#cb17-281" aria-hidden="true" tabindex="-1"></a><span class="st">"^0.*[A-Z]$"</span></span>
<span id="cb17-282"><a href="#cb17-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-283"><a href="#cb17-283" aria-hidden="true" tabindex="-1"></a><span class="co"># Match strings that don't start with "a" and don't end with "z"</span></span>
<span id="cb17-284"><a href="#cb17-284" aria-hidden="true" tabindex="-1"></a>pattern <span class="ot">&lt;-</span> <span class="st">"^(?!a).*[^z]$"</span></span>
<span id="cb17-285"><a href="#cb17-285" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(pattern, <span class="fu">c</span>(<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span>), <span class="at">value =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-286"><a href="#cb17-286" aria-hidden="true" tabindex="-1"></a><span class="co"># Output: "banana" "cherry"</span></span>
<span id="cb17-287"><a href="#cb17-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-288"><a href="#cb17-288" aria-hidden="true" tabindex="-1"></a>stringr<span class="sc">::</span><span class="fu">str_detect</span>(<span class="st">"99202"</span>, stringr<span class="sc">::</span><span class="fu">regex</span>(<span class="st">"^[992]{3}.*"</span>))</span>
<span id="cb17-289"><a href="#cb17-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-290"><a href="#cb17-290" aria-hidden="true" tabindex="-1"></a><span class="fu">grep</span>(<span class="st">"^[992]{3}.*"</span>, <span class="st">"99202"</span>, <span class="at">value =</span> <span class="cn">TRUE</span>, <span class="at">invert =</span> <span class="cn">TRUE</span>)</span>
<span id="cb17-291"><a href="#cb17-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-292"><a href="#cb17-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-293"><a href="#cb17-293" aria-hidden="true" tabindex="-1"></a><span class="co"># pattern = dplyr::case_when(</span></span>
<span id="cb17-294"><a href="#cb17-294" aria-hidden="true" tabindex="-1"></a><span class="co">#   chars == 0 &amp; negation == FALSE ~ glue::glue("^&lt;value&gt;$", .open = "&lt;", .close = "&gt;"),</span></span>
<span id="cb17-295"><a href="#cb17-295" aria-hidden="true" tabindex="-1"></a><span class="co">#   chars &gt; 0  &amp; negation == FALSE ~ glue::glue("^&lt;value&gt;[0-9]{&lt;chars&gt;}$", .open = "&lt;", .close = "&gt;"),</span></span>
<span id="cb17-296"><a href="#cb17-296" aria-hidden="true" tabindex="-1"></a><span class="co">#   chars == 0 &amp; negation == TRUE ~ glue::glue("^(?!&lt;value&gt;)$", .open = "&lt;", .close = "&gt;"),</span></span>
<span id="cb17-297"><a href="#cb17-297" aria-hidden="true" tabindex="-1"></a><span class="co">#   chars &gt; 0  &amp; negation == TRUE ~ glue::glue("^(?!&lt;&lt;value&gt;&gt;)(?&lt;![0-9]{&lt;&lt;chars&gt;&gt;})$", .open = "&lt;&lt;", .close = "&gt;&gt;")</span></span>
<span id="cb17-298"><a href="#cb17-298" aria-hidden="true" tabindex="-1"></a><span class="co">#   ),</span></span>
<span id="cb17-299"><a href="#cb17-299" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>© Copyright 2024 Andrew Allen Bruce. Except where otherwise noted, all text and images licensed CC-BY-NC 4.0.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>


<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>