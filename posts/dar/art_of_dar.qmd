---
title: "The Art of DAR"
description: "An (exhaustive) overview of the Days in AR metric from a healthcare reimbursement perspective."
format:
  html:
    reference-location: block
editor_options: 
  chunk_output_type: console
---

```{r}
#| label: setup
#| message: false
#| warning: false
#| echo: false
#| cache: false

knitr::opts_chunk$set(
  collapse  = FALSE,
  echo      = TRUE, 
  message   = FALSE, 
  warning   = FALSE,
  error     = TRUE,
  comment   = "",
  dpi       = 300, 
  dev       = "ragg_png",
  out.width = "100%",
  fig.align = "center",
  fig.width = 8
)
options(scipen = 999)
library(tidyverse)
library(gt)
library(forager)
```


## Introduction

**Average Days in Accounts Receivable** (**DAR** or **Average Days in AR**) is a common financial metric known as an *efficiency ratio*. 

**DAR** measures the average number of days it takes for a business to collect money owed for services rendered from the responsible parties.

Its function in the healthcare revenue cycle is as a high-level monitor of the financial health of a healthcare entity.

The following is a thorough overview of everything you never knew you didn’t want to know about **DAR**. Let’s start off with some background and terminology.

Aging of Accounts
: An **account** is a billable episode of care. It begins to **age** once it is billed to the **guarantor** .These *outstanding* accounts are monitored in 30-day blocks or **bins** ($[0, 30)$, $[31, 60)$, $[61, 90)$, $[91, 120)$, and $[121, \infty)$) by the number of accounts, the amount owed by each bin and the responsible parties. The older the account, the less likely it will be paid.

Guarantor
: The responsible party for the amount owed (an insurance payer, a patient, etc.) Most claims are originally billed to insurance and, until the insurance makes a payment, the responsibility for the payment continues to be with the insurance payer. After the payer makes or denies a payment (with no just cause for an appeal), the responsibility for the balance of goes to the patient (to be sent an invoice) or the physician (to be written off.)

Accounts Receivable
: AR represents money owed to the healthcare practice by patients and/or insurance carriers. The AR balance is the total charges billed to an insurance payer or patient for services rendered but not yet collected. The balance can only be reduced by payment or by adjustments, contractual or otherwise. The AR cycle begins with the delivery of services and ends with **reconciliation**, or when the balance owed equals zero. 

Average Days in AR
: A mathematical formula for the average number of days it takes a business to collect money that it is owed. A low average is good. A high average signals a problem within the revenue cycle.

So now you know that a low Days in AR number is good and a high number is bad. 

How low is good though? How high is bad? 

Let’s say that a practice has a DAR of 95 days. This means that, on average, it takes the practice 95 days to collect it’s outstanding balances. Let’s start with what we can say for sure about a Days in AR of 95:

   1. 95 days is roughly equal to a little over three months.
   2. Therefore, there is three months of unpaid work sitting in Accounts Receivable.
   3. As such, this practice will need three months of cash reserves on hand to meet its financial obligations.

The *“ideal”* Days in AR depends entirely upon the medical practice, its customers (patients), its customers’ payers, the services it supplies, the providers performing those services, and the financial situation of the practice.

<br>

::: {.callout-tip}

## The American Healthcare Economic Model

To understand the healthcare version of Days in AR, you need to first understand the environment in which it is used. 

Typically, companies sell their products or services directly to consumers and are paid immediately at the point of service (POS). This is called a **business-to-consumer** revenue model. 

Another revenue model type is the **business-to-business (B2B)** model, concerning businesses that transact primarily with each other. Purchases between two businesses tend to be much larger. As such, B2B businesses invoice on a monthly basis, meaning no payment for 30+ days.

Somewhere in between these two models is the American healthcare system. This gray area is caused by a middleman called a third party payer. Better known as an insurance company, providers enter into a contractual agreement with this third party to be paid for their services at a reduced rate. 

In exchange, a provider gains access to the payer’s large subscriber base. The difference between the charge a provider submits to a payer and the contracted rate he or she has agreed to is called the **contractual adjustment**, which is written off once a claim has been adjudicated.

The contractual adjustment introduces a critical inefficiency to the healthcare revenue model. Rather than prices being determined by supply and demand, they are set by individually negotiated arrangements, the end result of which is no real demand or pricing curve. 

This issue is much too complex for me to properly do justice to here. It is, however, an essential concept to grasp when trying to understand healthcare reimbursement. In other words, healthcare reimbursement is crazy, not you.

::: 

<br>

{{< pagebreak >}}



## DAR Formula

The formula for DAR is as follows:

$$ \overline{dar} = \frac{ear_b}{gc_t\div days_n} $$

Where:

   + $days_n$ Number of Days in the Period Literally the number of days in the period for which you are calculating Days in AR. DAR is typically measured in monthly and quarterly increments, so this number will usually be around 30 or 90.
   + **Total Gross Charges:** The total dollar amount (derived from the practice’s fee schedule^[A list of fees physicians establish as the fair price for the services they provide. Keep in mind that this is not the same as a payment schedule.]) charged by the practice during the period that you are measuring.
   + **Ending AR Balance:** The Accounts Receivable balance at the close of business on the final day of the period that you are measuring.



{{< pagebreak >}}

### Step-by-Step Example

Let’s say we want to calculate the Days in AR for January 2024. Our Gross Charges total is **\$131,440.30** and our Ending AR Balance is **\$203,460.00**:

```{r}
#| label: ex_step_1
#| echo: true
ex <- dplyr::tibble(
  `End Date` = as.Date("2024-01-31"),
  `Gross Charges` = 131440.30,
  `Ending AR Balance` = 203460.00,
  `Days in Period` = lubridate::days_in_month(`End Date`)
  )

ex |> 
  gt::gt() |> 
  gt::fmt_currency(columns = 2:3, decimals = 2, incl_space = TRUE) |> 
  gt::opt_table_font(font = gt::google_font("Roboto Condensed")) |> 
  gt::opt_stylize() |> 
  gt::tab_options(
    table.width = "100%",
    quarto.disable_processing = TRUE, 
    column_labels.font.weight = "bold")
```


We have the three numbers we need, let’s plug them into our formula:

```{r}
#| label: ex_step_2
#| echo: true
ex <- ex |> 
  dplyr::mutate(
    `Avg. Daily Charge` = `Gross Charges` / `Days in Period`,
    `Avg. Days in AR` = `Ending AR Balance` / `Avg. Daily Charge`
    )

ex |> 
  gt::gt() |> 
  gt::fmt_currency(columns = c(2:3, 5), decimals = 2, incl_space = TRUE) |> 
  gt::fmt_number(columns = 6, decimals = 2) |>
  gt::opt_table_font(font = gt::google_font("Roboto Condensed")) |> 
  gt::opt_stylize() |> 
  gt::tab_options(
    table.width = "100%",
    quarto.disable_processing = TRUE, 
    column_labels.font.weight = "bold")
```


And there we have it, our Average Daily Charge is **\$4,240.01** and our Days in AR is **47.99**.

## Building on the DAR Formula

Now that we have a basic understanding of the formula for Days in AR, we can expand upon and rearrange it to do many other things.

One thing we’ll need to do is to declare a Days in AR target or DARt, which is the benchmark or threshold that we’d like to keep our Days in AR under for the time period being measured. For the time being, we’ll make it 35 days.

As well, to simply things a bit, I’m going to use acronyms for these long variable names. They are as follows:

```{r}
#| label: acronyms
#| echo: true
dplyr::tibble(
  `Acronym` = c("`NDiP`", "`GCt`", "`EARb`", "`ADC`", "`DAR`", "`DARt`"),
  `Variable` = c("Number of Days in Period", 
                 "Total Gross Charges", 
                 "Ending AR Balance", 
                 "Average Daily Charge", 
                 "Average Days in AR", 
                 "Average Days in AR Target")) |> 
  gt::gt(process_md = TRUE) |> 
  gt::fmt_markdown(columns = 1, md_engine = "commonmark") |>
  gt::opt_table_font(font = gt::google_font("Roboto Condensed")) |> 
  gt::opt_stylize() |> 
  gt::tab_options(
    table.width = "100%",
    quarto.disable_processing = TRUE, 
    column_labels.font.weight = "bold")
```

## EARb Target for DARt

In the first example, our DAR was 47.99. That’s approximately 13 days over our DARt of 35. What would our EARB need to have been to bring us under our DARt? Here’s our formula:

$$ ear_t = (\ dar_t \times gc_t\ )\ \div days_n $$

We’ll calculate the EARB we needed as well as the difference between the two AR figures:

```{r}
#| label: ex_step_3
#| echo: true
ex <- ex |> 
  dplyr::reframe(
    GCt = `Gross Charges`,
    EARb = `Ending AR Balance`,
    NDiP = `Days in Period`,
    ADC = `Gross Charges` / `NDiP`,
    DAR = `EARb` / `ADC`,
    DARt = 35,
    EARt = (`DAR Target` * `GCt`) / `NDiP`,
    Difference = `EARb Target` - `EARb`,
    Percentage = `Difference` / `ADC`
    )

ex |> 
  gt::gt() |> 
  gt::fmt_currency(columns = c(2:3, 5), decimals = 2, incl_space = TRUE) |> 
  gt::fmt_number(columns = 6, decimals = 2) |>
  gt::opt_table_font(font = gt::google_font("Roboto Condensed")) |> 
  gt::opt_stylize() |> 
  gt::tab_options(
    table.width = "100%",
    quarto.disable_processing = TRUE, 
    column_labels.font.weight = "bold")
```


{{< pagebreak >}}

```{r}
sessioninfo::session_info()
```
