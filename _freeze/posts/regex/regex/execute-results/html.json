{
  "hash": "0d06a8a54750af57c745f519af5dc12e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"codex: Medical Code Regex Builder\"\nsubtitle: \"I Promised Myself I Wouldn't Do This Again\"\ndescription: \"Building a regex generator for self-contained, well-defined string detection problems is a very effective way to learn regular expressions.\"\nformat:\n  html:\n    reference-location: margin\n    other-links:\n      - text: Regex Cheatsheet\n        icon: bookmark-plus\n        href: https://github.com/raredd/regex\n      - text: RexEgg\n        icon: bookmark-plus\n        href: https://www.rexegg.com/\n      - text: Regex in R\n        icon: bookmark-plus\n        href: https://stat.ethz.ch/R-manual/R-devel/library/base/html/regex.html\neditor_options: \n  chunk_output_type: console\ncallout-appearance: simple\n---\n\n::: {.cell}\n\n:::\n\n\n\n\n# TODO {.unnumbered}\n\n   * The *postfix* for a **wildcard** that begins with a **letter** is `[0-9]{n}`.\n   * In `remove_redundant()`, try pmap for `rr()` step.\n   * Groups 3, 4 & 5 beginning with letters.\n   * Group 5 ending with letters.\n\n\n<hr>\n\n::: {#note-good .callout-note collapse=\"true\"}\n\n### Good Examples\n\n### Case 1\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlist(\"L80\", \n     c(\"L56\", \"L59\"))\n\nlength(sf_extract(hcpcs, \"^L56|^L59|^L80\"))\nlength(sf_extract(hcpcs, \"^L(5[69]|80)[0-9]{2}$\"))\n\nbench::mark(\n  raw = sf_extract(hcpcs, \"^L56|^L59|^L80\"),\n  compact = sf_extract(hcpcs, \"^L(5[69]|80)[0-9]{2}$\"),\n  iterations = 10000) |> \n  select(expression:total_time)\n```\n:::\n\n\n\n\n### Case 2\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlist(c(\"021\", \"022\", \"026\", \"027\"), \n     c(\"032\", \"033\"), \n     c(\"042\", \"044\"), \n     \"050\")\n\nbench::mark(\n  raw = sf_extract(hcpcs, \"^021|^022|^026|^027|^032|^033|^042|^044|^050\"),\n  compact = sf_extract(hcpcs, sf_convert(\"^0(2[1267]|3[23]|4[24]|50)[A-Z0-9]{2}$\")),\n  iterations = 10000) |> \n  select(expression:total_time)\n```\n:::\n\n\n\n\n### Case 3\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlist(c(\"C75\", \"C97\"),\n     c(\"G02\", \"G04\"))\n\nlength(sf_extract(hcpcs, \"^C75|^C97|^G02|^G04\"))\nlength(sf_extract(hcpcs, \"^C(75|97)[0-9]{2}$|^G0[24][0-9]{2}$\"))\nlength(sf_extract(hcpcs, \"^(C(75|97)|G0[24])[0-9]{2}$\"))\n\nbench::mark(\n  raw = sf_extract(hcpcs, \"^C75|^C97|^G02|^G04\"),\n  reduced = sf_extract(hcpcs, \"^C(75|97)[0-9]{2}$|^G0[24][0-9]{2}$\"),\n  compact = sf_extract(hcpcs, sf_convert(\"^(C(75|97)|G0[24])[0-9]{2}$\")),\n  iterations = 10000) |> \n  select(expression:total_time)\n```\n:::\n\n\n\n\n### Case 4\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlist(\"0[2-5]\", \n     \"15\", \n     \"2[027]\", \n     \"3[0-24-6]\", \n     \"5[0458]\", \n     \"6[134]\", \n     \"76\", \n     \"9[25]\", \n     \"C[79]\", \n     \"E0\", \n     \"G0\", \n     \"S2\") -> c4list\n\nc4list\n\nc4raw <- \"^02|^03|^04|^05|^15|^20|^22|^27|^30|^31|^32|^34|^35|^36|^50|^54|^55|^58|^61|^63|^64|^76|^92|^95|^C7|^C9|^E0|^G0|^S2\"\n\nc4compact <- paste0(\"^(\", sf_collapse(list_c(c4list), collapse = \"|\"), \")[A-Z0-9]{3}$\")\n\nlength(sf_extract(hcpcs, c4raw))\nlength(sf_extract(hcpcs, c4compact))\n\nbench::mark(\n  raw = sf_extract(hcpcs, c4raw),\n  compact = sf_extract(hcpcs, c4compact),\n  iterations = 10000) |> \n  select(expression:total_time)\n```\n:::\n\n\n\n\n::: \n\n<hr>\n\n# Preprocess Steps\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nutils::formatOL(\n  c(\"Mix dry ingredients thoroughly.\",\n       \"Pour in wet ingredients.\",\n       \"Mix for 10 minutes.\",\n       \"Bake for one hour at 300 degrees.\"),\n  offset = 3\n  ) |> \n  writeLines()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   1. Mix dry ingredients thoroughly.\n   2. Pour in wet ingredients.\n   3. Mix for 10 minutes.\n   4. Bake for one hour at 300 degrees.\n```\n\n\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nview_length <- \\(x) {\n  grp_name <- format(seq_along(x))\n  grp_size <- format(vlen(x), justify = \"left\")\n  grp_mems <- unname(x)\n  grp_mems <- if (empty(grp_mems)) NULL else format(grp_mems, justify = \"none\")\n  cli::cat_bullet(glue::glue(\"{grp_name}: \", \"{grp_size}|\", \"-[{grp_mems}]\"))\n  return(invisible(x))\n}\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nview_first <- \\(x) {\n  grp_name <- format(seq_along(x))\n  grp_size <- format(vlen(x), justify = \"left\")\n  \n  grp_mems <- purrr::modify_if(x, is.list, \\(x) map_chr(x, \\(x) paste0(\"<\", paste0(x, collapse = \" \"), \">\")))\n  grp_mems <- if (empty(grp_mems)) NULL else format(unname(grp_mems), justify = \"none\")\n\n  cli::cat_bullet(glue::glue(\"{grp_name}: \", \"{grp_size}|\", \"-[{grp_mems}]\"))\n  \n  return(invisible(x))\n}\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nx <- random_hcpcs(50)\n\nx |> \n  split_lengths() |> \n  view_length()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n• 1:  2|-[6, F]\n• 2: 43|-[08, 10, 15, 19, 21, 27, 32, 33, 35, 38, 40, 43, 45, 46, 48, 50, 60, 65, 74, 82, 83, 84, 86, 89, 93, 97, A2, C7, C9, E1, E2, G2, G8, J7, J9, L2, L3, L5, M1, Q0, S1, S9, T2]\n• 3: 46|-[001, 008, 017, 061, 076, 110, 200, 222, 256, 260, 275, 284, 315, 347, 387, 436, 502, 541, 574, 622, 721, 743, 766, 769, 770, 784, 881, 904, 929, 971, 993, A45, A64, C90, E02, G86, G87, G90, J32, L04, L16, L43, M11, S06, S55, S91]\n• 4: 50|-[0014, 0142, 0152, 0185, 0306, 2060, 2134, 2155, 2193, 2430, 2524, 2614, 2733, 2770, 3471, 3625, 4151, 4327, 4920, 5327, 6575, 6795, 7573, 8121, 8541, 8561, 9222, 9960, A623, E029, E220, E232, E239, G213, G920, G974, J021, J180, J243, J332, L102, L390, L594, L688, P902, Q999, S004, S226, V520, V528]\n• 5: 50|-[00561, 00790, 01160, 0286U, 0343T, 1065F, 29710, 33266, 33690, 3378F, 37243, 42720, 47563, 53660, 54417, 58321, 61597, 63251, 63741, 64755, 78433, 80400, 82435, 95970, 95991, 96374, A6536, C2641, C9724, E0205, E1003, G0268, G6009, G9152, G9216, G9221, G9760, G9831, G9917, H0014, J0136, J1826, J9263, L1690, L1832, L3206, L3530, Q0499, S4042, V5249]\n```\n\n\n:::\n\n```{.r .cell-code}\nx |>\n  split_lengths() |> \n  remove_redundant() |>\n  view_length()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n• 1:  2|-[6, F]\n• 2: 41|-[08, 10, 15, 19, 21, 27, 32, 33, 35, 38, 40, 43, 45, 46, 48, 50, 74, 82, 83, 84, 86, 89, 93, 97, A2, C7, C9, E1, E2, G2, G8, J7, J9, L2, L3, L5, M1, Q0, S1, S9, T2]\n• 3: 34|-[001, 008, 017, 061, 076, 110, 200, 222, 256, 260, 284, 315, 347, 541, 574, 721, 766, 769, 770, 784, 881, 904, 929, 993, A45, A64, E02, G90, J32, L04, L16, L43, S06, S55]\n• 4: 33|-[0142, 0152, 0185, 0306, 2060, 2430, 2524, 2614, 3625, 4151, 4920, 5327, 7573, 8121, 8541, 8561, 9222, 9960, A623, G920, G974, J021, J180, J243, J332, L102, L688, P902, Q999, S004, S226, V520, V528]\n• 5: 32|-[00561, 00790, 01160, 0286U, 0343T, 29710, 37243, 42720, 47563, 53660, 54417, 58321, 80400, 95970, 95991, 96374, A6536, C2641, G0268, G6009, G9152, G9216, G9221, G9760, G9831, G9917, H0014, J0136, J1826, L1832, S4042, V5249]\n```\n\n\n:::\n\n```{.r .cell-code}\nx |>\n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |> \n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n• 1:  2|-[6, F]\n• 2: 19|-[<08>, <10 15 19>, <21 27>, <32 33 35 38>, <40 43 45 46 48>, <50>, <74>, <82 83 84 86 89>, <93 97>, <A2>, <C7 C9>, <E1 E2>, <G2 G8>, <J7 J9>, <L2 L3 L5>, <M1>, <Q0>, <S1 S9>, <T2>]\n• 3: 14|-[<001 008 017 061 076>, <110>, <200 222 256 260 284>, <315 347>, <541 574>, <721 766 769 770 784>, <881>, <904 929 993>, <A45 A64>, <E02>, <G90>, <J32>, <L04 L16 L43>, <S06 S55>]\n• 4: 16|-[<0142 0152 0185 0306>, <2060 2430 2524 2614>, <3625>, <4151 4920>, <5327>, <7573>, <8121 8541 8561>, <9222 9960>, <A623>, <G920 G974>, <J021 J180 J243 J332>, <L102 L688>, <P902>, <Q999>, <S004 S226>, <V520 V528>]\n• 5: 17|-[<00561 00790 01160>, <29710>, <37243>, <42720 47563>, <53660 54417 58321>, <80400>, <95970 95991 96374>, <A6536>, <C2641>, <G0268 G6009 G9152 G9216 G9221 G9760 G9831 G9917>, <H0014>, <J0136 J1826>, <L1832>, <S4042>, <V5249>, <0343T>, <0286U>]\n```\n\n\n:::\n\n```{.r .cell-code}\nrandom_hcpcs(50) |> \n  split_lengths() |> \n  remove_redundant() |>\n  split_first() |>\n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n• 1:  3|-[9, P, Q]\n• 2: 13|-[<00>, <15>, <20 22 25 27 28>, <33>, <42>, <57 58>, <61>, <84 86 88>, <A4 A6>, <C1 C9>, <E0 E2>, <G2 G8 G9>, <J2 J9>]\n• 3: 16|-[<015 019 039 082>, <119 120>, <264>, <320 372>, <405 411 436 471 475>, <691>, <735 747>, <813 823 854>, <A95>, <D43>, <E18>, <G00>, <J17>, <L10 L59 L86>, <S01>, <T20>]\n• 4: 15|-[<0223 0224 0357 0361 0627>, <1004>, <3265>, <4375 4604>, <5306>, <6045 6318 6963>, <7597>, <8140 8208 8355>, <B418>, <G051>, <K055>, <L132 L224 L332>, <M115>, <S103>, <V230>]\n• 5: 16|-[<23532>, <31647>, <44373 46601 49904>, <54437>, <66988>, <70496 77013>, <80180>, <A7000>, <E1007>, <G0389 G0442>, <L0650 L3003>, <M1036>, <S0353 S2055 S5111>, <V2318>, <3020F 3038F>, <0109T 0486T 0730T>]\n```\n\n\n:::\n:::\n\n\n\n\n<hr>\n\n# Process Groups\n\n::: {.panel-tabset}\n\n## Group 3\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nc(\"C75\", \"C97\", \"G02\", \"G04\") |> \n  split_lengths() |> \n  remove_redundant() |>\n  split_first() |>\n  group_3() |>\n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n• 1: 2|-[<C75>, <C97>]\n• 2: 1|-[<G02 G04>]\n```\n\n\n:::\n\n```{.r .cell-code}\nlong_test2[nchar(long_test2) == 3] |> \n  split_lengths() |> \n  remove_redundant() |>\n  split_first() |>\n  group_3() |>\n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n•  1: 4|-[<021 022 026 027>, <032 033>, <042 044>, <050>]\n•  2: 1|-[<157>]\n•  3: 3|-[<209>, <225>, <271>]\n•  4: 6|-[<308>, <312>, <326>, <347 348>, <355>, <362>]\n•  5: 4|-[<503 505>, <544>, <552 553>, <585 586 587 588 589>]\n•  6: 3|-[<610 612>, <630>, <644 646>]\n•  7: 1|-[<765>]\n•  8: 2|-[<920 921 922>, <958>]\n•  9: 2|-[<C75>, <C97>]\n• 10: 1|-[<E06>]\n• 11: 1|-[<G02 G04>]\n• 12: 1|-[<S23>]\n```\n\n\n:::\n\n```{.r .cell-code}\nrandom_hcpcs() |> \n  split_lengths() |> \n  remove_redundant() |>\n  split_first() |>\n  group_3() |>\n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n• 1: 1|-[<312>]\n• 2: 1|-[<505>]\n• 3: 1|-[<850>]\n• 4: 1|-[<952>]\n• 5: 1|-[<K00>]\n• 6: 1|-[<M00>]\n• 7: 1|-[<P70>]\n```\n\n\n:::\n:::\n\n\n\n\n## Group 4\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nc(\"C751\", \"C752\", \"C970\", \"G020\", \"G021\", \"G040\") |> \n  split_lengths() |> \n  remove_redundant() |>\n  split_first() |>\n  group_4() |>\n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n• 1: 2|-[<C751 C752>, <C970>]\n• 2: 2|-[<G020 G021>, <G040>]\n```\n\n\n:::\n\n```{.r .cell-code}\nlong_test2[nchar(long_test2) == 4] |> \n  split_lengths() |> \n  remove_redundant() |>\n  split_first() |>\n  group_4() |>\n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n•  1:  9|-[<0506 0507>, <0214 0215 0217 0218 0219>, <0220 0221 0222>, <0263 0265 0266 0269>, <0274 0275>, <0329>, <0330>, <0422>, <0444 0445>]\n•  2:  1|-[<1577>]\n•  3:  3|-[<2093>, <2251 2252>, <2719>]\n•  4:  7|-[<3080>, <3123>, <3267>, <3557>, <3622>, <3471>, <3481 3482 3483>]\n•  5: 10|-[<5442 5443>, <5030>, <5054>, <5520 5525>, <5530>, <5857>, <5860>, <5870 5872>, <5880>, <5890 5892 5894>]\n•  6:  5|-[<6303 6304>, <6100>, <6125>, <6442 6448 6449>, <6463>]\n•  7:  1|-[<7651>]\n•  8:  4|-[<9587>, <9202 9208>, <9213 9214>, <9220 9222 9223 9224>]\n•  9:  2|-[<C750>, <C977>]\n• 10:  1|-[<E067>]\n• 11:  2|-[<G027>, <G041>]\n• 12:  1|-[<S234>]\n```\n\n\n:::\n\n```{.r .cell-code}\nrandom_hcpcs() |> \n  split_lengths() |> \n  remove_redundant() |>\n  split_first() |>\n  group_4() |>\n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n• 1: 1|-[<0634>]\n• 2: 1|-[<4738>]\n• 3: 1|-[<6005>]\n• 4: 2|-[<7418>, <7596>]\n• 5: 1|-[<9928>]\n• 6: 1|-[<L398>]\n```\n\n\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n\n## Group 5\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ngroup_5_num <- function(x) {\n  \n  map(x, function(x) {\n    \n    idx <- data.table(\n      code = x,\n      grp1 = sf_sub(x, 1, 2),\n      grp2 = sf_sub(x, 1, 3),\n      grp3 = sf_sub(x, 1, 4),\n      a1 = take_at(x),\n      a2 = take_at(x, 2),\n      a3 = take_at(x, 3),\n      a4 = take_at(x, 4),\n      a5 = take_at(x, 5),\n      i1 = groupid(take_at(x))) |>\n      fgroup_by(a1) |> \n      fmutate(i2 = groupid(a2)) |>\n      fgroup_by(a1, a2) |> \n      fmutate(i3 = groupid(a3)) |>\n      fgroup_by(a1, a2, a3) |> \n      fmutate(i4 = groupid(a4)) |>\n      fgroup_by(a1, a2, a3, a4) |> \n      fmutate(i5 = groupid(a5)) |> \n      fungroup()\n\n      lone <- fcount(idx, i1, add = TRUE) |> \n        fsubset((i2 + i3 + i4 + i5 + N) == 5)\n      \n      last <- fsubset(idx, code %!in% lone[[\"code\"]])\n      \n      last <- join(\n        fcount(last, grp2, a4),\n        fcount(last, grp2, name = \"G\"), on = \"grp2\", verbose = 0) |>\n        fsubset(N == G) |>\n        join(last, on = c(\"grp2\", \"a4\"), how = \"right\", verbose = 0) |> \n        fsubset(not_na(N))\n      \n      rest <- fsubset(idx, code %!in% c(lone[[\"code\"]], last[[\"code\"]]))\n      \n      c(if (empty(lone)) NULL else list(lone[[\"code\"]]),\n        if (empty(last)) NULL else gchop(last[[\"code\"]], last[[\"grp2\"]]),\n        if (empty(rest)) NULL else gchop(rest[[\"code\"]], rest[[\"grp3\"]]))\n    })\n}\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ngroup_5_chr <- function(x) {\n  \n  original <- x\n  \n  reversed <- map(\n    original, \n    \\(x) paste0(\n      take_at(x, 5), \n      sf_remove(x, \"[A-Z]$\")\n      )\n    )\n\n  map2(reversed, original, function(x, y) {\n    \n    idx <- data.table(\n      orig = y,\n      code = x,\n      grp1 = sf_sub(x, 1, 2),\n      grp2 = sf_sub(x, 1, 3),\n      grp3 = sf_sub(x, 1, 4),\n      a1 = take_at(x),\n      a2 = take_at(x, 2),\n      a3 = take_at(x, 3),\n      a4 = take_at(x, 4),\n      a5 = take_at(x, 5),\n      i1 = groupid(take_at(x))) |>\n      fgroup_by(a1) |> \n      fmutate(i2 = groupid(a2)) |>\n      fgroup_by(a1, a2) |> \n      fmutate(i3 = groupid(a3)) |>\n      fgroup_by(a1, a2, a3) |> \n      fmutate(i4 = groupid(a4)) |>\n      fgroup_by(a1, a2, a3, a4) |> \n      fmutate(i5 = groupid(a5)) |> \n      fungroup()\n\n      lone <- fcount(idx, i1, add = TRUE) |> \n        fsubset((i2 + i3 + i4 + i5 + N) == 5)\n      \n      last <- fsubset(idx, code %!in% lone[[\"code\"]])\n      \n      last <- join(\n        fcount(last, grp2, a4),\n        fcount(last, grp2, name = \"G\"), on = \"grp2\", verbose = 0) |>\n        fsubset(N == G) |>\n        join(last, on = c(\"grp2\", \"a4\"), how = \"right\", verbose = 0) |> \n        fsubset(not_na(N))\n      \n      rest <- fsubset(idx, code %!in% c(lone[[\"code\"]], last[[\"code\"]]))\n\n    c(\n      if (empty(lone))\n        NULL\n      else\n        list(lone[[\"orig\"]]),\n      if (empty(last))\n        NULL\n      else\n        gchop(last[[\"orig\"]], last[[\"grp1\"]]),\n      if (empty(rest))\n        NULL\n      else\n        gchop(rest[[\"orig\"]], rest[[\"grp2\"]])\n    )\n  })\n}\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ngroup_5 <- function(x) {\n\n  x <- getelem(x, \"x5\")\n\n  if (empty(x)) return(x)\n  \n  chr <- map(x, \\(x) sf_extract(x, \"[A-Z]$\")) |> compact()\n  num <- map(x, \\(x) sf_extract(x, \"[0-9]$\")) |> compact()\n\n  c(\n    if (empty(chr)) NULL else group_5_chr(chr),\n    if (empty(num)) NULL else group_5_num(num)\n  )\n}\n\nc(\"C7510\", \"C9701\", \"G0200\", \"G0400\") |> \n  split_lengths() |> \n  remove_redundant() |>\n  split_first() |>\n  group_5() |>\n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n• 1: 2|-[<C7510>, <C9701>]\n• 2: 2|-[<G0200>, <G0400>]\n```\n\n\n:::\n\n```{.r .cell-code}\nlong_test2[nchar(long_test2) == 5] |> \n  split_lengths() |> \n  remove_redundant() |>\n  split_first() |>\n  group_5() |>\n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n•  1:  4|-[<0506T 0507T>, <0214T 0215T 0217T 0218T 0219T 0220T 0221T 0222T 0263T 0265T 0266T 0269T 0274T 0275T>, <0329T 0330T>, <0422T 0444T 0445T>]\n•  2:  1|-[<15777>]\n•  3:  4|-[<20939>, <27197 27198>, <22510 22511 22512 22513 22514 22515>, <22526 22527>]\n•  4:  9|-[<30801 30802>, <31231>, <32673>, <34713 34714 34715 34716 34717>, <35572>, <36221>, <34812>, <34820>, <34833 34834>]\n•  5: 15|-[<50300>, <50540>, <55300>, <58575>, <58600 58605>, <58800 58805>, <54420>, <54430>, <55200>, <55250>, <58700>, <58720>, <58900>, <58920 58925>, <58940 58943>]\n•  6:  8|-[<61000 61001>, <61253>, <64634 64636>, <63035>, <63043 63044 63045 63046 63047 63048>, <64421>, <64480 64484>, <64491 64492 64494 64495>]\n•  7:  1|-[<76514>]\n•  8:  9|-[<95870>, <92025>, <92081 92082 92083>, <92132 92133 92134>, <92145>, <92201 92202>, <92227 92228 92229>, <92235>, <92240 92242>]\n•  9:  2|-[<C7501 C7502 C7504 C7505>, <C9771>]\n• 10:  1|-[<E0675>]\n• 11:  2|-[<G0279>, <G0412 G0413 G0414 G0415>]\n• 12:  1|-[<S2342>]\n```\n\n\n:::\n\n```{.r .cell-code}\nrandom_hcpcs() |> \n  split_lengths() |> \n  remove_redundant() |>\n  split_first() |>\n  group_5() |>\n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n• 1: 1|-[<17270>]\n• 2: 1|-[<37650>]\n• 3: 1|-[<45335>]\n• 4: 1|-[<67255>]\n• 5: 2|-[<C9770>, <C9800>]\n• 6: 1|-[<L6805>]\n• 7: 1|-[<M1221>]\n```\n\n\n:::\n:::\n\n\n\n\n## process_groups\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nprocess_groups <- function(x) {\n  \n  list(\n    g1 = x$x1,\n    g2 = x$x2,\n    g3 = group_3(x),\n    g4 = group_4(x),\n    g5 = group_5(x))\n}\n\nhcpcs_tests |>\n  split_lengths() |> \n  remove_redundant() |>\n  split_first() |>\n  process_groups()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$g1\n[1] \"0\" \"4\" \"5\" \"6\" \"G\" \"J\"\n\n$g2\n$g2[[1]]\n[1] \"30\" \"31\" \"32\"\n\n\n$g3\n$g3[[1]]\n$g3[[1]][[1]]\n[1] \"721\" \"722\" \"723\" \"724\" \"725\" \"726\" \"727\" \"728\" \"729\"\n\n\n\n$g4\nlist()\n\n$g5\n$g5[[1]]\n$g5[[1]][[1]]\n[1] \"92015\" \"92016\" \"92017\" \"92018\" \"92019\"\n```\n\n\n:::\n\n```{.r .cell-code}\nlong_test2 |> \n  split_lengths() |> \n  remove_redundant() |>\n  split_first() |> \n  process_groups()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$g1\n [1] \"0\" \"1\" \"2\" \"3\" \"5\" \"6\" \"7\" \"9\" \"C\" \"E\" \"G\" \"S\"\n\n$g2\nlist()\n\n$g3\nlist()\n\n$g4\nlist()\n\n$g5\nlist()\n```\n\n\n:::\n\n```{.r .cell-code}\nrandom_hcpcs(50) |> \n  split_lengths() |> \n  remove_redundant() |>\n  split_first() |>\n  process_groups()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$g1\n[1] \"2\" \"7\" \"B\"\n\n$g2\n$g2[[1]]\n[1] \"00\" \"01\" \"03\" \"07\"\n\n$g2[[2]]\n[1] \"14\" \"19\"\n\n$g2[[3]]\n[1] \"30\" \"36\"\n\n$g2[[4]]\n[1] \"40\" \"43\" \"45\" \"46\"\n\n$g2[[5]]\n[1] \"57\"\n\n$g2[[6]]\n[1] \"61\" \"62\" \"64\"\n\n$g2[[7]]\n[1] \"80\" \"81\"\n\n$g2[[8]]\n[1] \"90\" \"92\" \"95\"\n\n$g2[[9]]\n[1] \"A4\" \"A6\" \"A9\"\n\n$g2[[10]]\n[1] \"C1\" \"C9\"\n\n$g2[[11]]\n[1] \"G0\" \"G8\" \"G9\"\n\n$g2[[12]]\n[1] \"H0\"\n\n$g2[[13]]\n[1] \"J7\" \"J9\"\n\n$g2[[14]]\n[1] \"L1\" \"L3\" \"L5\"\n\n$g2[[15]]\n[1] \"M1\"\n\n\n$g3\n$g3[[1]]\n$g3[[1]][[1]]\n[1] \"041\" \"047\"\n\n\n$g3[[2]]\n$g3[[2]][[1]]\n[1] \"350\"\n\n$g3[[2]][[2]]\n[1] \"382\"\n\n\n$g3[[3]]\n$g3[[3]][[1]]\n[1] \"413\"\n\n$g3[[3]][[2]]\n[1] \"473\"\n\n\n$g3[[4]]\n$g3[[4]][[1]]\n[1] \"869\"\n\n$g3[[4]][[2]]\n[1] \"872\" \"873\" \"875\"\n\n\n$g3[[5]]\n$g3[[5]][[1]]\n[1] \"989\"\n\n$g3[[5]][[2]]\n[1] \"991\"\n\n\n$g3[[6]]\n$g3[[6]][[1]]\n[1] \"D72\"\n\n\n$g3[[7]]\n$g3[[7]][[1]]\n[1] \"E09\"\n\n$g3[[7]][[2]]\n[1] \"E10\"\n\n\n$g3[[8]]\n$g3[[8]][[1]]\n[1] \"G10\"\n\n\n$g3[[9]]\n$g3[[9]][[1]]\n[1] \"J04\"\n\n$g3[[9]][[2]]\n[1] \"J14\" \"J17\" \"J19\"\n\n$g3[[9]][[3]]\n[1] \"J29\"\n\n\n$g3[[10]]\n$g3[[10]][[1]]\n[1] \"Q20\"\n\n\n\n$g4\n$g4[[1]]\n$g4[[1]][[1]]\n[1] \"0621\"\n\n\n$g4[[2]]\n$g4[[2]][[1]]\n[1] \"1144\"\n\n\n$g4[[3]]\n$g4[[3]][[1]]\n[1] \"3440\"\n\n$g4[[3]][[2]]\n[1] \"3321\"\n\n$g4[[3]][[3]]\n[1] \"3346\"\n\n\n$g4[[4]]\n$g4[[4]][[1]]\n[1] \"4180\"\n\n$g4[[4]][[2]]\n[1] \"4232\"\n\n\n$g4[[5]]\n$g4[[5]][[1]]\n[1] \"5043\"\n\n\n$g4[[6]]\n$g4[[6]][[1]]\n[1] \"6685\"\n\n$g4[[6]][[2]]\n[1] \"6722\"\n\n$g4[[6]][[3]]\n[1] \"6953\"\n\n\n$g4[[7]]\n$g4[[7]][[1]]\n[1] \"8254\"\n\n$g4[[7]][[2]]\n[1] \"8603\"\n\n$g4[[7]][[3]]\n[1] \"8301\"\n\n$g4[[7]][[4]]\n[1] \"8369\"\n\n\n$g4[[8]]\n$g4[[8]][[1]]\n[1] \"9469\"\n\n\n$g4[[9]]\n$g4[[9]][[1]]\n[1] \"A505\"\n\n\n$g4[[10]]\n$g4[[10]][[1]]\n[1] \"CCCC\"\n\n\n$g4[[11]]\n$g4[[11]][[1]]\n[1] \"D427\"\n\n\n$g4[[12]]\n$g4[[12]][[1]]\n[1] \"J116\"\n\n\n$g4[[13]]\n$g4[[13]][[1]]\n[1] \"L203\"\n\n$g4[[13]][[2]]\n[1] \"L861\"\n\n$g4[[13]][[3]]\n[1] \"L670\"\n\n$g4[[13]][[4]]\n[1] \"L688\"\n\n$g4[[13]][[5]]\n[1] \"L694\"\n\n\n$g4[[14]]\n$g4[[14]][[1]]\n[1] \"M022\"\n\n\n$g4[[15]]\n$g4[[15]][[1]]\n[1] \"S921\"\n\n\n$g4[[16]]\n$g4[[16]][[1]]\n[1] \"V503\"\n\n$g4[[16]][[2]]\n[1] \"V516\"\n\n\n\n$g5\n$g5[[1]]\n$g5[[1]][[1]]\n[1] \"0692T\" \"0834T\"\n\n\n$g5[[2]]\n$g5[[2]][[1]]\n[1] \"0277U\"\n\n\n$g5[[3]]\n$g5[[3]][[1]]\n[1] \"48556\"\n\n\n$g5[[4]]\n$g5[[4]][[1]]\n[1] \"50553\"\n\n$g5[[4]][[2]]\n[1] \"58752\"\n\n\n$g5[[5]]\n$g5[[5]][[1]]\n[1] \"67335\"\n\n$g5[[5]][[2]]\n[1] \"69799\"\n\n\n$g5[[6]]\n$g5[[6]][[1]]\n[1] \"83664\"\n\n$g5[[6]][[2]]\n[1] \"84295\"\n\n$g5[[6]][[3]]\n[1] \"86663\"\n\n$g5[[6]][[4]]\n[1] \"86790\"\n\n$g5[[6]][[5]]\n[1] \"88344\"\n\n\n$g5[[7]]\n$g5[[7]][[1]]\n[1] \"99204\"\n\n\n$g5[[8]]\n$g5[[8]][[1]]\n[1] \"D2999\"\n\n\n$g5[[9]]\n$g5[[9]][[1]]\n[1] \"E2208\"\n\n$g5[[9]][[2]]\n[1] \"E0460\"\n\n$g5[[9]][[3]]\n[1] \"E0490\"\n\n\n$g5[[10]]\n$g5[[10]][[1]]\n[1] \"G2071\"\n\n\n$g5[[11]]\n$g5[[11]][[1]]\n[1] \"J0218\"\n\n$g5[[11]][[2]]\n[1] \"J0892\"\n\n\n$g5[[12]]\n$g5[[12]][[1]]\n[1] \"S5111\"\n\n$g5[[12]][[2]]\n[1] \"S9343\"\n\n$g5[[12]][[3]]\n[1] \"S9961\"\n\n\n$g5[[13]]\n$g5[[13]][[1]]\n[1] \"T1020\"\n```\n\n\n:::\n:::\n\n\n\n\n::: \n\n<hr>\n\n\n\n\n{{< pagebreak >}}\n\n\n\n\n\n\n# Reduce Groups\n\n::: {.panel-tabset}\n\n## reduce_runs\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nreduce_runs <- function(x) {\n  \n  if (sf_nchar(x) == 1) \n    return(x)\n\n  test <- setNames(rep(0, 37), c(0:9, \"&\", LETTERS))\n  \n  vec <- test[c(desplit(x), \"&\")]\n  \n  vec <- vec[not_na(vec)]\n  \n  test[names(vec)] <- 1\n  \n  test[names(test) == \"&\"] <- 0\n\n  groups <- data.table(\n    value = names(test),\n    keys = test,\n    group = groupid(test)) |>\n    fgroup_by(group)\n  \n  groups <- join(\n    groups, \n    fcount(groups, group), \n    on = \"group\", \n    verbose = 0) |> \n    fungroup() |> \n    fsubset(keys == 1) |>\n    fsubset(N >= 3) |>\n    fselect(value, group)\n    \n  if (empty(groups)) \n    return(x)\n  \n  xgroups <- gchop(\n    groups$value, \n    groups$group) |>\n    map(smush) |>\n    list_c()\n  \n  if (all(xgroups == smush(c(0:9, \"&\", LETTERS)))) return(\"[A-Z0-9]\")\n  \n  replacements <- join(\n    dplyr::slice_min(groups, by = group, order_by = value) |> dplyr::rename(start = value),\n    dplyr::slice_max(groups, by = group, order_by = value) |> dplyr::rename(end = value),\n    on = \"group\", verbose = 0) |>\n    stringr::str_glue_data(\"{start}-{end}\") |>\n    as.vector()\n\n  bracket(replace_regex(x, xgroups, replacements))\n}\n```\n:::\n\n\n\n\n## red1\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nred1 <- function(x) {\n  \n  x <- getelem(x, \"g1\")\n  \n  if (empty(x)) \n    return(character(0))\n  \n  re <- sort_order(x) |> \n    reduce_runs()\n  \n  if (re == \"[A-Z0-9]\") \n    return(str_glue(\"^{re}{{5}}\"))\n  \n  post <- iif_else(\n    sf_detect(\n      re, \n      \"\\\\[?[0-9]{1}\"), \n    \"[A-Z0-9]\", \n    \"[0-9]\")\n  \n  str_glue(\"^{re}{post}{{4}}\")\n}\n\nlong_test2 |>\n  split_lengths() |> \n  remove_redundant() |> \n  split_first() |>\n  process_groups() |> \n  red1()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n^[CEGS0-35-79][A-Z0-9]{4}\n```\n\n\n:::\n\n```{.r .cell-code}\nhcpcs_tests |> \n  split_lengths() |> \n  remove_redundant() |> \n  split_first() |>\n  process_groups() |> \n  red1()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n^[GJ04-6][A-Z0-9]{4}\n```\n\n\n:::\n\n```{.r .cell-code}\nc(LETTERS[1:5], 0:9) |> \n  split_lengths() |> \n  remove_redundant() |> \n  split_first() |>\n  process_groups() |> \n  red1()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n^[A-E0-9][A-Z0-9]{4}\n```\n\n\n:::\n\n```{.r .cell-code}\nlist(g1 = c(0:9, LETTERS)) |> \n  red1()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n^[A-Z0-9]{5}\n```\n\n\n:::\n\n```{.r .cell-code}\nlist(g1 = c(LETTERS[1:5], 0:9)) |> \n  red1()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n^[A-E0-9][A-Z0-9]{4}\n```\n\n\n:::\n:::\n\n\n\n\n## red2\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nred2 <- function(x) {\n  \n  x <- getelem(x, \"g2\")\n  \n  if (empty(x)) \n    return(character(0))\n  \n  modify_if(x, len_gt_one, function(x) {\n    \n    parts <- split_max_vlen(x) |> \n    as.data.frame() |>\n    map(uniq_narm) |>\n    map(sort_order) |>\n    map(reduce_runs) |>\n    delist()\n\n  multi <- sf_nchar(parts) > 1\n  nobrk <- sf_ndetect(parts, \"\\\\[|\\\\]\")\n  \n  if (any(multi[nobrk])) parts[multi[nobrk]] <- map_chr(parts[multi[nobrk]], bracket)\n  \n  smush(parts)\n  \n  })\n}\n\nlong_test2[sf_nchar(long_test2) == 2] |>\n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |>\n  process_groups() |>\n  red2() |> \n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n•  1: 1|-[0[2-5]]\n•  2: 1|-[15]\n•  3: 1|-[2[027]]\n•  4: 1|-[3[0-24-6]]\n•  5: 1|-[5[0458]]\n•  6: 1|-[6[134]]\n•  7: 1|-[76]\n•  8: 1|-[9[25]]\n•  9: 1|-[C[79]]\n• 10: 1|-[E0]\n• 11: 1|-[G0]\n• 12: 1|-[S2]\n```\n\n\n:::\n\n```{.r .cell-code}\npaste0(\"A\", c(0:5, LETTERS)) |> \n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |>\n  process_groups() |>\n  red2() |>\n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n• 1: 1|-[A[A-Z0-5]]\n```\n\n\n:::\n:::\n\n\n\n\n## red3\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nred3 <- function(x) {\n  \n  x <- getelem(x, \"g3\")\n  \n  if (empty(x)) return(character(0))\n  \n  map(x, function(x) {\n    \n    modify_if(x, len_gt_one, function(x) {\n      \n      parts <- split_max_vlen(x) |> \n        as.data.frame() |>\n        map(uniq_narm) |> \n        map(sort_order) |>\n        map(reduce_runs) |> \n        delist()\n      \n      multi <- sf_nchar(parts) > 1\n      nobrk <- sf_ndetect(parts, \"\\\\[|\\\\]\")\n      \n      if (any(multi[nobrk])) parts[multi[nobrk]] <- map_chr(parts[multi[nobrk]], bracket)\n      \n      smush(parts)\n    })\n  })\n}\n\nlong_test2[sf_nchar(long_test2) == 3] |>\n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |>\n  process_groups() |> \n  red3() |> \n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n•  1: 4|-[<02[1267]>, <03[23]>, <04[24]>, <050>]\n•  2: 1|-[<157>]\n•  3: 3|-[<209>, <225>, <271>]\n•  4: 6|-[<308>, <312>, <326>, <34[78]>, <355>, <362>]\n•  5: 4|-[<50[35]>, <544>, <55[23]>, <58[5-9]>]\n•  6: 3|-[<61[02]>, <630>, <64[46]>]\n•  7: 1|-[<765>]\n•  8: 2|-[<92[0-2]>, <958>]\n•  9: 2|-[<C75>, <C97>]\n• 10: 1|-[<E06>]\n• 11: 1|-[<G0[24]>]\n• 12: 1|-[<S23>]\n```\n\n\n:::\n:::\n\n\n\n\n## red4\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nred4 <- function(x) {\n  \n  x <- getelem(x, \"g4\")\n  \n  if (empty(x)) return(character(0))\n  \n  map(x, function(x) {\n    \n    modify_if(x, len_gt_one, function(x) {\n      \n      parts <- split_max_vlen(x) |> \n        as.data.frame() |>\n        map(uniq_narm) |> \n        map(sort_order) |>\n        map(reduce_runs) |> \n        delist()\n      \n      multi <- sf_nchar(parts) > 1\n      nobrk <- sf_ndetect(parts, \"\\\\[|\\\\]\")\n      \n      if (any(multi[nobrk])) parts[multi[nobrk]] <- map_chr(parts[multi[nobrk]], bracket)\n      \n      smush(parts)\n      \n    })\n  })\n}\n\nlong_test2[sf_nchar(long_test2) == 4] |>\n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |>\n  process_groups() |> \n  red4() |> \n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n•  1:  9|-[<050[67]>, <021[457-9]>, <022[0-2]>, <026[3569]>, <027[45]>, <0329>, <0330>, <0422>, <044[45]>]\n•  2:  1|-[<1577>]\n•  3:  3|-[<2093>, <225[12]>, <2719>]\n•  4:  7|-[<3080>, <3123>, <3267>, <3557>, <3622>, <3471>, <348[1-3]>]\n•  5: 10|-[<544[23]>, <5030>, <5054>, <552[05]>, <5530>, <5857>, <5860>, <587[02]>, <5880>, <589[024]>]\n•  6:  5|-[<630[34]>, <6100>, <6125>, <644[289]>, <6463>]\n•  7:  1|-[<7651>]\n•  8:  4|-[<9587>, <920[28]>, <921[34]>, <922[02-4]>]\n•  9:  2|-[<C750>, <C977>]\n• 10:  1|-[<E067>]\n• 11:  2|-[<G027>, <G041>]\n• 12:  1|-[<S234>]\n```\n\n\n:::\n:::\n\n\n\n\n## red5\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nred5 <- function(x) {\n  \n  x <- getelem(x, \"g5\")\n  \n  if (empty(x)) return(character(0))\n  \n  map(x, function(x) {\n    \n    modify_if(x, len_gt_one, function(x) {\n      \n      parts <- split_max_vlen(x) |> \n        as.data.frame() |>\n        map(uniq_narm) |> \n        map(sort_order) |>\n        map(reduce_runs) |> \n        delist()\n      \n      multi <- sf_nchar(parts) > 1\n      nobrk <- sf_ndetect(parts, \"\\\\[|\\\\]\")\n      \n      if (any(multi[nobrk])) parts[multi[nobrk]] <- map_chr(parts[multi[nobrk]], bracket)\n      \n      smush(parts)\n    })\n  })\n}\n\nlong_test2[sf_nchar(long_test2) == 5] |>\n  split_lengths() |>\n  # remove_redundant() |>\n  split_first() |>\n  process_groups() |> \n  red5() |> \n  view_first()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n•  1:  4|-[<050[67]T>, <02[1267][0-9]T>, <03[23][09]T>, <04[24][245]T>]\n•  2:  1|-[<15777>]\n•  3:  4|-[<20939>, <2719[78]>, <2251[0-5]>, <2252[67]>]\n•  4:  9|-[<3080[12]>, <31231>, <32673>, <3471[3-7]>, <35572>, <36221>, <34812>, <34820>, <3483[34]>]\n•  5: 15|-[<50300>, <50540>, <55300>, <58575>, <5860[05]>, <5880[05]>, <54420>, <54430>, <55200>, <55250>, <58700>, <58720>, <58900>, <5892[05]>, <5894[03]>]\n•  6:  8|-[<6100[01]>, <61253>, <6463[46]>, <63035>, <6304[3-8]>, <64421>, <6448[04]>, <6449[1245]>]\n•  7:  1|-[<76514>]\n•  8:  9|-[<95870>, <92025>, <9208[1-3]>, <9213[2-4]>, <92145>, <9220[12]>, <9222[7-9]>, <92235>, <9224[02]>]\n•  9:  2|-[<C750[1245]>, <C9771>]\n• 10:  1|-[<E0675>]\n• 11:  2|-[<G0279>, <G041[2-5]>]\n• 12:  1|-[<S2342>]\n```\n\n\n:::\n:::\n\n\n\n\n## reduce_groups\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nreduce_groups <- \\(x) {\n  \n  list(\n    g1 = red1(x),\n    g2 = red2(x),\n    g3 = red3(x),\n    g4 = red4(x),\n    g5 = red5(x)\n  )\n}\n\nlong_test2 |>\n  split_lengths() |>\n  # remove_redundant() |>\n  split_first() |>\n  process_groups() |> \n  reduce_groups()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$g1\n^[CEGS0-35-79][A-Z0-9]{4}\n\n$g2\n$g2[[1]]\n[1] \"0[2-5]\"\n\n$g2[[2]]\n[1] \"15\"\n\n$g2[[3]]\n[1] \"2[027]\"\n\n$g2[[4]]\n[1] \"3[0-24-6]\"\n\n$g2[[5]]\n[1] \"5[0458]\"\n\n$g2[[6]]\n[1] \"6[134]\"\n\n$g2[[7]]\n[1] \"76\"\n\n$g2[[8]]\n[1] \"9[25]\"\n\n$g2[[9]]\n[1] \"C[79]\"\n\n$g2[[10]]\n[1] \"E0\"\n\n$g2[[11]]\n[1] \"G0\"\n\n$g2[[12]]\n[1] \"S2\"\n\n\n$g3\n$g3[[1]]\n$g3[[1]][[1]]\n[1] \"02[1267]\"\n\n$g3[[1]][[2]]\n[1] \"03[23]\"\n\n$g3[[1]][[3]]\n[1] \"04[24]\"\n\n$g3[[1]][[4]]\n[1] \"050\"\n\n\n$g3[[2]]\n$g3[[2]][[1]]\n[1] \"157\"\n\n\n$g3[[3]]\n$g3[[3]][[1]]\n[1] \"209\"\n\n$g3[[3]][[2]]\n[1] \"225\"\n\n$g3[[3]][[3]]\n[1] \"271\"\n\n\n$g3[[4]]\n$g3[[4]][[1]]\n[1] \"308\"\n\n$g3[[4]][[2]]\n[1] \"312\"\n\n$g3[[4]][[3]]\n[1] \"326\"\n\n$g3[[4]][[4]]\n[1] \"34[78]\"\n\n$g3[[4]][[5]]\n[1] \"355\"\n\n$g3[[4]][[6]]\n[1] \"362\"\n\n\n$g3[[5]]\n$g3[[5]][[1]]\n[1] \"50[35]\"\n\n$g3[[5]][[2]]\n[1] \"544\"\n\n$g3[[5]][[3]]\n[1] \"55[23]\"\n\n$g3[[5]][[4]]\n[1] \"58[5-9]\"\n\n\n$g3[[6]]\n$g3[[6]][[1]]\n[1] \"61[02]\"\n\n$g3[[6]][[2]]\n[1] \"630\"\n\n$g3[[6]][[3]]\n[1] \"64[46]\"\n\n\n$g3[[7]]\n$g3[[7]][[1]]\n[1] \"765\"\n\n\n$g3[[8]]\n$g3[[8]][[1]]\n[1] \"92[0-2]\"\n\n$g3[[8]][[2]]\n[1] \"958\"\n\n\n$g3[[9]]\n$g3[[9]][[1]]\n[1] \"C75\"\n\n$g3[[9]][[2]]\n[1] \"C97\"\n\n\n$g3[[10]]\n$g3[[10]][[1]]\n[1] \"E06\"\n\n\n$g3[[11]]\n$g3[[11]][[1]]\n[1] \"G0[24]\"\n\n\n$g3[[12]]\n$g3[[12]][[1]]\n[1] \"S23\"\n\n\n\n$g4\n$g4[[1]]\n$g4[[1]][[1]]\n[1] \"050[67]\"\n\n$g4[[1]][[2]]\n[1] \"021[457-9]\"\n\n$g4[[1]][[3]]\n[1] \"022[0-2]\"\n\n$g4[[1]][[4]]\n[1] \"026[3569]\"\n\n$g4[[1]][[5]]\n[1] \"027[45]\"\n\n$g4[[1]][[6]]\n[1] \"0329\"\n\n$g4[[1]][[7]]\n[1] \"0330\"\n\n$g4[[1]][[8]]\n[1] \"0422\"\n\n$g4[[1]][[9]]\n[1] \"044[45]\"\n\n\n$g4[[2]]\n$g4[[2]][[1]]\n[1] \"1577\"\n\n\n$g4[[3]]\n$g4[[3]][[1]]\n[1] \"2093\"\n\n$g4[[3]][[2]]\n[1] \"225[12]\"\n\n$g4[[3]][[3]]\n[1] \"2719\"\n\n\n$g4[[4]]\n$g4[[4]][[1]]\n[1] \"3080\"\n\n$g4[[4]][[2]]\n[1] \"3123\"\n\n$g4[[4]][[3]]\n[1] \"3267\"\n\n$g4[[4]][[4]]\n[1] \"3557\"\n\n$g4[[4]][[5]]\n[1] \"3622\"\n\n$g4[[4]][[6]]\n[1] \"3471\"\n\n$g4[[4]][[7]]\n[1] \"348[1-3]\"\n\n\n$g4[[5]]\n$g4[[5]][[1]]\n[1] \"544[23]\"\n\n$g4[[5]][[2]]\n[1] \"5030\"\n\n$g4[[5]][[3]]\n[1] \"5054\"\n\n$g4[[5]][[4]]\n[1] \"552[05]\"\n\n$g4[[5]][[5]]\n[1] \"5530\"\n\n$g4[[5]][[6]]\n[1] \"5857\"\n\n$g4[[5]][[7]]\n[1] \"5860\"\n\n$g4[[5]][[8]]\n[1] \"587[02]\"\n\n$g4[[5]][[9]]\n[1] \"5880\"\n\n$g4[[5]][[10]]\n[1] \"589[024]\"\n\n\n$g4[[6]]\n$g4[[6]][[1]]\n[1] \"630[34]\"\n\n$g4[[6]][[2]]\n[1] \"6100\"\n\n$g4[[6]][[3]]\n[1] \"6125\"\n\n$g4[[6]][[4]]\n[1] \"644[289]\"\n\n$g4[[6]][[5]]\n[1] \"6463\"\n\n\n$g4[[7]]\n$g4[[7]][[1]]\n[1] \"7651\"\n\n\n$g4[[8]]\n$g4[[8]][[1]]\n[1] \"9587\"\n\n$g4[[8]][[2]]\n[1] \"920[28]\"\n\n$g4[[8]][[3]]\n[1] \"921[34]\"\n\n$g4[[8]][[4]]\n[1] \"922[02-4]\"\n\n\n$g4[[9]]\n$g4[[9]][[1]]\n[1] \"C750\"\n\n$g4[[9]][[2]]\n[1] \"C977\"\n\n\n$g4[[10]]\n$g4[[10]][[1]]\n[1] \"E067\"\n\n\n$g4[[11]]\n$g4[[11]][[1]]\n[1] \"G027\"\n\n$g4[[11]][[2]]\n[1] \"G041\"\n\n\n$g4[[12]]\n$g4[[12]][[1]]\n[1] \"S234\"\n\n\n\n$g5\n$g5[[1]]\n$g5[[1]][[1]]\n[1] \"050[67]T\"\n\n$g5[[1]][[2]]\n[1] \"02[1267][0-9]T\"\n\n$g5[[1]][[3]]\n[1] \"03[23][09]T\"\n\n$g5[[1]][[4]]\n[1] \"04[24][245]T\"\n\n\n$g5[[2]]\n$g5[[2]][[1]]\n[1] \"15777\"\n\n\n$g5[[3]]\n$g5[[3]][[1]]\n[1] \"20939\"\n\n$g5[[3]][[2]]\n[1] \"2719[78]\"\n\n$g5[[3]][[3]]\n[1] \"2251[0-5]\"\n\n$g5[[3]][[4]]\n[1] \"2252[67]\"\n\n\n$g5[[4]]\n$g5[[4]][[1]]\n[1] \"3080[12]\"\n\n$g5[[4]][[2]]\n[1] \"31231\"\n\n$g5[[4]][[3]]\n[1] \"32673\"\n\n$g5[[4]][[4]]\n[1] \"3471[3-7]\"\n\n$g5[[4]][[5]]\n[1] \"35572\"\n\n$g5[[4]][[6]]\n[1] \"36221\"\n\n$g5[[4]][[7]]\n[1] \"34812\"\n\n$g5[[4]][[8]]\n[1] \"34820\"\n\n$g5[[4]][[9]]\n[1] \"3483[34]\"\n\n\n$g5[[5]]\n$g5[[5]][[1]]\n[1] \"50300\"\n\n$g5[[5]][[2]]\n[1] \"50540\"\n\n$g5[[5]][[3]]\n[1] \"55300\"\n\n$g5[[5]][[4]]\n[1] \"58575\"\n\n$g5[[5]][[5]]\n[1] \"5860[05]\"\n\n$g5[[5]][[6]]\n[1] \"5880[05]\"\n\n$g5[[5]][[7]]\n[1] \"54420\"\n\n$g5[[5]][[8]]\n[1] \"54430\"\n\n$g5[[5]][[9]]\n[1] \"55200\"\n\n$g5[[5]][[10]]\n[1] \"55250\"\n\n$g5[[5]][[11]]\n[1] \"58700\"\n\n$g5[[5]][[12]]\n[1] \"58720\"\n\n$g5[[5]][[13]]\n[1] \"58900\"\n\n$g5[[5]][[14]]\n[1] \"5892[05]\"\n\n$g5[[5]][[15]]\n[1] \"5894[03]\"\n\n\n$g5[[6]]\n$g5[[6]][[1]]\n[1] \"6100[01]\"\n\n$g5[[6]][[2]]\n[1] \"61253\"\n\n$g5[[6]][[3]]\n[1] \"6463[46]\"\n\n$g5[[6]][[4]]\n[1] \"63035\"\n\n$g5[[6]][[5]]\n[1] \"6304[3-8]\"\n\n$g5[[6]][[6]]\n[1] \"64421\"\n\n$g5[[6]][[7]]\n[1] \"6448[04]\"\n\n$g5[[6]][[8]]\n[1] \"6449[1245]\"\n\n\n$g5[[7]]\n$g5[[7]][[1]]\n[1] \"76514\"\n\n\n$g5[[8]]\n$g5[[8]][[1]]\n[1] \"95870\"\n\n$g5[[8]][[2]]\n[1] \"92025\"\n\n$g5[[8]][[3]]\n[1] \"9208[1-3]\"\n\n$g5[[8]][[4]]\n[1] \"9213[2-4]\"\n\n$g5[[8]][[5]]\n[1] \"92145\"\n\n$g5[[8]][[6]]\n[1] \"9220[12]\"\n\n$g5[[8]][[7]]\n[1] \"9222[7-9]\"\n\n$g5[[8]][[8]]\n[1] \"92235\"\n\n$g5[[8]][[9]]\n[1] \"9224[02]\"\n\n\n$g5[[9]]\n$g5[[9]][[1]]\n[1] \"C750[1245]\"\n\n$g5[[9]][[2]]\n[1] \"C9771\"\n\n\n$g5[[10]]\n$g5[[10]][[1]]\n[1] \"E0675\"\n\n\n$g5[[11]]\n$g5[[11]][[1]]\n[1] \"G0279\"\n\n$g5[[11]][[2]]\n[1] \"G041[2-5]\"\n\n\n$g5[[12]]\n$g5[[12]][[1]]\n[1] \"S2342\"\n```\n\n\n:::\n:::\n\n\n\n\n::: \n\n<hr>\n\n\n\n\n{{< pagebreak >}}\n\n\n\n\n\n\n\n# Recombine Vectors\n\n::: {.panel-tabset}\n\n## recombine2\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nrecombine2 <- function(x) {\n  \n  x <- getelem(x, \"g2\")\n  \n  if (empty(x)) return(character(0))\n  \n  x <- sf_collapse(list_c(x), collapse = '|')\n  \n  # str_glue(\"^({x})[A-Z0-9]{{3}}$\")\n  str_glue(\"({x})\")\n}\n\nlong_test2[sf_nchar(long_test2) == 2] |>\n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |>\n  process_groups() |>\n  reduce_groups() |> \n  recombine2()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n(0[2-5]|15|2[027]|3[0-24-6]|5[0458]|6[134]|76|9[25]|C[79]|E0|G0|S2)\n```\n\n\n:::\n\n```{.r .cell-code}\nrandom_hcpcs() |>\n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |>\n  process_groups() |>\n  reduce_groups() |> \n  recombine2()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n(12|4[15]|76|8[046]|C1|E0|G9)\n```\n\n\n:::\n:::\n\n\n\n\n## recombine3\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nrecombine3 <- function(x) {\n  \n  x <- getelem(x, \"g3\")\n  \n  if (empty(x)) return(character(0))\n  \n  list(\n    if (empty(x[vlen(x) == 1])) \n      NULL \n    else \n      parentheses(\n        sf_collapse(\n          delist(x[vlen(x) == 1]), collapse = \"|\")\n        ) |>\n      glue::as_glue(),\n    if (empty(x[vlen(x) > 1])) \n      NULL \n    else \n      map(x[vlen(x) > 1], \n          function(x) {\n          \n            front <- uniq(sf_sub(delist(x), start = 1, stop = 1))\n          \n            back  <- sf_collapse(sf_remove(delist(x), str_glue(\"^[{front}]{{1}}\")), collapse = \"|\")\n          \n            str_glue(\"{front}({back})\")\n          \n            })) |> list_flatten()\n}\n\nlong_test2[sf_nchar(long_test2) == 3] |>\n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |>\n  process_groups() |> \n  reduce_groups() |> \n  recombine3()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[[1]]\n(157|765|E06|G0[24]|S23)\n\n[[2]]\n0(2[1267]|3[23]|4[24]|50)\n\n[[3]]\n2(09|25|71)\n\n[[4]]\n3(08|12|26|4[78]|55|62)\n\n[[5]]\n5(0[35]|44|5[23]|8[5-9])\n\n[[6]]\n6(1[02]|30|4[46])\n\n[[7]]\n9(2[0-2]|58)\n\n[[8]]\nC(75|97)\n```\n\n\n:::\n\n```{.r .cell-code}\nrandom_hcpcs(50) |>\n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |>\n  process_groups() |>\n  reduce_groups() |> \n  recombine3()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[[1]]\n(354|505|646|722|G21|J12|V23)\n\n[[2]]\n0(19|3[56]|49)\n\n[[3]]\n2(0[68]|25|52)\n\n[[4]]\n8(21|83|92)\n\n[[5]]\n9(06|2[59]|47)\n\n[[6]]\nL(66|80)\n```\n\n\n:::\n:::\n\n\n\n\n## recombine4\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nrecombine4 <- function(x) {\n  \n  x <- getelem(x, \"g4\")\n  \n  if (empty(x)) return(character(0))\n  \n  list(\n    if (empty(x[vlen(x) == 1])) \n      NULL \n    else \n      parentheses(\n        sf_collapse(\n          delist(x[vlen(x) == 1]), collapse = \"|\")\n        ) |>\n      glue::as_glue(),\n    if (empty(x[vlen(x) > 1])) \n      NULL \n    else \n      map(x[vlen(x) > 1], \n          function(x) {\n          \n            front <- uniq(sf_sub(delist(x), start = 1, stop = 1))\n          \n            back  <- sf_collapse(sf_remove(delist(x), str_glue(\"^[{front}]{{1}}\")), collapse = \"|\")\n          \n            str_glue(\"{front}({back})\")\n          \n            })) |> list_flatten()\n}\n\nlong_test2[sf_nchar(long_test2) == 4] |>\n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |>\n  process_groups() |> \n  reduce_groups() |> \n  recombine4()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[[1]]\n(1577|7651|E067|S234)\n\n[[2]]\n0(50[67]|21[457-9]|22[0-2]|26[3569]|27[45]|329|330|422|44[45])\n\n[[3]]\n2(093|25[12]|719)\n\n[[4]]\n3(080|123|267|557|622|471|48[1-3])\n\n[[5]]\n5(44[23]|030|054|52[05]|530|857|860|87[02]|880|89[024])\n\n[[6]]\n6(30[34]|100|125|44[289]|463)\n\n[[7]]\n9(587|20[28]|21[34]|22[02-4])\n\n[[8]]\nC(750|977)\n\n[[9]]\nG(027|041)\n```\n\n\n:::\n\n```{.r .cell-code}\nrandom_hcpcs(50) |>\n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |>\n  process_groups() |>\n  reduce_groups() |> \n  recombine4()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[[1]]\n(5230|L600)\n\n[[2]]\n0(148|302|624|743|001|014)\n\n[[3]]\n2(121|539|889)\n\n[[4]]\n4(115|675)\n\n[[5]]\n8(423|120|132)\n\n[[6]]\n9(477|934)\n\n[[7]]\nE(114|231)\n\n[[8]]\nG(209|21[48]|920|930)\n\n[[9]]\nJ(020|080|138|144)\n\n[[10]]\nS(402|950)\n```\n\n\n:::\n:::\n\n\n\n\n## recombine5\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nrecombine5 <- function(x) {\n  \n  x <- getelem(x, \"g5\")\n  \n  if (empty(x)) return(character(0))\n  \n  list(\n    if (empty(x[vlen(x) == 1])) \n      NULL \n    else \n      parentheses(\n        sf_collapse(\n          delist(x[vlen(x) == 1]), collapse = \"|\")\n        ) |>\n      glue::as_glue(),\n    if (empty(x[vlen(x) > 1])) \n      NULL \n    else \n      map(x[vlen(x) > 1], \n          function(x) {\n          \n            front <- uniq(sf_sub(delist(x), start = 1, stop = 1))\n          \n            back  <- sf_collapse(sf_remove(delist(x), str_glue(\"^[{front}]{{1}}\")), collapse = \"|\")\n          \n            str_glue(\"{front}({back})\")\n          \n            })) |> list_flatten()\n}\n\nlong_test2[sf_nchar(long_test2) == 5] |>\n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |>\n  process_groups() |> \n  reduce_groups() |> \n  recombine5()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[[1]]\n(15777|76514|E0675|S2342)\n\n[[2]]\n0(50[67]T|2[1267][0-9]T|3[23][09]T|4[24][245]T)\n\n[[3]]\n2(0939|719[78]|251[0-5]|252[67])\n\n[[4]]\n3(080[12]|1231|2673|471[3-7]|5572|6221|4812|4820|483[34])\n\n[[5]]\n5(0300|0540|5300|8575|860[05]|880[05]|4420|4430|5200|5250|8700|8720|8900|892[05]|894[03])\n\n[[6]]\n6(100[01]|1253|463[46]|3035|304[3-8]|4421|448[04]|449[1245])\n\n[[7]]\n9(5870|2025|208[1-3]|213[2-4]|2145|220[12]|222[7-9]|2235|224[02])\n\n[[8]]\nC(750[1245]|9771)\n\n[[9]]\nG(0279|041[2-5])\n```\n\n\n:::\n\n```{.r .cell-code}\nrandom_hcpcs(50) |>\n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |>\n  process_groups() |>\n  reduce_groups() |> \n  recombine5()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[[1]]\n(01[47][05]U|01939|22630|39499|45317|E2615|G6035|K0890|M0001)\n\n[[2]]\n5(0860|9300)\n\n[[3]]\n6(6761|7700)\n\n[[4]]\n8(0364|1328|1348)\n\n[[5]]\n9(0645|3355|4776)\n\n[[6]]\nL(2397|5818|5984)\n\n[[7]]\nS(0077|8100)\n```\n\n\n:::\n:::\n\n\n\n\n## recombine_groups\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nrecombine_groups <- \\(x) {\n  \n  list(\n    v1 = x$g1,\n    v2 = recombine2(x),\n    v3 = recombine3(x),\n    v4 = recombine4(x),\n    v5 = recombine5(x)\n  )\n}\n\nlong_test2 |>\n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |>\n  process_groups() |> \n  reduce_groups() |> \n  recombine_groups()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$v1\n^[CEGS0-35-79][A-Z0-9]{4}\n\n$v2\ncharacter(0)\n\n$v3\ncharacter(0)\n\n$v4\ncharacter(0)\n\n$v5\ncharacter(0)\n```\n\n\n:::\n\n```{.r .cell-code}\nrandom_hcpcs(50) |>\n  split_lengths() |>\n  remove_redundant() |>\n  split_first() |>\n  process_groups() |>\n  reduce_groups() |>\n  recombine_groups()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$v1\n^AL35[A-Z0-9]{4}\n\n$v2\n(00|2[01389]|4[0346]|7[048]|8[0267]|93|C7|D7|E[01]|G[89]|J[019]|S[2-49]|T1)\n\n$v3\n$v3[[1]]\n(116|26[25]|773|G00|J25|K10|M13|Q42|V21)\n\n$v3[[2]]\n0(19|54)\n\n$v3[[3]]\n4(12|28|96)\n\n$v3[[4]]\n8(1[14]|41|51)\n\n$v3[[5]]\n9(26|47|78)\n\n$v3[[6]]\nS(05|50)\n\n\n$v4\n$v4[[1]]\n(4713|7699|8153|C906|G012|J227|P905|Q419|S555)\n\n$v4[[2]]\n0(255|503|827|120|133|147)\n\n$v4[[3]]\n1(932|515|594)\n\n$v4[[4]]\n6(972|121|130)\n\n$v4[[5]]\n9(637|71[57]|915)\n\n$v4[[6]]\nE(220|235)\n\n\n$v5\n$v5[[1]]\n(0234U|65130|81310|J2469|M0240|Q4185|V2208)\n\n$v5[[2]]\n0(699T|7[04][89]T)\n\n$v5[[3]]\n2(5420|7250|7520|2804|2854)\n\n$v5[[4]]\n4(2725|5020|9561)\n\n$v5[[5]]\n9(6405|6912)\n```\n\n\n:::\n:::\n\n\n\n\n::: \n\n<hr>\n\n\n\n\n{{< pagebreak >}}\n\n\n\n\n\n\n# Collapse Regex\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nvec_to_regex <- vrg <- \\(x, n) {\n  \n  if (empty(x)) \n    return(character(0))\n  \n  post <- iif_else(sf_detect(x, \"^\\\\[?[A-Z]\\\\-?\"), \"[0-9]\", \"[A-Z0-9]\")\n  \n  x <- fcase(\n    n == 0, glue::glue(\"^{x}$\"),                \n    n == 1, glue::glue(\"^{x}{post}$\"),\n    n == 2, glue::glue(\"^{x}{post}{{2}}$\"),\n    n == 3, glue::glue(\"^{x}{post}{{3}}$\")\n    )\n    \n  glue::glue_collapse(x)\n}\n\ncollapse_regex <- \\(x) {\n  \n  list(\n    g1 = red1(x),\n    g2 = map_chr(x$g2, red2) |> map_chr(vrg, n = 3) |> glue::as_glue(),\n    g3 = map_chr(x$g3, red3) |> map_chr(vrg, n = 2) |> glue::as_glue(),\n    g4 = map_chr(x$g4, red4) |> map_chr(vrg, n = 1) |> glue::as_glue(),\n    g5 = map_chr(x$g5, red5) |> map_chr(vrg, n = 0) |> glue::as_glue()\n  )\n}\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n\n\n<hr>\n\n\n\n\n{{< pagebreak >}}\n\n\n\n\n\n\n# S7 Class\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nhcpcs <- new_class(\n  name = \"hcpcs\",\n  properties = list(\n    input = class_vector,\n    split_length     = new_property(class = class_list, getter = \\(self) split_lengths(self@input)),\n    remove_redundant = new_property(class = class_list, getter = \\(self) remove_redundant(self@split_length)),\n    split_first      = new_property(class = class_list, getter = \\(self) split_first(self@remove_redundant)),\n    process_groups   = new_property(class = class_list, getter = \\(self) process_groups(self@split_first)),\n    reduce_groups    = new_property(class = class_list, getter = \\(self) reduce_groups(self@process_groups)),\n    recombine_groups = new_property(class = class_list, getter = \\(self) recombine_groups(self@reduce_groups))\n    )\n  )\n\nx <- hcpcs(input = random_hcpcs(50))\n\nx\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<hcpcs>\n @ input           : chr [1:203] \"M\" \"J\" \"H\" \"00\" \"J3\" \"84\" \"32\" \"Q4\" \"25\" \"50\" \"27\" \"A4\" ...\n @ split_length    :List of 5\n .. $ x1: chr [1:3] \"H\" \"J\" \"M\"\n .. $ x2: chr [1:42] \"00\" \"03\" \"07\" \"17\" ...\n .. $ x3: chr [1:47] \"005\" \"105\" \"226\" \"264\" ...\n .. $ x4: chr [1:50] \"0040\" \"0092\" \"0180\" \"0309\" ...\n .. $ x5: chr [1:50] \"0098T\" \"0286T\" \"0583T\" \"22010\" ...\n @ remove_redundant:List of 5\n .. $ x1: chr [1:3] \"H\" \"J\" \"M\"\n .. $ x2: chr [1:38] \"00\" \"03\" \"07\" \"17\" ...\n .. $ x3: chr [1:24] \"105\" \"332\" \"337\" \"362\" ...\n .. $ x4: chr [1:26] \"0180\" \"2145\" \"2830\" \"3394\" ...\n .. $ x5: chr [1:30] \"0286T\" \"0583T\" \"29581\" \"40843\" ...\n @ split_first     :List of 5\n .. $ x1: chr [1:3] \"H\" \"J\" \"M\"\n .. $ x2:List of 18\n ..  ..$ : chr [1:3] \"00\" \"03\" \"07\"\n ..  ..$ : chr \"17\"\n ..  ..$ : chr [1:4] \"22\" \"25\" \"26\" \"27\"\n ..  ..$ : chr [1:4] \"31\" \"32\" \"34\" \"35\"\n ..  ..$ : chr [1:3] \"50\" \"52\" \"59\"\n ..  ..$ : chr \"68\"\n ..  ..$ : chr \"74\"\n ..  ..$ : chr [1:3] \"80\" \"82\" \"84\"\n ..  ..$ : chr [1:2] \"95\" \"99\"\n ..  ..$ : chr [1:3] \"A4\" \"A6\" \"A7\"\n ..  ..$ : chr [1:2] \"C2\" \"C9\"\n ..  ..$ : chr \"E0\"\n ..  ..$ : chr [1:2] \"G2\" \"G8\"\n ..  ..$ : chr \"K0\"\n ..  ..$ : chr [1:3] \"L1\" \"L2\" \"L5\"\n ..  ..$ : chr [1:2] \"Q0\" \"Q4\"\n ..  ..$ : chr \"S3\"\n ..  ..$ : chr \"V5\"\n .. $ x3:List of 14\n ..  ..$ : chr \"105\"\n ..  ..$ : chr [1:3] \"332\" \"337\" \"362\"\n ..  ..$ : chr \"448\"\n ..  ..$ : chr [1:2] \"548\" \"572\"\n ..  ..$ : chr \"646\"\n ..  ..$ : chr [1:3] \"811\" \"867\" \"869\"\n ..  ..$ : chr \"908\"\n ..  ..$ : chr \"C17\"\n ..  ..$ : chr [1:2] \"D01\" \"D75\"\n ..  ..$ : chr \"E23\"\n ..  ..$ : chr [1:5] \"G10\" \"G90\" \"G94\" \"G96\" ...\n ..  ..$ : chr \"L66\"\n ..  ..$ : chr \"Q20\"\n ..  ..$ : chr \"V23\"\n .. $ x4:List of 12\n ..  ..$ : chr \"0180\"\n ..  ..$ : chr [1:2] \"2145\" \"2830\"\n ..  ..$ : chr [1:2] \"3394\" \"3722\"\n ..  ..$ : chr [1:3] \"4539\" \"4943\" \"4965\"\n ..  ..$ : chr [1:2] \"5445\" \"5866\"\n ..  ..$ : chr \"6236\"\n ..  ..$ : chr [1:6] \"8133\" \"8391\" \"8720\" \"8789\" ...\n ..  ..$ : chr [1:3] \"9047\" \"9297\" \"9437\"\n ..  ..$ : chr [1:3] \"A039\" \"A200\" \"A955\"\n ..  ..$ : chr \"C890\"\n ..  ..$ : chr \"L700\"\n ..  ..$ : chr \"S556\"\n .. $ x5:List of 12\n ..  ..$ : chr \"29581\"\n ..  ..$ : chr [1:3] \"40843\" \"43108\" \"44390\"\n ..  ..$ : chr \"57156\"\n ..  ..$ : chr [1:4] \"61000\" \"61544\" \"65730\" \"67820\"\n ..  ..$ : chr [1:3] \"72050\" \"78262\" \"78710\"\n ..  ..$ : chr [1:7] \"81295\" \"86079\" \"87272\" \"87491\" ...\n ..  ..$ : chr [1:3] \"90739\" \"92134\" \"97814\"\n ..  ..$ : chr [1:3] \"A5504\" \"A9156\" \"A9573\"\n ..  ..$ : chr \"L8410\"\n ..  ..$ : chr \"S9370\"\n ..  ..$ : chr \"T1001\"\n ..  ..$ : chr [1:2] \"0286T\" \"0583T\"\n @ process_groups  :List of 5\n .. $ g1: chr [1:3] \"H\" \"J\" \"M\"\n .. $ g2:List of 18\n ..  ..$ : chr [1:3] \"00\" \"03\" \"07\"\n ..  ..$ : chr \"17\"\n ..  ..$ : chr [1:4] \"22\" \"25\" \"26\" \"27\"\n ..  ..$ : chr [1:4] \"31\" \"32\" \"34\" \"35\"\n ..  ..$ : chr [1:3] \"50\" \"52\" \"59\"\n ..  ..$ : chr \"68\"\n ..  ..$ : chr \"74\"\n ..  ..$ : chr [1:3] \"80\" \"82\" \"84\"\n ..  ..$ : chr [1:2] \"95\" \"99\"\n ..  ..$ : chr [1:3] \"A4\" \"A6\" \"A7\"\n ..  ..$ : chr [1:2] \"C2\" \"C9\"\n ..  ..$ : chr \"E0\"\n ..  ..$ : chr [1:2] \"G2\" \"G8\"\n ..  ..$ : chr \"K0\"\n ..  ..$ : chr [1:3] \"L1\" \"L2\" \"L5\"\n ..  ..$ : chr [1:2] \"Q0\" \"Q4\"\n ..  ..$ : chr \"S3\"\n ..  ..$ : chr \"V5\"\n .. $ g3:List of 14\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"105\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr [1:2] \"332\" \"337\"\n ..  .. ..$ : chr \"362\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"448\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"548\"\n ..  .. ..$ : chr \"572\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"646\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"811\"\n ..  .. ..$ : chr [1:2] \"867\" \"869\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"908\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"C17\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"D01\"\n ..  .. ..$ : chr \"D75\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"E23\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"G10\"\n ..  .. ..$ : chr [1:4] \"G90\" \"G94\" \"G96\" \"G98\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"L66\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"Q20\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"V23\"\n .. $ g4:List of 12\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"0180\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"2145\"\n ..  .. ..$ : chr \"2830\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"3394\"\n ..  .. ..$ : chr \"3722\"\n ..  ..$ :List of 3\n ..  .. ..$ : chr \"4539\"\n ..  .. ..$ : chr \"4943\"\n ..  .. ..$ : chr \"4965\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"5445\"\n ..  .. ..$ : chr \"5866\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"6236\"\n ..  ..$ :List of 6\n ..  .. ..$ : chr \"8133\"\n ..  .. ..$ : chr \"8391\"\n ..  .. ..$ : chr \"8835\"\n ..  .. ..$ : chr \"8904\"\n ..  .. ..$ : chr \"8720\"\n ..  .. ..$ : chr \"8789\"\n ..  ..$ :List of 3\n ..  .. ..$ : chr \"9047\"\n ..  .. ..$ : chr \"9297\"\n ..  .. ..$ : chr \"9437\"\n ..  ..$ :List of 3\n ..  .. ..$ : chr \"A039\"\n ..  .. ..$ : chr \"A200\"\n ..  .. ..$ : chr \"A955\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"C890\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"L700\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"S556\"\n .. $ g5:List of 12\n ..  ..$ :List of 1\n ..  .. ..$ : chr [1:2] \"0286T\" \"0583T\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"29581\"\n ..  ..$ :List of 3\n ..  .. ..$ : chr \"40843\"\n ..  .. ..$ : chr \"43108\"\n ..  .. ..$ : chr \"44390\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"57156\"\n ..  ..$ :List of 4\n ..  .. ..$ : chr \"61000\"\n ..  .. ..$ : chr \"61544\"\n ..  .. ..$ : chr \"65730\"\n ..  .. ..$ : chr \"67820\"\n ..  ..$ :List of 3\n ..  .. ..$ : chr \"72050\"\n ..  .. ..$ : chr \"78262\"\n ..  .. ..$ : chr \"78710\"\n ..  ..$ :List of 7\n ..  .. ..$ : chr \"81295\"\n ..  .. ..$ : chr \"86079\"\n ..  .. ..$ : chr \"87272\"\n ..  .. ..$ : chr \"87491\"\n ..  .. ..$ : chr \"88045\"\n ..  .. ..$ : chr \"88275\"\n ..  .. ..$ : chr \"88325\"\n ..  ..$ :List of 3\n ..  .. ..$ : chr \"90739\"\n ..  .. ..$ : chr \"92134\"\n ..  .. ..$ : chr \"97814\"\n ..  ..$ :List of 3\n ..  .. ..$ : chr \"A5504\"\n ..  .. ..$ : chr \"A9156\"\n ..  .. ..$ : chr \"A9573\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"L8410\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"S9370\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"T1001\"\n @ reduce_groups   :List of 5\n .. $ g1: 'glue' chr \"^HJM[0-9]{4}\"\n .. $ g2:List of 18\n ..  ..$ : chr \"0[037]\"\n ..  ..$ : chr \"17\"\n ..  ..$ : chr \"2[25-7]\"\n ..  ..$ : chr \"3[1245]\"\n ..  ..$ : chr \"5[029]\"\n ..  ..$ : chr \"68\"\n ..  ..$ : chr \"74\"\n ..  ..$ : chr \"8[024]\"\n ..  ..$ : chr \"9[59]\"\n ..  ..$ : chr \"A[467]\"\n ..  ..$ : chr \"C[29]\"\n ..  ..$ : chr \"E0\"\n ..  ..$ : chr \"G[28]\"\n ..  ..$ : chr \"K0\"\n ..  ..$ : chr \"L[125]\"\n ..  ..$ : chr \"Q[04]\"\n ..  ..$ : chr \"S3\"\n ..  ..$ : chr \"V5\"\n .. $ g3:List of 14\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"105\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"33[27]\"\n ..  .. ..$ : chr \"362\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"448\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"548\"\n ..  .. ..$ : chr \"572\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"646\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"811\"\n ..  .. ..$ : chr \"86[79]\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"908\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"C17\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"D01\"\n ..  .. ..$ : chr \"D75\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"E23\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"G10\"\n ..  .. ..$ : chr \"G9[0468]\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"L66\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"Q20\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"V23\"\n .. $ g4:List of 12\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"0180\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"2145\"\n ..  .. ..$ : chr \"2830\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"3394\"\n ..  .. ..$ : chr \"3722\"\n ..  ..$ :List of 3\n ..  .. ..$ : chr \"4539\"\n ..  .. ..$ : chr \"4943\"\n ..  .. ..$ : chr \"4965\"\n ..  ..$ :List of 2\n ..  .. ..$ : chr \"5445\"\n ..  .. ..$ : chr \"5866\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"6236\"\n ..  ..$ :List of 6\n ..  .. ..$ : chr \"8133\"\n ..  .. ..$ : chr \"8391\"\n ..  .. ..$ : chr \"8835\"\n ..  .. ..$ : chr \"8904\"\n ..  .. ..$ : chr \"8720\"\n ..  .. ..$ : chr \"8789\"\n ..  ..$ :List of 3\n ..  .. ..$ : chr \"9047\"\n ..  .. ..$ : chr \"9297\"\n ..  .. ..$ : chr \"9437\"\n ..  ..$ :List of 3\n ..  .. ..$ : chr \"A039\"\n ..  .. ..$ : chr \"A200\"\n ..  .. ..$ : chr \"A955\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"C890\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"L700\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"S556\"\n .. $ g5:List of 12\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"0[25]8[36]T\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"29581\"\n ..  ..$ :List of 3\n ..  .. ..$ : chr \"40843\"\n ..  .. ..$ : chr \"43108\"\n ..  .. ..$ : chr \"44390\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"57156\"\n ..  ..$ :List of 4\n ..  .. ..$ : chr \"61000\"\n ..  .. ..$ : chr \"61544\"\n ..  .. ..$ : chr \"65730\"\n ..  .. ..$ : chr \"67820\"\n ..  ..$ :List of 3\n ..  .. ..$ : chr \"72050\"\n ..  .. ..$ : chr \"78262\"\n ..  .. ..$ : chr \"78710\"\n ..  ..$ :List of 7\n ..  .. ..$ : chr \"81295\"\n ..  .. ..$ : chr \"86079\"\n ..  .. ..$ : chr \"87272\"\n ..  .. ..$ : chr \"87491\"\n ..  .. ..$ : chr \"88045\"\n ..  .. ..$ : chr \"88275\"\n ..  .. ..$ : chr \"88325\"\n ..  ..$ :List of 3\n ..  .. ..$ : chr \"90739\"\n ..  .. ..$ : chr \"92134\"\n ..  .. ..$ : chr \"97814\"\n ..  ..$ :List of 3\n ..  .. ..$ : chr \"A5504\"\n ..  .. ..$ : chr \"A9156\"\n ..  .. ..$ : chr \"A9573\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"L8410\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"S9370\"\n ..  ..$ :List of 1\n ..  .. ..$ : chr \"T1001\"\n @ recombine_groups:List of 5\n .. $ v1: 'glue' chr \"^HJM[0-9]{4}\"\n .. $ v2: 'glue' chr \"(0[037]|17|2[25-7]|3[1245]|5[029]|68|74|8[024]|9[59]|A[467]|C[29]|E0|G[28]|K0|L[125]|Q[04]|S3|V5)\"\n .. $ v3:List of 6\n ..  ..$ : 'glue' chr \"(105|448|646|908|C17|E23|L66|Q20|V23)\"\n ..  ..$ : 'glue' chr \"3(3[27]|62)\"\n ..  ..$ : 'glue' chr \"5(48|72)\"\n ..  ..$ : 'glue' chr \"8(11|6[79])\"\n ..  ..$ : 'glue' chr \"D(01|75)\"\n ..  ..$ : 'glue' chr \"G(10|9[0468])\"\n .. $ v4:List of 8\n ..  ..$ : 'glue' chr \"(0180|6236|C890|L700|S556)\"\n ..  ..$ : 'glue' chr \"2(145|830)\"\n ..  ..$ : 'glue' chr \"3(394|722)\"\n ..  ..$ : 'glue' chr \"4(539|943|965)\"\n ..  ..$ : 'glue' chr \"5(445|866)\"\n ..  ..$ : 'glue' chr \"8(133|391|835|904|720|789)\"\n ..  ..$ : 'glue' chr \"9(047|297|437)\"\n ..  ..$ : 'glue' chr \"A(039|200|955)\"\n .. $ v5:List of 7\n ..  ..$ : 'glue' chr \"(0[25]8[36]T|29581|57156|L8410|S9370|T1001)\"\n ..  ..$ : 'glue' chr \"4(0843|3108|4390)\"\n ..  ..$ : 'glue' chr \"6(1000|1544|5730|7820)\"\n ..  ..$ : 'glue' chr \"7(2050|8262|8710)\"\n ..  ..$ : 'glue' chr \"8(1295|6079|7272|7491|8045|8275|8325)\"\n ..  ..$ : 'glue' chr \"9(0739|2134|7814)\"\n ..  ..$ : 'glue' chr \"A(5504|9156|9573)\"\n```\n\n\n:::\n:::\n\n\n\n\n<hr>\n\n\n\n\n{{< pagebreak >}}\n\n\n\n\n\n\n::: {#nte-references .callout-tip collapse=\"true\"}\n\n## Links\n### Reference\n\n   - [Regex Cheatsheet](https://github.com/raredd/regex)\n   - [Learn Regex](https://github.com/ziishaned/learn-regex)\n   - [Evaluating strings as code](https://josiahparry.com/posts/2024-06-13-eval-strings)\n   - [Building rules from code operands](https://github.com/Permian-Global-Research/rsi)\n   - [Filter logic](https://github.com/atorus-research/ardis/blob/main/R/denom.R)\n   - [Regular-Expression.info](https://www.regular-expressions.info/tutorial.html)\n   - [RexEgg](https://www.rexegg.com/)\n   - [Regular Expressions as used in R](https://stat.ethz.ch/R-manual/R-devel/library/base/html/regex.html)\n   - [Debuggex](https://www.debuggex.com/)\n\n### Packages\n\n   - [**textshape**](https://github.com/trinker/textshape)\n   - [**stringr.plus**](https://github.com/johncassil/stringr.plus)\n   - [**regexmagic**](https://github.com/jonocarroll/regexmagic)\n   - [**makeunique**](https://github.com/selkamand/makeunique)\n   - [**similiars**](https://github.com/davidsjoberg/similiars)\n   - [**strex**](https://github.com/rorynolan/strex/)\n   - [**stringfish**](https://github.com/traversc/stringfish)\n   - [**collapse**](https://sebkrantz.github.io/collapse/)\n   - [**kit**](https://github.com/2005m/kit)\n   - [**cheapr**](https://github.com/NicChr/cheapr)\n   - [**fastplyr**](https://github.com/NicChr/fastplyr)\n   - [**stringi**](https://stringi.gagolewski.com/)\n   - [**qdapRegex**](https://github.com/trinker/qdapRegex)\n   - [**charcuterie**](https://github.com/jonocarroll/charcuterie)\n\n### Functions\n\n   - [mark::globbing](https://github.com/jmbarbone/mark/blob/main/R/glob.R)\n   - [RUtil::make_unique_comb](https://github.com/raivokolde/RUtil/blob/master/Source/R/make_unique_comb.r)\n   - [mirmisc::longest_common_substring](https://github.com/mirvie/mirmisc/blob/main/R/utils.R)\n   - [hutils::longest prefix/suffix](https://github.com/HughParsonage/hutils/blob/master/R/longest_affix.R)\n   - [tidyext::combn_2_col](https://github.com/m-clark/tidyext/blob/master/R/combn_2_col.R)\n\n::: \n\n\n## Session Information \n\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n**R version 4.4.2 (2024-10-31 ucrt)**\n\n**Platform:** x86_64-w64-mingw32/x64 \n\n**locale:**\n_LC_COLLATE=English_United States.utf8_, _LC_CTYPE=English_United States.utf8_, _LC_MONETARY=English_United States.utf8_, _LC_NUMERIC=C_ and _LC_TIME=English_United States.utf8_\n\n**attached base packages:** \n_stats_, _graphics_, _grDevices_, _utils_, _datasets_, _methods_ and _base_\n\n**other attached packages:** \n_codex(v.0.0.1)_, _fuimus(v.0.0.5.9002)_, _collapse(v.2.0.18)_, _data.table(v.1.16.99)_, _stringfish(v.0.16.0)_, _S7(v.0.2.0.9000)_, _vctrs(v.0.6.5)_, _cli(v.3.6.3)_, _rlang(v.1.1.4)_, _lubridate(v.1.9.4)_, _forcats(v.1.0.0)_, _stringr(v.1.5.1)_, _dplyr(v.1.1.4)_, _purrr(v.1.0.2)_, _readr(v.2.1.5)_, _tidyr(v.1.3.1.9000)_, _tibble(v.3.2.1)_, _ggplot2(v.3.5.1)_ and _tidyverse(v.2.0.0)_\n\n**loaded via a namespace (and not attached):** \n_rappdirs(v.0.3.3)_, _utf8(v.1.2.4)_, _generics(v.0.1.3)_, _stringi(v.1.8.4)_, _hms(v.1.1.3)_, _digest(v.0.6.37)_, _magrittr(v.2.0.3)_, _evaluate(v.1.0.1)_, _grid(v.4.4.2)_, _timechange(v.0.3.0)_, _fastmap(v.1.2.0)_, _rprojroot(v.2.0.4)_, _jsonlite(v.1.8.9)_, _pins(v.1.4.0)_, _pander(v.0.6.5)_, _kit(v.0.0.19)_, _fansi(v.1.0.6)_, _scales(v.1.3.0)_, _northstar(v.0.0.8)_, _textshaping(v.0.4.1)_, _RApiSerialize(v.0.1.4)_, _crayon(v.1.5.3)_, _munsell(v.0.5.1)_, _withr(v.3.0.2)_, _yaml(v.2.3.10)_, _qs(v.0.27.2)_, _tools(v.4.4.2)_, _parallel(v.4.4.2)_, _tzdb(v.0.4.0)_, _colorspace(v.2.1-1)_, _here(v.1.0.1)_, _R6(v.2.5.1)_, _lifecycle(v.1.0.4)_, _cheapr(v.0.9.92)_, _fs(v.1.6.5)_, _htmlwidgets(v.1.6.4)_, _ragg(v.1.3.3)_, _pkgconfig(v.2.0.3)_, _RcppParallel(v.5.1.9)_, _pillar(v.1.9.0)_, _gtable(v.0.3.6)_, _glue(v.1.8.0)_, _Rcpp(v.1.0.13-1)_, _systemfonts(v.1.1.0)_, _xfun(v.0.49)_, _tidyselect(v.1.2.1)_, _rstudioapi(v.0.17.1)_, _knitr(v.1.49)_, _htmltools(v.0.5.8.1)_, _rmarkdown(v.2.29)_ and _compiler(v.4.4.2)_\n:::\n:::\n",
    "supporting": [
      "regex_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}