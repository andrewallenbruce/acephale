{
  "hash": "d9065df6d41be4eed1c0cc4b54ae8b21",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"provider: Comprehensive Search\"\nformat:\n  html:\n    reference-location: block\neditor_options: \n  chunk_output_type: console\n---\n\n::: {.cell}\n\n:::\n\n\n\n\n# S7 Sketch\n\n## API Examples\n\n### NPPES\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nnppes(npi = 1043245657) |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1\nColumns: 29\n$ npi           <chr> \"1043245657\"\n$ entity_type   <fct> Individual\n$ enum_date     <date> 2006-07-11\n$ last_update   <date> 2013-10-08\n$ status        <fct> Active\n$ prefix        <chr> \"Dr.\"\n$ first         <chr> \"MARK\"\n$ middle        <chr> \"K\"\n$ last          <chr> \"FUNG\"\n$ gender        <fct> Male\n$ credential    <chr> \"MD, PhD\"\n$ sole_prop     <lgl> FALSE\n$ purpose       <fct> Practice\n$ address       <chr> \"111 COLCHESTER AVE FLETCHER ALLEN HEALTH CARE - PATHOLO…\n$ city          <chr> \"BURLINGTON\"\n$ state         <ord> VT\n$ zip           <chr> \"054011473\"\n$ country       <chr> \"US\"\n$ phone         <chr> \"802-847-3000\"\n$ fax           <chr> \"802-847-3509\"\n$ tx_code       <chr> \"207ZB0001X\"\n$ tx_primary    <lgl> TRUE\n$ tx_desc       <chr> \"Pathology, Blood Banking & Transfusion Medicine\"\n$ tx_license    <chr> \"042-0010655\"\n$ tx_state      <ord> VT\n$ id_code       <chr> \"05\"\n$ id_desc       <chr> \"MEDICAID\"\n$ id_state      <ord> VT\n$ id_identifier <chr> \"1010070\"\n```\n\n\n:::\n:::\n\n\n\n\n### Taxonomy\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nex_tx = \"207ZB0001X\"\n```\n:::\n\n\n\n\n::: {.panel-tabset}\n\n## Display\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntx_dis <- taxonomy_display(\n  taxonomy_code = ex_tx\n  )[[\"taxonomy_display\"]]\n\ncat(tx_dis)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nBlood Banking & Transfusion Medicine Physician\n```\n\n\n:::\n:::\n\n\n\n\n## Definition\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntx_def <- taxonomy_definition(\n  taxonomy_code = ex_tx\n  )[[\"taxonomy_definition\"]]\n\ncat(tx_def)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nA physician who specializes in blood banking/transfusion medicine is responsible for the maintenance of an adequate blood supply, blood donor and patient-recipient safety and appropriate blood utilization. Pre-transfusion compatibility testing and antibody testing assure that blood transfusions, when indicated, are as safe as possible. This physician directs the preparation and safe use of specially prepared blood components, including red blood cells, white blood cells, platelets and plasma constituents, and marrow or stem cells for transplantation.\n```\n\n\n:::\n:::\n\n\n\n\n## Hierarchy\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntx_hier <- taxonomy_hierarchy(\n  taxonomy_code = ex_tx\n  )[, 2:3]\n\ntx_hier\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 2\n  taxonomy_level      taxonomy_level_title                \n  <ord>               <chr>                               \n1 I. Section          Individual                          \n2 II. Grouping        Allopathic & Osteopathic Physicians \n3 III. Classification Pathology                           \n4 IV. Specialization  Blood Banking & Transfusion Medicine\n```\n\n\n:::\n:::\n\n\n\n\n## Changelog\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntx_chg <- taxonomy_changelog(\n  taxonomy_code = ex_tx\n  )[, 2:4]\n\ntx_chg\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 3\n  date       change   details           \n  <date>     <ord>    <chr>             \n1 2007-07-01 modified definition, source\n2 2011-07-01 modified source            \n```\n\n\n:::\n:::\n\n\n\n\n## Console\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nutils::formatOL(\n  c(\n    \"Section: \",\n    \"Grouping: \",\n    \"Classification: \",\n    \"Specialization: \"\n    ),\n  type = \"I\",\n  offset = 2\n  ) |> \n  writeLines()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    I. Section:\n   II. Grouping:\n  III. Classification:\n   IV. Specialization:\n```\n\n\n:::\n\n```{.r .cell-code}\n# view_length <- \\(x) {\n#   grp_name <- format(seq_along(x))\n#   grp_size <- format(vlen(x), justify = \"left\")\n#   grp_mems <- unname(x)\n#   grp_mems <- if (empty(grp_mems)) NULL else format(grp_mems, justify = \"none\")\n#   cli::cat_bullet(glue::glue(\"{grp_name}: \", \"{grp_size}|\", \"-[{grp_mems}]\"))\n#   return(invisible(x))\n# }\n```\n:::\n\n\n\n\n\n::: \n\n<hr>\n\n### Medicare Enrollment\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nproviders(npi = 1043245657) |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1\nColumns: 10\n$ npi                   <chr> \"1043245657\"\n$ pac                   <chr> \"7810891009\"\n$ enid                  <chr> \"I20031120000251\"\n$ specialty_code        <chr> \"14-22\"\n$ specialty_description <chr> \"PRACTITIONER - PATHOLOGY\"\n$ state                 <ord> VT\n$ first                 <chr> \"MARK\"\n$ middle                <chr> \"K\"\n$ last                  <chr> \"FUNG\"\n$ gender                <fct> Male\n```\n\n\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nclinicians(npi = 1043245657) |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1\nColumns: 19\n$ npi           <chr> \"1043245657\"\n$ pac           <chr> \"7810891009\"\n$ enid          <chr> \"I20031120000251\"\n$ first         <chr> \"MARK\"\n$ middle        <chr> \"K\"\n$ last          <chr> \"FUNG\"\n$ gender        <fct> Male\n$ credential    <chr> \"MD\"\n$ school        <chr> \"UNIVERSITY OF ALABAMA SCHOOL OF MEDICINE\"\n$ grad_year     <int> 1999\n$ specialty     <chr> \"PATHOLOGY\"\n$ facility_name <chr> \"UNIVERSITY OF VERMONT MEDICAL CENTER INC\"\n$ pac_org       <chr> \"3779491071\"\n$ members_org   <int> 1023\n$ address_org   <chr> \"111 COLCHESTER AVE\"\n$ city_org      <chr> \"BURLINGTON\"\n$ state_org     <ord> VT\n$ zip_org       <chr> \"054011473\"\n$ phone_org     <chr> \"8028470000\"\n```\n\n\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nopt_out(npi = 1043245657)\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\norder_refer(npi = 1043245657)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 4\n  npi        first last  eligible                 \n  <chr>      <chr> <chr> <fct>                    \n1 1043245657 MARK  FUNG  Medicare Part B          \n2 1043245657 MARK  FUNG  Home Health Agency       \n3 1043245657 MARK  FUNG  Durable Medical Equipment\n4 1043245657 MARK  FUNG  Power Mobility Devices   \n5 1043245657 MARK  FUNG  Hospice                  \n```\n\n\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nreassignments(npi = 1043245657) |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1\nColumns: 12\n$ npi           <chr> \"1043245657\"\n$ pac           <chr> \"7810891009\"\n$ enid          <chr> \"I20031120000251\"\n$ first         <chr> \"MARK\"\n$ last          <chr> \"FUNG\"\n$ associations  <int> 1\n$ organization  <chr> \"UNIVERSITY OF VERMONT MEDICAL CENTER INC\"\n$ pac_org       <chr> \"3779491071\"\n$ enid_org      <chr> \"O20060822000040\"\n$ state_org     <ord> VT\n$ reassignments <int> 98\n$ entry         <fct> Reassignment\n```\n\n\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\naffiliations(npi = 1043245657) |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 2\nColumns: 7\n$ npi           <chr> \"1043245657\", \"1043245657\"\n$ pac           <chr> \"7810891009\", \"7810891009\"\n$ first         <chr> \"MARK\", \"MARK\"\n$ middle        <chr> \"K\", \"K\"\n$ last          <chr> \"FUNG\", \"FUNG\"\n$ facility_type <fct> Hospital, Hospital\n$ facility_ccn  <chr> \"470003\", \"330250\"\n```\n\n\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nhospitals(facility_ccn = 470003) |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 2\nColumns: 21\n$ npi_org           <chr> \"1568419976\", \"1568419976\"\n$ pac_org           <chr> \"3779491071\", \"3779491071\"\n$ enid_org          <chr> \"O20021111000009\", \"O20021111000009\"\n$ enid_state        <ord> VT, VT\n$ facility_ccn      <chr> \"470003\", \"470003\"\n$ organization      <chr> \"UNIVERSITY OF VERMONT MEDICAL CENTER INC\", \"UNIVERS…\n$ doing_business_as <chr> \"UNIVERSITY OF VERMONT MEDICAL CENTER\", \"UNIVERSITY …\n$ specialty_code    <chr> \"00-09\", \"00-09\"\n$ specialty         <chr> \"PART A PROVIDER - HOSPITAL\", \"PART A PROVIDER - HOS…\n$ incorp_date       <date> 1995-01-01, 1995-01-01\n$ incorp_state      <ord> VT, VT\n$ structure         <chr> \"CORPORATION\", \"CORPORATION\"\n$ address           <chr> \"111 COLCHESTER AVE\", \"111 COLCHESTER AVE\"\n$ city              <chr> \"BURLINGTON\", \"BURLINGTON\"\n$ state             <ord> VT, VT\n$ zip               <chr> \"54011473\", \"54011473\"\n$ location_type     <chr> \"OTHER HOSPITAL PRACTICE LOCATION: HOSPITAL - GENERA…\n$ registration      <fct> Non-Profit, Non-Profit\n$ multi_npi         <lgl> FALSE, FALSE\n$ reh_conversion    <lgl> FALSE, FALSE\n$ subgroup          <fct> Acute Care, Other\n```\n\n\n:::\n\n```{.r .cell-code}\nhospitals(facility_ccn = 330250) |> glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1\nColumns: 21\n$ npi_org           <chr> \"1033270699\"\n$ pac_org           <chr> \"2769396878\"\n$ enid_org          <chr> \"O20120110000201\"\n$ enid_state        <ord> NY\n$ facility_ccn      <chr> \"330250\"\n$ organization      <chr> \"CHAMPLAIN VALLEY PHYSICIANS HOSPITAL MEDICAL CENTER\"\n$ doing_business_as <chr> \"THE UNIVERSITY OF VT HEALTH NETWORK - CHAMPLAIN VAL…\n$ specialty_code    <chr> \"00-09\"\n$ specialty         <chr> \"PART A PROVIDER - HOSPITAL\"\n$ incorp_date       <date> 1926-01-01\n$ incorp_state      <ord> NY\n$ structure         <chr> \"CORPORATION\"\n$ address           <chr> \"75 BEEKMAN ST\"\n$ city              <chr> \"PLATTSBURGH\"\n$ state             <ord> NY\n$ zip               <chr> \"129011438\"\n$ location_type     <chr> \"MAIN/PRIMARY HOSPITAL LOCATION\"\n$ registration      <fct> Non-Profit\n$ multi_npi         <lgl> FALSE\n$ reh_conversion    <lgl> FALSE\n$ subgroup          <fct> Acute Care\n```\n\n\n:::\n:::\n\n\n\n\n## Provider Class\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nProvider <- new_class(\n  name = \"Provider\", \n  abstract = TRUE,\n  properties = list(\n    npi = class_character,\n    entity = class_factor\n  ))\n```\n:::\n\n\n\n\n### Individual Class\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nIndividual <- new_class(\n  name = \"Individual\",\n  parent = Provider,\n  properties = list(\n    npi = new_property(NULL | class_character),\n    entity = new_property(NULL | class_character),\n    demographics = new_property(class_list, \n      default = list(\n        prefix = class_character,\n        first_name = class_character,\n        middle_name = class_character,\n        last_name = class_character,\n        suffix = class_character,\n        gender = class_character,\n        credential = class_character,\n        sole_proprietor = class_logical,\n        medical_school = class_character,\n        graduation_year = class_integer\n      )),\n    dates = new_property(\n      class_list, \n      default = list(\n        updated = class_Date,\n        enumerated = class_Date,\n        certified = class_Date\n      )),\n    address = new_property(\n      class_list, \n      default = list(\n        purpose = class_character,\n        street = class_character,\n        city = class_character,\n        state = class_character,\n        postal_code = class_character,\n        country = class_character,\n        phone = class_character,\n        fax = class_character\n      )),\n    taxonomy = new_property(\n      class_list, \n      default = list(\n        code = class_character,\n        primary = class_logical,\n        description = class_character,\n        license = class_character,\n        state = class_character\n      )),\n    identifier = new_property(\n      class_list, \n      default = list(\n        code = class_character,\n        indicator = class_character,\n        issuer = class_character,\n        state = class_character\n      )),\n    enrollment = new_property(class_list, \n      default = list(\n        pac = new_property(NULL | class_character),\n        enid = new_property(NULL | class_character),\n        specialty = new_property(\n          class_list, \n          default = list(\n            code = class_character, \n            description = class_character)),\n        state = class_character,\n        # opt_out = new_property(class_logical | class_list),\n        order_refer = new_property(\n          class_list, \n          default = list(\n          MedicareB = class_logical,\n          HHA = class_logical,\n          DME = class_logical,\n          PMD = class_logical,\n          Hospice = class_logical))))))\n```\n:::\n\n\n\n\n#### Example\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nfung_ex <- Individual(\n  npi = \"1043245657\",\n  entity = \"I\",\n  demographics = list(\n    prefix = \"DR\",\n    first_name = \"MARK\",\n    middle_name = \"K\",\n    last_name = \"FUNG\",\n    suffix = NA_character_,\n    gender = \"Male\",\n    credential = \"MD, PhD\",\n    sole_proprietor = FALSE,\n    medical_school = NA_character_,\n    graduation_year = 1999L),\n  dates = list(\n    updated = as.Date(\"2013-10-08\"),\n    enumerated = as.Date(\"2006-07-11\"),\n    certified = as.Date(\"2021-07-01\")),\n  address = list(\n    purpose = \"Practice\",\n    street = \"111 COLCHESTER AVE\",\n    city = \"BURLINGTON\",\n    state = \"VT\",\n    postal_code = \"05401\",\n    country = \"US\",\n    phone = \"802-847-3000\",\n    fax = \"802-847-3509\"),\n  taxonomy = list(\n    code = \"207ZB0001X\",\n    primary = TRUE,\n    description = \"Pathology, Blood Banking & Transfusion Medicine\",\n    license = \"042-0010655\",\n    state = \"VT\"),\n  identifier = list(\n    code = \"1010070\",\n    indicator = \"05\",\n    issuer = \"MEDICAID\",\n    state = \"VT\"),\n  enrollment = list(\n    pac = \"7810891009\",\n    enid = \"I20031120000251\",\n    specialty = list(\n      code = \"14-22\",\n      description = \"PRACTITIONER - PATHOLOGY\"),\n    state = \"VT\",\n    order_refer = list(\n      MedicareB = TRUE,\n      HHA = TRUE,\n      DME = TRUE,\n      PMD = TRUE,\n      Hospice = TRUE)))\n\nfung_ex\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n<Individual>\n @ npi         : chr \"1043245657\"\n @ entity      : chr \"I\"\n @ demographics:List of 10\n .. $ prefix         : chr \"DR\"\n .. $ first_name     : chr \"MARK\"\n .. $ middle_name    : chr \"K\"\n .. $ last_name      : chr \"FUNG\"\n .. $ suffix         : chr NA\n .. $ gender         : chr \"Male\"\n .. $ credential     : chr \"MD, PhD\"\n .. $ sole_proprietor: logi FALSE\n .. $ medical_school : chr NA\n .. $ graduation_year: int 1999\n @ dates       :List of 3\n .. $ updated   : Date[1:1], format: \"2013-10-08\"\n .. $ enumerated: Date[1:1], format: \"2006-07-11\"\n .. $ certified : Date[1:1], format: \"2021-07-01\"\n @ address     :List of 8\n .. $ purpose    : chr \"Practice\"\n .. $ street     : chr \"111 COLCHESTER AVE\"\n .. $ city       : chr \"BURLINGTON\"\n .. $ state      : chr \"VT\"\n .. $ postal_code: chr \"05401\"\n .. $ country    : chr \"US\"\n .. $ phone      : chr \"802-847-3000\"\n .. $ fax        : chr \"802-847-3509\"\n @ taxonomy    :List of 5\n .. $ code       : chr \"207ZB0001X\"\n .. $ primary    : logi TRUE\n .. $ description: chr \"Pathology, Blood Banking & Transfusion Medicine\"\n .. $ license    : chr \"042-0010655\"\n .. $ state      : chr \"VT\"\n @ identifier  :List of 4\n .. $ code     : chr \"1010070\"\n .. $ indicator: chr \"05\"\n .. $ issuer   : chr \"MEDICAID\"\n .. $ state    : chr \"VT\"\n @ enrollment  :List of 5\n .. $ pac        : chr \"7810891009\"\n .. $ enid       : chr \"I20031120000251\"\n .. $ specialty  :List of 2\n ..  ..$ code       : chr \"14-22\"\n ..  ..$ description: chr \"PRACTITIONER - PATHOLOGY\"\n .. $ state      : chr \"VT\"\n .. $ order_refer:List of 5\n ..  ..$ MedicareB: logi TRUE\n ..  ..$ HHA      : logi TRUE\n ..  ..$ DME      : logi TRUE\n ..  ..$ PMD      : logi TRUE\n ..  ..$ Hospice  : logi TRUE\n```\n\n\n:::\n:::\n\n\n\n\n<hr>\n\n## Session Information \n\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n**R version 4.4.2 (2024-10-31 ucrt)**\n\n**Platform:** x86_64-w64-mingw32/x64 \n\n**locale:**\n_LC_COLLATE=English_United States.utf8_, _LC_CTYPE=English_United States.utf8_, _LC_MONETARY=English_United States.utf8_, _LC_NUMERIC=C_ and _LC_TIME=English_United States.utf8_\n\n**attached base packages:** \n_stats_, _graphics_, _grDevices_, _utils_, _datasets_, _methods_ and _base_\n\n**other attached packages:** \n_S7(v.0.2.0.9000)_, _arktax(v.0.0.1.9003)_, _provider(v.0.0.1.9000)_, _collapse(v.2.0.18)_, _kit(v.0.0.19)_, _magrittr(v.2.0.3)_, _data.table(v.1.16.99)_, _fastverse(v.0.3.4)_, _lubridate(v.1.9.4)_, _forcats(v.1.0.0)_, _stringr(v.1.5.1)_, _dplyr(v.1.1.4)_, _purrr(v.1.0.2)_, _readr(v.2.1.5)_, _tidyr(v.1.3.1.9000)_, _tibble(v.3.2.1)_, _ggplot2(v.3.5.1)_ and _tidyverse(v.2.0.0)_\n\n**loaded via a namespace (and not attached):** \n_gtable(v.0.3.6)_, _xfun(v.0.49)_, _httr2(v.1.0.7)_, _htmlwidgets(v.1.6.4)_, _RApiSerialize(v.0.1.4)_, _tzdb(v.0.4.0)_, _vctrs(v.0.6.5)_, _tools(v.4.4.2)_, _generics(v.0.1.3)_, _curl(v.6.0.1)_, _parallel(v.4.4.2)_, _fansi(v.1.0.6)_, _pkgconfig(v.2.0.3)_, _checkmate(v.2.3.2)_, _RcppParallel(v.5.1.9)_, _lifecycle(v.1.0.4)_, _compiler(v.4.4.2)_, _textshaping(v.0.4.1)_, _munsell(v.0.5.1)_, _janitor(v.2.2.0)_, _qs(v.0.27.2)_, _snakecase(v.0.11.1)_, _htmltools(v.0.5.8.1)_, _yaml(v.2.3.10)_, _pillar(v.1.9.0)_, _tidyselect(v.1.2.1)_, _digest(v.0.6.37)_, _stringi(v.1.8.4)_, _pander(v.0.6.5)_, _pins(v.1.4.0)_, _fastmap(v.1.2.0)_, _grid(v.4.4.2)_, _colorspace(v.2.1-1)_, _cli(v.3.6.3)_, _utf8(v.1.2.4)_, _withr(v.3.0.2)_, _backports(v.1.5.0)_, _scales(v.1.3.0)_, _rappdirs(v.0.3.3)_, _timechange(v.0.3.0)_, _rmarkdown(v.2.29)_, _ragg(v.1.3.3)_, _hms(v.1.1.3)_, _stringfish(v.0.16.0)_, _evaluate(v.1.0.1)_, _knitr(v.1.49)_, _rlang(v.1.1.4)_, _Rcpp(v.1.0.13-1)_, _zeallot(v.0.1.0)_, _glue(v.1.8.0)_, _strex(v.2.0.1)_, _rstudioapi(v.0.17.1)_, _jsonlite(v.1.8.9)_, _R6(v.2.5.1)_, _systemfonts(v.1.1.0)_ and _fs(v.1.6.5)_\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}