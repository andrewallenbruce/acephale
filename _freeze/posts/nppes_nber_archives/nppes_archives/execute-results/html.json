{
  "hash": "72dd50d85c574fcf3bef9560bcbac083",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"NPPES NPI Archives\"\nformat:\n  html:\n    reference-location: block\neditor_options: \n  chunk_output_type: console\n---\n\n::: {.cell}\n\n:::\n\n\n\n\n# 2024-01-01\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nw241_base <- wk_2024_01_01$basic |> \n  reframe(\n    npi,\n    entity = case_match(entity, \"Ind\" ~ \"I\", \"Org\" ~ \"O\", .default = entity),\n    prefix = str_remove_all(prefix, \"\\\\.\"),\n    first_name = str_remove_all(first, \"\\\\.\"),\n    middle_name = str_remove_all(middle, \"\\\\.\"),\n    last_name = str_remove_all(last, \"\\\\.\"),\n    suffix = str_remove_all(suffix, \"\\\\.\"),\n    credential = str_remove_all(credential, \"\\\\.\"),\n    gender,\n    last_update = updated,\n    cert_date = certified,\n    enum_date,\n    deact_date,\n    react_date,\n    sole_prop,\n    org_subpart = org_sub,\n    parent_org_lbn = str_remove_all(parent_org_lbn, \"\\\\.|,\"),\n    prov_org_lbn = str_remove_all(prov_org_lbn, \"\\\\.|,\"))\n```\n:::\n\n\n\n\n\n### Deactivated\n\nRemove deactivated NPIs with no reactivation date\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nw241_deact <- w241_base |> \n  filter(not_na(deact_date), \n         !not_na(react_date)) |> \n  remove_quiet()\n\nw241_deact_npi <- sf_convert(uniq_narm(w241_deact$npi))\n\nlength(w241_deact_npi)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 601\n```\n\n\n:::\n\n```{.r .cell-code}\nw241_deact |> fcount(deact_date)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 2\n  deact_date     N\n  <date>     <int>\n1 2024-01-01     1\n2 2024-01-02    47\n3 2024-01-03   502\n4 2024-01-04    28\n5 2024-01-05    18\n6 2024-01-06     5\n```\n\n\n:::\n:::\n\n\n\n\n> *Deactivated NPIs with Reactivation date*\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nw241_base |> \n  filter(not_na(deact_date), \n         not_na(react_date)) |> \n  arrange(desc(deact_date)) |> \n  group_split(entity) |> \n  map(remove_quiet)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[[1]]\n# A tibble: 61 × 15\n   npi   entity prefix first_name middle_name last_name suffix credential gender\n   <chr> <chr>  <chr>  <chr>      <chr>       <chr>     <chr>  <chr>      <chr> \n 1 1205… I      DR     FRANNIE    <NA>        ITZKOW    <NA>   BMBS       F     \n 2 1457… I      <NA>   COLE       <NA>        GOSAR     <NA>   <NA>       M     \n 3 1730… I      MS     YUSRA      AMEEN       JANGDA    <NA>   MD         F     \n 4 1528… I      <NA>   KATHLEEN   MADISON     KUESER    <NA>   DNP, CRNA… F     \n 5 1558… I      <NA>   YESENIA    <NA>        MALDONADO <NA>   <NA>       F     \n 6 1568… I      <NA>   BRAEDYN    <NA>        WEST      <NA>   CT         F     \n 7 1821… I      MRS    JENNIFER   LYNNE       O'BRIEN   <NA>   RD, LDN    F     \n 8 1902… I      MR     HASSAN     <NA>        ALI       <NA>   MD         M     \n 9 1699… I      <NA>   CANDACE    <NA>        ROGERS    <NA>   LCSW       F     \n10 1457… I      <NA>   ARIANA     <NA>        CERVANTES <NA>   <NA>       F     \n# ℹ 51 more rows\n# ℹ 6 more variables: last_update <date>, cert_date <date>, enum_date <date>,\n#   deact_date <date>, react_date <date>, sole_prop <chr>\n\n[[2]]\n# A tibble: 13 × 10\n   npi        entity last_update cert_date  enum_date  deact_date react_date\n   <chr>      <chr>  <date>      <date>     <date>     <date>     <date>    \n 1 1093887390 O      2024-01-05  2024-01-05 2006-11-14 2023-12-26 2024-01-04\n 2 1336288752 O      2024-01-02  2024-01-02 2007-02-05 2023-09-26 2023-10-24\n 3 1851029243 O      2024-01-05  2024-01-05 2022-08-12 2023-08-05 2023-08-24\n 4 1750431383 O      2024-01-02  2024-01-02 2007-01-12 2022-12-24 2023-01-05\n 5 1205813961 O      2024-01-03  2024-01-03 2005-12-23 2018-01-30 2018-02-20\n 6 1073799664 O      2024-01-02  2024-01-02 2008-01-14 2017-05-13 2017-10-18\n 7 1053371898 O      2024-01-03  2024-01-03 2006-03-24 2007-12-03 2008-01-11\n 8 1225007859 O      2024-01-03  2024-01-03 2006-03-16 2007-11-20 2008-01-04\n 9 1144280603 O      2024-01-03  2024-01-03 2006-03-27 2007-11-20 2008-01-04\n10 1538129440 O      2024-01-05  2024-01-05 2006-03-24 2007-11-20 2008-01-04\n11 1861460917 O      2024-01-03  2024-01-03 2006-03-14 2007-11-07 2007-12-13\n12 1750350245 O      2024-01-03  2024-01-03 2006-03-16 2007-11-07 2007-12-13\n13 1699735407 O      2024-01-03  2024-01-03 2006-03-24 2007-10-29 2007-12-13\n# ℹ 3 more variables: org_subpart <chr>, parent_org_lbn <chr>,\n#   prov_org_lbn <chr>\n```\n\n\n:::\n:::\n\n\n\n\n## Base\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nw241_base |> \n  fsubset(npi %!in% w241_deact_npi) |> \n  group_split(entity) |> \n  map(remove_quiet) |> \n  set_names(c(\"Individual\", \"Organization\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$Individual\n# A tibble: 15,267 × 15\n   npi   entity prefix first_name middle_name last_name suffix credential gender\n   <chr> <chr>  <chr>  <chr>      <chr>       <chr>     <chr>  <chr>      <chr> \n 1 1912… I      <NA>   DEIDRE     <NA>        HAMILTON  <NA>   <NA>       F     \n 2 1518… I      <NA>   VANESSA    <NA>        CHAMBERS  <NA>   RN         F     \n 3 1619… I      <NA>   DESTINY    RENEE       BARNETT   <NA>   AGACNP-BC  F     \n 4 1437… I      <NA>   MICHELE    <NA>        WHITE     <NA>   PHD LLP L… F     \n 5 1053… I      MS     CHANEL     MARIE       POOLE     <NA>   LMT        F     \n 6 1265… I      <NA>   LIVIA      S           MACHADO,… <NA>   <NA>       F     \n 7 1609… I      <NA>   EYAD       <NA>        ALDAAS    <NA>   MD         M     \n 8 1750… I      <NA>   TAM        T           TRAN      <NA>   MD         F     \n 9 1942… I      <NA>   WINFORD    <NA>        PALMA     <NA>   CRNA       M     \n10 1255… I      <NA>   GWENDOLYN  <NA>        WILSON    <NA>   LMHC, ATR  F     \n# ℹ 15,257 more rows\n# ℹ 6 more variables: last_update <date>, cert_date <date>, enum_date <date>,\n#   deact_date <date>, react_date <date>, sole_prop <chr>\n\n$Organization\n# A tibble: 3,917 × 10\n   npi        entity last_update cert_date  enum_date  deact_date react_date\n   <chr>      <chr>  <date>      <date>     <date>     <date>     <date>    \n 1 1952724692 O      2024-01-01  2024-01-01 2014-01-31 NA         NA        \n 2 1548924087 O      2024-01-01  2022-10-04 2021-10-29 NA         NA        \n 3 1295504330 O      2024-01-01  2023-09-26 2024-01-01 NA         NA        \n 4 1386413417 O      2024-01-01  2023-09-19 2024-01-01 NA         NA        \n 5 1558130690 O      2024-01-01  2023-12-21 2024-01-01 NA         NA        \n 6 1821867961 O      2024-01-01  2023-12-28 2024-01-01 NA         NA        \n 7 1649049784 O      2024-01-01  2023-12-27 2024-01-01 NA         NA        \n 8 1275302317 O      2024-01-01  2023-12-30 2024-01-01 NA         NA        \n 9 1356110498 O      2024-01-01  2023-12-30 2024-01-01 NA         NA        \n10 1508635640 O      2024-01-01  2023-12-30 2024-01-01 NA         NA        \n# ℹ 3,907 more rows\n# ℹ 3 more variables: org_subpart <chr>, parent_org_lbn <chr>,\n#   prov_org_lbn <chr>\n```\n\n\n:::\n:::\n\n\n\n\n## Address\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nw241_add <- wk_2024_01_01$address |> \n  left_join(w241_base[c(\"npi\", \"entity\")], by = join_by(npi)) |>\n  fsubset(npi %!in% w241_deact_npi) |> \n  select(\n    npi,\n    entity,\n    ends_with(\"address\"),\n    ends_with(\"city\"),\n    ends_with(\"state\"),\n    ends_with(\"zip\"),\n    ends_with(\"country\"),\n    ends_with(\"phone\"),\n    ends_with(\"fax\"))\n\n# Exact match on all address fields\nw241_exact <- w241_add |> \n  filter(\n    mail_address == prac_address,\n    mail_city == prac_city,\n    mail_state == prac_state,\n    mail_zip == prac_zip,\n    mail_country == prac_country,\n    mail_phone == prac_phone,\n    mail_fax == prac_fax) |> \n  fmutate(purpose = \"MP\") |>\n  fselect(\n    npi,\n    entity,\n    purpose,\n    address = prac_address,\n    city = prac_city,\n    state = prac_state,\n    zip = prac_zip,\n    country = prac_country,\n    phone = prac_phone,\n    fax = prac_fax) |> \n  rowwise() |>\n  mutate(\n    zip = if_else(not_na(zip) & sf_nchar(zip) == 9, \n      sf_smush(c(sf_sub(zip, 1, 5), \"-\", sf_sub(zip, 6, 9))), zip),\n    phone = if_else(not_na(phone) & sf_nchar(phone) == 10,\n      sf_smush(c(\"(\", sf_sub(phone, 1, 3), \") \", sf_sub(phone, 4, 6), \"-\", sf_sub(phone, 7, 10))), phone),\n    fax = if_else(not_na(fax) & sf_nchar(fax) == 10,\n      sf_smush(c(\"(\", sf_sub(fax, 1, 3), \") \", sf_sub(fax, 4, 6), \"-\", sf_sub(fax, 7, 10))), fax)) |> \n  ungroup()\n\n\n# Match on all except FAX\nw241_fax <- w241_add |> \n  filter(\n    npi %!in% w241_exact$npi,  \n    mail_address == prac_address, \n    mail_city == prac_city,\n    mail_state == prac_state,\n    mail_country == prac_country,\n    mail_zip == prac_zip,\n    mail_phone == prac_phone) |> \n  fmutate(\n    fax = case_when(\n      not_na(mail_fax) & not_na(prac_fax) & mail_fax == prac_fax ~ str_glue(\"{mail_fax}\"),\n      not_na(mail_fax) & not_na(prac_fax) & mail_fax != prac_fax ~ str_glue(\"{mail_fax}, {prac_fax}\"),\n      not_na(mail_fax) & !not_na(prac_fax) ~ str_glue(\"{mail_fax}\"),\n      !not_na(mail_fax) & not_na(prac_fax) ~ str_glue(\"{prac_fax}\"),\n      .default = NA_character_) |> as.character(),\n    purpose = case_when(\n      not_na(mail_fax) & !not_na(prac_fax) ~ \"M\",\n      !not_na(mail_fax) & not_na(prac_fax) ~ \"P\",\n      .default = \"MP\")\n    ) |> \n  fselect(\n    npi,\n    entity,\n    purpose,\n    address = prac_address,\n    city = prac_city,\n    state = prac_state,\n    zip = prac_zip,\n    country = prac_country,\n    phone = prac_phone,\n    fax) |>\n  fmutate(\n    zip = map_chr(\n      zip, \n      \\(x) if (not_na(x) & nchar(x) == 9) \n        smush(\n          c(substr(x, 1, 5), \"-\", substr(x, 6, 9))\n          ) else x),\n    phone = map_chr(\n      phone, \n      \\(x) if (not_na(x) & nchar(x) == 10) \n        smush(\n          c(\"(\", substr(x, 1, 3), \") \", substr(x, 4, 6), \"-\", substr(x, 7, 10))\n          ) else x),\n    fax = map_chr(\n      fax, \n      \\(x) if (not_na(x) & nchar(x) == 10) \n        smush(\n          c(\"(\", substr(x, 1, 3), \") \", substr(x, 4, 6), \"-\", substr(x, 7, 10))\n          ) else x)\n    )\n\n# Match on all except ZIP, PHONE, and FAX\nw241_phone <- w241_add |> \n  filter(\n    npi %!in% c(w241_exact$npi, w241_fax$npi),      \n    mail_address == prac_address,\n    mail_city == prac_city,\n    mail_state == prac_state,\n    mail_country == prac_country) |>\n  fmutate(\n    zip = case_when(\n      not_na(mail_zip) & not_na(prac_zip) & mail_zip == prac_zip ~ str_glue(\"{mail_zip}\"),\n      not_na(mail_zip) & not_na(prac_zip) & mail_zip != prac_zip ~ str_glue(\"{mail_zip}, {prac_zip}\"),\n      not_na(mail_zip) & !not_na(prac_zip) ~ str_glue(\"{mail_zip}\"),\n      !not_na(mail_zip) & not_na(prac_zip) ~ str_glue(\"{prac_zip}\"),\n      .default = NA_character_) |> as.character(),\n    phone = case_when(\n      not_na(mail_phone) & not_na(prac_phone) & mail_phone == prac_phone ~ str_glue(\"{mail_phone}\"),\n      not_na(mail_phone) & not_na(prac_phone) & mail_phone != prac_phone ~ str_glue(\"{mail_phone}, {prac_phone}\"),\n      not_na(mail_phone) & is.na(prac_phone) ~ str_glue(\"{mail_phone}\"),\n      is.na(mail_phone) & not_na(prac_phone) ~ str_glue(\"{prac_phone}\") |> as.character(),\n      .default = NA_character_) |> as.character(),\n    fax = case_when(\n      not_na(mail_fax) & not_na(prac_fax) & mail_fax == prac_fax ~ str_glue(\"{mail_fax}\"),\n      not_na(mail_fax) & not_na(prac_fax) & mail_fax != prac_fax ~ str_glue(\"{mail_fax} | {prac_fax}\"),\n      not_na(mail_fax) & !not_na(prac_fax) ~ str_glue(\"{mail_fax}\"),\n      !not_na(mail_fax) & not_na(prac_fax) ~ str_glue(\"{prac_fax}\"),\n      .default = NA_character_) |> as.character(),\n    purpose = case_when(\n      not_na(mail_zip) & !not_na(mail_zip) ~ \"M\",\n      !not_na(mail_zip) & not_na(mail_zip) ~ \"P\",\n      .default = \"MP\")) |> \n  fselect(\n    npi,\n    entity,\n    purpose,\n    address = prac_address,\n    city = prac_city,\n    state = prac_state,\n    zip,\n    country = prac_country,\n    phone,\n    fax) |> \n  fmutate(\n    zip = map_chr(zip, \\(x) if (not_na(x) & nchar(x) == 9) smush(c(substr(x, 1, 5), \"-\", substr(x, 6, 9))) else x), \n    phone = map_chr(phone, \\(x) if (not_na(x) & nchar(x) == 10) smush(c(\"(\", substr(x, 1, 3), \") \", substr(x, 4, 6), \"-\", substr(x, 7, 10))) else x),\n    phone = map_chr(phone, \\(x) if (not_na(x) & nchar(x) == 22) smush(\n      c(\"(\", substr(x, 1, 3), \") \", substr(x, 4, 6), \"-\", substr(x, 7, 10), \", \", \"(\", substr(x, 15, 17), \") \", substr(x, 18, 20), \"-\", substr(x, 21, 24))) else x),\n    fax = map_chr(fax, \\(x) if (not_na(x) & nchar(x) == 10) smush(c(\"(\", substr(x, 1, 3), \") \", substr(x, 4, 6), \"-\", substr(x, 7, 10))) else x))\n\n# Pivot remaining addresses\nw241_piv <- w241_add |> \n  filter(npi %!in% c(w241_exact$npi, w241_fax$npi, w241_phone$npi)) |> \n  pivot_longer(\n    -c(npi, entity), \n    names_to = \"type_part\", \n    values_to = \"value\", \n    names_transform = list(type_part = stringr::str_to_title)) |> \n  separate_wider_delim(\n    type_part, \n    delim = \"_\", \n    names = c(\"type\", \"part\")) |> \n  fmutate(\n    purpose = case_when(\n      type == \"Mail\" ~ \"M\",\n      type == \"Prac\" ~ \"P\",\n    .default = type),\n    type = NULL\n    ) |>\n  pivot_wider(names_from = part, values_from = value) |> \n  fmutate(\n    zip = map_chr(zip, \\(x) if (not_na(x) & nchar(x) == 9) smush(c(substr(x, 1, 5), \"-\", substr(x, 6, 9))) else x), \n    phone = map_chr(phone, \\(x) if (not_na(x) & nchar(x) == 10) smush(c(\"(\", substr(x, 1, 3), \") \", substr(x, 4, 6), \"-\", substr(x, 7, 10))) else x),\n    phone = map_chr(phone, \\(x) if (not_na(x) & nchar(x) == 22) smush(\n      c(\"(\", substr(x, 1, 3), \") \", substr(x, 4, 6), \"-\", substr(x, 7, 10), \", \", \"(\", substr(x, 15, 17), \") \", substr(x, 18, 20), \"-\", substr(x, 21, 24))) else x),\n    fax = map_chr(fax, \\(x) if (not_na(x) & nchar(x) == 10) smush(c(\"(\", substr(x, 1, 3), \") \", substr(x, 4, 6), \"-\", substr(x, 7, 10))) else x))\n\n# Combine all address matches\nrowbind(\n  w241_exact,\n  w241_fax,\n  w241_phone,\n  w241_piv) |> \n  group_split(entity) |> \n  map(remove_quiet) |> \n  set_names(c(\"Individual\", \"Organization\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$Individual\n# A tibble: 22,883 × 10\n   npi        entity purpose address       city  state zip   country phone fax  \n   <chr>      <chr>  <chr>   <chr>         <chr> <chr> <chr> <chr>   <chr> <chr>\n 1 1437575206 I      MP      3840 PACKARD… ANN … MI    4810… US      (734… (734…\n 2 1477895621 I      MP      3144 SANTA A… EL M… CA    9173… US      (626… (626…\n 3 1346019486 I      MP      57 TOWNSHIP … CHES… OH    4561… US      (740… (740…\n 4 1265201206 I      MP      822 LOVELACE… BREW… AL    3642… US      (251… (800…\n 5 1447029483 I      MP      350 FAIRWAY … DEER… FL    3344… US      (877… (866…\n 6 1295504249 I      MP      1550 N 115TH… SEAT… WA    9813… US      (206… (206…\n 7 1073382024 I      MP      401 16TH ST … ROCH… MN    5590… US      (507… (507…\n 8 1639948698 I      MP      920 SARATOGA… SAN … CA    9512… US      (408… (408…\n 9 1508635574 I      MP      14725 SE RHO… PORT… OR    9723… US      (971… (971…\n10 1932978905 I      MP      3801 KELL BL… WICH… TX    7630… US      (940… (940…\n# ℹ 22,873 more rows\n\n$Organization\n# A tibble: 5,839 × 10\n   npi        entity purpose address       city  state zip   country phone fax  \n   <chr>      <chr>  <chr>   <chr>         <chr> <chr> <chr> <chr>   <chr> <chr>\n 1 1548924087 O      MP      46 GRAMATAN … MOUN… NY    1055… US      (295… (646…\n 2 1205605342 O      MP      7610 CARROLL… TAKO… MD    2091… US      (301… (301…\n 3 1114796257 O      MP      6510 KENILWO… RIVE… MD    2073… US      (301… (301…\n 4 1902675945 O      MP      2585 PACIFIC… TORR… CA    9050… US      (424… (310…\n 5 1538938576 O      MP      10751 W ROWE… PEOR… AZ    8538… US      (623… (623…\n 6 1568231512 O      MP      1121 FIRECRA… JUST… TX    7624… US      (940… (940…\n 7 1912776964 O      MP      3760 CURTIS … COCOA FL    3292… US      (321… (321…\n 8 1306615364 O      MP      350 FAIRWAY … DEER… FL    3344… US      (877… (866…\n 9 1336918390 O      MP      240 E GARRIS… GAST… NC    2805… US      (980… (980…\n10 1649049610 O      MP      6751 N SUNSE… GLEN… AZ    8530… US      (775… (702…\n# ℹ 5,829 more rows\n```\n\n\n:::\n:::\n\n\n\n\n## Taxonomy\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nw241_tax <- wk_2024_01_01$taxonomy |> \n  left_join(w241_base[c(\"npi\", \"entity\")], by = join_by(npi)) |>\n  fsubset(npi %!in% w241_deact_npi) |> \n  reframe(\n    npi,\n    entity,\n    code = taxonomy_code,\n    group = taxonomy_group,\n    primary = taxonomy_primary,\n    license = license_number,\n    state = license_state) |> \n  group_split(entity) |> \n  map(remove_quiet) |> \n  set_names(c(\"Individual\", \"Organization\"))\n\nw241_tax\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n$Individual\n# A tibble: 21,532 × 7\n   npi        entity code       group primary license    state\n   <chr>      <chr>  <chr>      <chr> <fct>   <chr>      <chr>\n 1 1003009861 I      207RC0000X <NA>  Y       45263      AZ   \n 2 1003013137 I      363AM0700X <NA>  Y       <NA>       MN   \n 3 1003013137 I      363AM0700X <NA>  N       4354       WI   \n 4 1003018060 I      106H00000X <NA>  Y       959        NV   \n 5 1003047531 I      207L00000X <NA>  Y       116063     CA   \n 6 1003047531 I      390200000X <NA>  N       <NA>       CA   \n 7 1003047531 I      207L00000X <NA>  N       30135      OK   \n 8 1003047531 I      207L00000X <NA>  N       MD60681697 WA   \n 9 1003052903 I      2084P0800X <NA>  Y       087968     NY   \n10 1003063173 I      208G00000X <NA>  Y       5499       OK   \n# ℹ 21,522 more rows\n\n$Organization\n# A tibble: 6,603 × 7\n   npi        entity code       group      primary license   state\n   <chr>      <chr>  <chr>      <chr>      <fct>   <chr>     <chr>\n 1 1003096488 O      261Q00000X <NA>       Y       12-296    MS   \n 2 1003196072 O      3416L0300X <NA>       Y       23-255    OH   \n 3 1003199829 O      207YS0123X 193400000X Y       10000     ND   \n 4 1003200874 O      253Z00000X <NA>       Y       <NA>      <NA> \n 5 1003200874 O      251E00000X <NA>       N       HHA201205 NE   \n 6 1003330226 O      251E00000X <NA>       Y       <NA>      <NA> \n 7 1003330226 O      251J00000X <NA>       N       <NA>      <NA> \n 8 1003337734 O      324500000X <NA>       Y       <NA>      <NA> \n 9 1003407230 O      261QM1300X <NA>       Y       <NA>      <NA> \n10 1003407230 O      101Y00000X 193200000X N       <NA>      <NA> \n# ℹ 6,593 more rows\n```\n\n\n:::\n:::\n\n\n\n\n## Identifiers\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwk_2024_01_01_id <- wk_2024_01_01$identifier |> \n  reframe(\n    npi,\n    identifier = other_id,\n    identifier_type = other_id_code,\n    identifier_state = other_id_state,\n    identifier_issuer = other_id_issuer) |> \n  left_join(wk_2024_01_01_base[c(\"npi\", \"entity\")], by = join_by(npi))\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_01_base' not found\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_01_id |> filter(entity == \"I\") |> remove_quiet()\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_01_id' not found\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_01_id |> filter(entity == \"O\") |> remove_quiet()\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_01_id' not found\n```\n\n\n:::\n:::\n\n\n\n\n## Other\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwk_2024_01_01_other <- wk_2024_01_01$other |> \n  reframe(\n    npi,\n    other_org_name,\n    other_org_type,\n    other_prefix,\n    other_first_name = other_first,\n    other_middle_name = other_middle,\n    other_last_name = other_last,\n    other_last_type,\n    other_suffix,\n    other_credential\n    ) |> \n  left_join(wk_2024_01_01_base[c(\"npi\", \"entity\")], by = join_by(npi))\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_01_base' not found\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_01_other |> filter(entity == \"I\") |> remove_quiet()\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_01_other' not found\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_01_other |> filter(entity == \"O\") |> remove_quiet()\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_01_other' not found\n```\n\n\n:::\n:::\n\n\n\n\n## Authorized\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwk_2024_01_01_ao <- wk_2024_01_01$authorized |> \n  reframe(\n    npi,\n    ao_prefix,\n    ao_first_name = ao_first,\n    ao_last_name = ao_last,\n    ao_middle_name = ao_middle,\n    ao_suffix,\n    ao_title,\n    ao_phone)\n\nwk_2024_01_01_ao\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 3,917 × 8\n   npi    ao_prefix ao_first_name ao_last_name ao_middle_name ao_suffix ao_title\n   <chr>  <chr>     <chr>         <chr>        <chr>          <chr>     <chr>   \n 1 19527… <NA>      MICHELE       WHITE        <NA>           <NA>      OWNER   \n 2 15489… <NA>      TANESHA       MORGAN       <NA>           <NA>      CEO     \n 3 12955… <NA>      KENDRA        TAYLOR       <NA>           <NA>      OWNER   \n 4 13864… <NA>      MELISSA       DELLA FEMINA <NA>           <NA>      OWNER   \n 5 15581… MRS.      MALYNDI       WEST         R.             <NA>      OWNER &…\n 6 18218… <NA>      AURORA        HOYLE        CANE           <NA>      PRIMARY…\n 7 16490… DR.       ASMITA        PATEL        <NA>           <NA>      SECRETA…\n 8 12753… MR.       RANGANARAYAN  NARASIMHAN   <NA>           <NA>      MANAGER…\n 9 13561… DR.       AKRAM         ABD EL KADER <NA>           <NA>      PHYSICI…\n10 15086… <NA>      JAYSON        ROWLAND      <NA>           <NA>      HYPNOTH…\n# ℹ 3,907 more rows\n# ℹ 1 more variable: ao_phone <chr>\n```\n\n\n:::\n:::\n\n\n\n\n<hr>\n\n\n\n\n{{< pagebreak >}}\n\n\n\n\n\n\n# January 22, 2024\n\n## Deactivated\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwk_2024_01_22_deact <- wk_2024_01_22$basic |> \n  filter(!is.na(deact_date), is.na(react_date)) |> \n  remove_quiet()\n\nwk_2024_01_22_deact_npi <- sf_convert(uniq_narm(wk_2024_01_22_deact$npi))\n\nlength(wk_2024_01_22_deact_npi)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1002\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_22_deact |> count(deact_date)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 7 × 2\n  deact_date     n\n  <date>     <int>\n1 2024-01-22    23\n2 2024-01-23    26\n3 2024-01-24   548\n4 2024-01-25   330\n5 2024-01-26    69\n6 2024-01-27     4\n7 2024-01-28     2\n```\n\n\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwk_2024_01_01_base |> filter(npi %in% wk_2024_01_22_deact_npi)\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_01_base' not found\n```\n\n\n:::\n:::\n\n\n\n\n## Base\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwk_2024_01_22_base <- filter(wk_2024_01_22$basic, !npi %in% wk_2024_01_22_deact_npi)\nwk_2024_01_22_ind <- filter(wk_2024_01_22_basic, entity == \"Ind\") |> remove_quiet()\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_22_basic' not found\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_22_org <- filter(wk_2024_01_22_basic, entity == \"Org\") |> remove_quiet()\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_22_basic' not found\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_22_ind\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_22_ind' not found\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_22_org\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_22_org' not found\n```\n\n\n:::\n:::\n\n\n\n\n\n## Address\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwk_2024_01_22$address |> \n  filter(!npi %in% wk_2024_01_22_deact_npi) |> \n  pivot_longer(-npi, names_to = \"type_part\", values_to = \"value\") |> \n  separate_wider_delim(type_part, delim = \"_\", names = c(\"type\", \"part\")) |> \n  pivot_wider(names_from = part, values_from = value) |> \n  mutate(type = case_match(type,\n                           \"mail\" ~ \"Mailing\",\n                           \"prac\" ~ \"Practice\",\n                           .default = type))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 49,026 × 9\n   npi        type     address             city  state zip   country phone fax  \n   <chr>      <chr>    <chr>               <chr> <chr> <chr> <chr>   <chr> <chr>\n 1 1609339746 Mailing  216 W 10TH AVE STE… KENN… WA    9933… US      5092… <NA> \n 2 1609339746 Practice 100 E 77TH ST FL 4  NEW … NY    1007… US      2124… <NA> \n 3 1427745280 Mailing  7880 W MAULE AVE U… LAS … NV    8911… US      2134… <NA> \n 4 1427745280 Practice 8402 W WARM SPRING… LAS … NV    8911… US      7028… <NA> \n 5 1275304610 Mailing  3433 W SHAW AVE ST… FRES… CA    9371… US      5595… <NA> \n 6 1275304610 Practice 4411 E KINGS CANYO… FRES… CA    9370… US      5596… <NA> \n 7 1013531284 Mailing  1950 W POLK ST      CHIC… IL    6061… US      3128… <NA> \n 8 1013531284 Practice 1950 W POLK ST      CHIC… IL    6061… US      3128… <NA> \n 9 1710569975 Mailing  14545 FRIAR ST STE… VAN … CA    9141… US      <NA>  <NA> \n10 1710569975 Practice 14545 FRIAR ST STE… VAN … CA    9141… US      8188… <NA> \n# ℹ 49,016 more rows\n```\n\n\n:::\n:::\n\n\n\n\n## Taxonomy\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwk_2024_01_22$taxonomy\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 36,727 × 6\n   npi        taxonomy_code taxonomy_group taxonomy_primary license_number    \n   <chr>      <chr>         <chr>          <fct>            <chr>             \n 1 1003021312 101Y00000X    <NA>           Y                <NA>              \n 2 1003034091 207V00000X    <NA>           Y                M6178             \n 3 1003041187 207P00000X    <NA>           Y                260606            \n 4 1003041187 207PE0004X    <NA>           N                260606            \n 5 1003047390 341600000X    <NA>           Y                02-0299250        \n 6 1003047911 101Y00000X    <NA>           Y                <NA>              \n 7 1003067026 363LP0808X    <NA>           Y                C-APN.0003994-C-NP\n 8 1003067026 363LF0000X    <NA>           N                RN150295          \n 9 1003067471 3336L0003X    <NA>           Y                2008028915        \n10 1003067471 332B00000X    <NA>           N                2008028915        \n# ℹ 36,717 more rows\n# ℹ 1 more variable: license_state <chr>\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_22_taxonomy <- wk_2024_01_22$taxonomy |> \n  reframe(\n    npi,\n    txn_code = taxonomy_code,\n    txn_group = taxonomy_group,\n    txn_primary = taxonomy_primary,\n    txn_license = license_number,\n    txn_state = license_state) |> \n  left_join(wk_2024_01_22_basic[c(\"npi\", \"entity\")], by = join_by(npi))\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_22_basic' not found\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_22_taxonomy |> filter(entity == \"Ind\") |> remove_quiet()\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_22_taxonomy' not found\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_22_taxonomy |> filter(entity == \"Org\") |> remove_quiet()\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_22_taxonomy' not found\n```\n\n\n:::\n:::\n\n\n\n\n## Identifiers\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwk_2024_01_22$identifier\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5,368 × 5\n   npi        other_id   other_id_code other_id_state other_id_issuer           \n   <chr>      <chr>      <chr>         <chr>          <chr>                     \n 1 1265429203 253098800  05            FL             <NA>                      \n 2 1265429203 41576      01            FL             BC FLORIDA                \n 3 1760832117 PI831      01            FL             HFPSI MA                  \n 4 1760832117 PI832      01            FL             HFIC MA                   \n 5 1669420758 200818080  05            IN             <NA>                      \n 6 1427819077 7000346532 01            SC             SOUTH CAROLINA  STATE PRO…\n 7 1376599415 110079944A 05            MA             <NA>                      \n 8 1205697869 97633241   05            CO             <NA>                      \n 9 1023879681 97633241   05            CO             <NA>                      \n10 1013059781 056633100  05            MD             <NA>                      \n# ℹ 5,358 more rows\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_22_id <- wk_2024_01_22$identifier |> \n  reframe(\n    npi,\n    id = other_id,\n    id_type = other_id_code,\n    id_state = other_id_state,\n    id_issuer = other_id_issuer) |> \n  left_join(wk_2024_01_22_basic[c(\"npi\", \"entity\")], by = join_by(npi))\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_22_basic' not found\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_22_id |> filter(entity == \"Ind\") |> remove_quiet()\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_22_id' not found\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_22_id |> filter(entity == \"Org\") |> remove_quiet()\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_22_id' not found\n```\n\n\n:::\n:::\n\n\n\n\n## Other\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwk_2024_01_22_other <- wk_2024_01_22$other |> \n  reframe(\n    npi,\n    other_org_name,\n    other_org_type,\n    other_prefix,\n    other_first_name = other_first,\n    other_middle_name = other_middle,\n    other_last_name = other_last,\n    other_last_type,\n    other_suffix,\n    other_credential\n    ) |> \n  left_join(wk_2024_01_22_basic[c(\"npi\", \"entity\")], by = join_by(npi))\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_22_basic' not found\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_22_other |> filter(entity == \"Ind\") |> remove_quiet()\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_22_other' not found\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_01_22_other |> filter(entity == \"Org\") |> remove_quiet()\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_22_other' not found\n```\n\n\n:::\n:::\n\n\n\n\n## Authorized\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwk_2024_01_22_ao <- wk_2024_01_22$authorized |> \n  reframe(\n    npi,\n    ao_prefix,\n    ao_first_name = ao_first,\n    ao_last_name = ao_last,\n    ao_middle_name = ao_middle,\n    ao_suffix,\n    ao_title,\n    ao_phone)\n\nwk_2024_01_22_ao\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5,533 × 8\n   npi    ao_prefix ao_first_name ao_last_name ao_middle_name ao_suffix ao_title\n   <chr>  <chr>     <chr>         <chr>        <chr>          <chr>     <chr>   \n 1 17105… <NA>      SARGIS        AYVAZYAN     <NA>           <NA>      CEO     \n 2 12751… <NA>      SARGIS        AYVAZYAN     <NA>           <NA>      CEO     \n 3 10739… <NA>      JOEL          SCALF        <NA>           <NA>      PRESIDE…\n 4 14570… <NA>      SHAMEKA       CAMPBELL     <NA>           <NA>      ADMINIS…\n 5 16696… DR.       ROANNA        KESSLER      <NA>           <NA>      CHIEF M…\n 6 18319… <NA>      RABIH         MEHDI        A              <NA>      OWNER   \n 7 14773… MS.       NETIECE       BROOKS       L              <NA>      CEO     \n 8 19127… <NA>      SHERITA       MCQUEEN      <NA>           <NA>      FOUNDER…\n 9 18218… <NA>      QUASHEKA      DAVIS        <NA>           <NA>      ADMINIS…\n10 13763… <NA>      ESPERNITA     GOODEN       <NA>           <NA>      OWNER   \n# ℹ 5,523 more rows\n# ℹ 1 more variable: ao_phone <chr>\n```\n\n\n:::\n:::\n\n\n\n\n<hr>\n\n\n\n\n{{< pagebreak >}}\n\n\n\n\n\n\n# February 05, 2024\n\n## Deactivated\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwk_2024_02_05_deact <- wk_2024_02_05$basic |> \n  filter(!is.na(deact_date), is.na(react_date)) |> \n  remove_quiet()\n\nwk_2024_02_05_deact_npi <- sf_convert(uniq_narm(wk_2024_02_05_deact$npi))\n\nlength(wk_2024_02_05_deact_npi)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 850\n```\n\n\n:::\n\n```{.r .cell-code}\nwk_2024_02_05_deact |> count(deact_date)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 7 × 2\n  deact_date     n\n  <date>     <int>\n1 2024-02-05   175\n2 2024-02-06    84\n3 2024-02-07   499\n4 2024-02-08    65\n5 2024-02-09    22\n6 2024-02-10     2\n7 2024-02-11     3\n```\n\n\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nwk_2024_01_01_base |> \n  filter(npi %in% c(wk_2024_01_22_deact_npi, wk_2024_02_05_deact_npi))\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError: object 'wk_2024_01_01_base' not found\n```\n\n\n:::\n:::\n\n\n\n\n\n<hr>\n\n\n\n\n{{< pagebreak >}}\n\n\n\n\n\n\n\n## Session Information \n\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n**R version 4.4.2 (2024-10-31 ucrt)**\n\n**Platform:** x86_64-w64-mingw32/x64 \n\n**locale:**\n_LC_COLLATE=English_United States.utf8_, _LC_CTYPE=English_United States.utf8_, _LC_MONETARY=English_United States.utf8_, _LC_NUMERIC=C_ and _LC_TIME=English_United States.utf8_\n\n**attached base packages:** \n_stats_, _graphics_, _grDevices_, _utils_, _datasets_, _methods_ and _base_\n\n**other attached packages:** \n_nppez(v.0.0.1)_, _codex(v.0.0.1)_, _fuimus(v.0.0.2)_, _collapse(v.2.0.17)_, _data.table(v.1.16.99)_, _lubridate(v.1.9.3)_, _forcats(v.1.0.0)_, _stringr(v.1.5.1)_, _dplyr(v.1.1.4)_, _purrr(v.1.0.2)_, _readr(v.2.1.5)_, _tidyr(v.1.3.1)_, _tibble(v.3.2.1)_, _ggplot2(v.3.5.1)_ and _tidyverse(v.2.0.0)_\n\n**loaded via a namespace (and not attached):** \n_rappdirs(v.0.3.3)_, _utf8(v.1.2.4)_, _generics(v.0.1.3)_, _stringi(v.1.8.4)_, _hms(v.1.1.3)_, _digest(v.0.6.37)_, _magrittr(v.2.0.3)_, _evaluate(v.1.0.1)_, _grid(v.4.4.2)_, _timechange(v.0.3.0)_, _fastmap(v.1.2.0)_, _jsonlite(v.1.8.9)_, _pins(v.1.4.0)_, _pander(v.0.6.5)_, _fansi(v.1.0.6)_, _scales(v.1.3.0)_, _textshaping(v.0.4.0)_, _RApiSerialize(v.0.1.4)_, _cli(v.3.6.3)_, _rlang(v.1.1.4)_, _munsell(v.0.5.1)_, _withr(v.3.0.2)_, _yaml(v.2.3.10)_, _qs(v.0.27.2)_, _tools(v.4.4.2)_, _parallel(v.4.4.2)_, _tzdb(v.0.4.0)_, _colorspace(v.2.1-1)_, _vctrs(v.0.6.5)_, _R6(v.2.5.1)_, _lifecycle(v.1.0.4)_, _snakecase(v.0.11.1)_, _cheapr(v.0.9.91)_, _stringfish(v.0.16.0)_, _fs(v.1.6.5)_, _htmlwidgets(v.1.6.4)_, _janitor(v.2.2.0)_, _ragg(v.1.3.3)_, _pkgconfig(v.2.0.3)_, _RcppParallel(v.5.1.9)_, _pillar(v.1.9.0)_, _gtable(v.0.3.6)_, _glue(v.1.8.0)_, _Rcpp(v.1.0.13-1)_, _systemfonts(v.1.1.0)_, _xfun(v.0.49)_, _tidyselect(v.1.2.1)_, _rstudioapi(v.0.17.1)_, _knitr(v.1.49)_, _htmltools(v.0.5.8.1)_, _rmarkdown(v.2.29)_ and _compiler(v.4.4.2)_\n:::\n:::\n",
    "supporting": [
      "nppes_archives_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}